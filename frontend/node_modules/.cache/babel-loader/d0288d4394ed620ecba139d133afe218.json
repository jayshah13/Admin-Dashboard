{"ast":null,"code":"import { debounce, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\n/**\n * `Undo` module is used to handle undo actions.\n */\n\nvar UndoRedoCommands =\n/** @class */\nfunction () {\n  function UndoRedoCommands(parent, options) {\n    this.undoRedoStack = [];\n    this.parent = parent;\n    this.undoRedoSteps = !isNullOrUndefined(options) ? options.undoRedoSteps : 30;\n    this.undoRedoTimer = !isNullOrUndefined(options) ? options.undoRedoTimer : 300;\n    this.selection = this.parent.markdownSelection;\n    this.addEventListener();\n  }\n\n  UndoRedoCommands.prototype.addEventListener = function () {\n    var debounceListener = debounce(this.keyUp, this.undoRedoTimer);\n    this.parent.observer.on(EVENTS.KEY_UP_HANDLER, debounceListener, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDown, this);\n    this.parent.observer.on(EVENTS.ACTION, this.onAction, this);\n    this.parent.observer.on(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged, this);\n  };\n\n  UndoRedoCommands.prototype.onPropertyChanged = function (props) {\n    for (var _i = 0, _a = Object.keys(props.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'undoRedoSteps':\n          this.undoRedoSteps = props.newProp.undoRedoSteps;\n          break;\n\n        case 'undoRedoTimer':\n          this.undoRedoTimer = props.newProp.undoRedoTimer;\n          break;\n      }\n    }\n  };\n\n  UndoRedoCommands.prototype.removeEventListener = function () {\n    var debounceListener = debounce(this.keyUp, 300);\n    this.parent.observer.off(EVENTS.KEY_UP_HANDLER, debounceListener);\n    this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.keyDown);\n    this.parent.observer.off(EVENTS.ACTION, this.onAction);\n    this.parent.observer.off(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged);\n  };\n  /**\n   * Destroys the ToolBar.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n  /**\n   * onAction method\n   *\n   * @param {IMarkdownSubCommands} e - specifies the sub commands\n   * @returns {void}\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.onAction = function (e) {\n    if (e.subCommand === 'Undo') {\n      this.undo(e);\n    } else {\n      this.redo(e);\n    }\n  };\n\n  UndoRedoCommands.prototype.keyDown = function (e) {\n    var event = e.event; // eslint-disable-next-line\n\n    var proxy = this;\n\n    switch (event.action) {\n      case 'undo':\n        event.preventDefault();\n        proxy.undo(e);\n        break;\n\n      case 'redo':\n        event.preventDefault();\n        proxy.redo(e);\n        break;\n    }\n  };\n\n  UndoRedoCommands.prototype.keyUp = function (e) {\n    if (e.event.keyCode !== 17 && !e.event.ctrlKey) {\n      this.saveData(e);\n    }\n  };\n  /**\n   * MD collection stored string format.\n   *\n   * @param {KeyboardEvent} e - specifies the key board event\n   * @function saveData\n   * @returns {void}\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.saveData = function (e) {\n    var textArea = this.parent.element;\n    this.selection.save(textArea.selectionStart, textArea.selectionEnd);\n    var start = textArea.selectionStart;\n    var end = textArea.selectionEnd;\n    var textValue = this.parent.element.value;\n    var changEle = {\n      text: textValue,\n      start: start,\n      end: end\n    };\n\n    if (this.undoRedoStack.length >= this.steps) {\n      this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1);\n    }\n\n    if (this.undoRedoStack.length > 1 && this.undoRedoStack[this.undoRedoStack.length - 1].start === start && this.undoRedoStack[this.undoRedoStack.length - 1].end === end) {\n      return;\n    }\n\n    this.undoRedoStack.push(changEle);\n    this.steps = this.undoRedoStack.length - 1;\n\n    if (this.steps > this.undoRedoSteps) {\n      this.undoRedoStack.shift();\n      this.steps--;\n    }\n\n    if (e && e.callBack) {\n      e.callBack();\n    }\n  };\n  /**\n   * Undo the editable text.\n   *\n   * @param {IMarkdownSubCommands} e - specifies the sub commands\n   * @function undo\n   * @returns {void}\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.undo = function (e) {\n    if (this.steps > 0) {\n      this.currentAction = 'Undo';\n      var start = this.undoRedoStack[this.steps - 1].start;\n      var end = this.undoRedoStack[this.steps - 1].end;\n      var removedContent = this.undoRedoStack[this.steps - 1].text;\n      this.parent.element.value = removedContent;\n      this.parent.element.focus();\n      this.steps--;\n      this.restore(this.parent.element, start, end, e);\n    }\n  };\n  /**\n   * Redo the editable text.\n   *\n   * @param {IMarkdownSubCommands} e - specifies the sub commands\n   * @function redo\n   * @returns {void}\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.redo = function (e) {\n    if (this.undoRedoStack[this.steps + 1] != null) {\n      this.currentAction = 'Redo';\n      var start = this.undoRedoStack[this.steps + 1].start;\n      var end = this.undoRedoStack[this.steps + 1].end;\n      this.parent.element.value = this.undoRedoStack[this.steps + 1].text;\n      this.parent.element.focus();\n      this.steps++;\n      this.restore(this.parent.element, start, end, e);\n    }\n  };\n\n  UndoRedoCommands.prototype.restore = function (textArea, start, end, event) {\n    this.selection.save(start, end);\n    this.selection.restore(textArea);\n\n    if (event && event.callBack) {\n      event.callBack({\n        requestType: this.currentAction,\n        selectedText: this.selection.getSelectedText(textArea),\n        editorMode: 'Markdown',\n        event: event.event\n      });\n    }\n  };\n  /**\n   * getUndoStatus method\n   *\n   * @returns {boolean} - returns the boolean value\n   * @hidden\n    */\n\n\n  UndoRedoCommands.prototype.getUndoStatus = function () {\n    var status = {\n      undo: false,\n      redo: false\n    };\n\n    if (this.steps > 0) {\n      status.undo = true;\n    }\n\n    if (this.undoRedoStack[this.steps + 1] != null) {\n      status.redo = true;\n    }\n\n    return status;\n  };\n\n  return UndoRedoCommands;\n}();\n\nexport { UndoRedoCommands };","map":{"version":3,"names":["debounce","isNullOrUndefined","EVENTS","UndoRedoCommands","parent","options","undoRedoStack","undoRedoSteps","undoRedoTimer","selection","markdownSelection","addEventListener","prototype","debounceListener","keyUp","observer","on","KEY_UP_HANDLER","KEY_DOWN_HANDLER","keyDown","ACTION","onAction","MODEL_CHANGED_PLUGIN","onPropertyChanged","props","_i","_a","Object","keys","newProp","length","prop","removeEventListener","off","destroy","e","subCommand","undo","redo","event","proxy","action","preventDefault","keyCode","ctrlKey","saveData","textArea","element","save","selectionStart","selectionEnd","start","end","textValue","value","changEle","text","steps","slice","push","shift","callBack","currentAction","removedContent","focus","restore","requestType","selectedText","getSelectedText","editorMode","getUndoStatus","status"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-richtexteditor/src/markdown-parser/plugin/undo.js"],"sourcesContent":["import { debounce, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\n/**\n * `Undo` module is used to handle undo actions.\n */\nvar UndoRedoCommands = /** @class */ (function () {\n    function UndoRedoCommands(parent, options) {\n        this.undoRedoStack = [];\n        this.parent = parent;\n        this.undoRedoSteps = !isNullOrUndefined(options) ? options.undoRedoSteps : 30;\n        this.undoRedoTimer = !isNullOrUndefined(options) ? options.undoRedoTimer : 300;\n        this.selection = this.parent.markdownSelection;\n        this.addEventListener();\n    }\n    UndoRedoCommands.prototype.addEventListener = function () {\n        var debounceListener = debounce(this.keyUp, this.undoRedoTimer);\n        this.parent.observer.on(EVENTS.KEY_UP_HANDLER, debounceListener, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.keyDown, this);\n        this.parent.observer.on(EVENTS.ACTION, this.onAction, this);\n        this.parent.observer.on(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged, this);\n    };\n    UndoRedoCommands.prototype.onPropertyChanged = function (props) {\n        for (var _i = 0, _a = Object.keys(props.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'undoRedoSteps':\n                    this.undoRedoSteps = props.newProp.undoRedoSteps;\n                    break;\n                case 'undoRedoTimer':\n                    this.undoRedoTimer = props.newProp.undoRedoTimer;\n                    break;\n            }\n        }\n    };\n    UndoRedoCommands.prototype.removeEventListener = function () {\n        var debounceListener = debounce(this.keyUp, 300);\n        this.parent.observer.off(EVENTS.KEY_UP_HANDLER, debounceListener);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.keyDown);\n        this.parent.observer.off(EVENTS.ACTION, this.onAction);\n        this.parent.observer.off(EVENTS.MODEL_CHANGED_PLUGIN, this.onPropertyChanged);\n    };\n    /**\n     * Destroys the ToolBar.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    /**\n     * onAction method\n     *\n     * @param {IMarkdownSubCommands} e - specifies the sub commands\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.onAction = function (e) {\n        if (e.subCommand === 'Undo') {\n            this.undo(e);\n        }\n        else {\n            this.redo(e);\n        }\n    };\n    UndoRedoCommands.prototype.keyDown = function (e) {\n        var event = e.event;\n        // eslint-disable-next-line\n        var proxy = this;\n        switch (event.action) {\n            case 'undo':\n                event.preventDefault();\n                proxy.undo(e);\n                break;\n            case 'redo':\n                event.preventDefault();\n                proxy.redo(e);\n                break;\n        }\n    };\n    UndoRedoCommands.prototype.keyUp = function (e) {\n        if (e.event.keyCode !== 17 && !e.event.ctrlKey) {\n            this.saveData(e);\n        }\n    };\n    /**\n     * MD collection stored string format.\n     *\n     * @param {KeyboardEvent} e - specifies the key board event\n     * @function saveData\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.saveData = function (e) {\n        var textArea = this.parent.element;\n        this.selection.save(textArea.selectionStart, textArea.selectionEnd);\n        var start = textArea.selectionStart;\n        var end = textArea.selectionEnd;\n        var textValue = this.parent.element.value;\n        var changEle = { text: textValue, start: start, end: end };\n        if (this.undoRedoStack.length >= this.steps) {\n            this.undoRedoStack = this.undoRedoStack.slice(0, this.steps + 1);\n        }\n        if (this.undoRedoStack.length > 1 && (this.undoRedoStack[this.undoRedoStack.length - 1].start === start) &&\n            (this.undoRedoStack[this.undoRedoStack.length - 1].end === end)) {\n            return;\n        }\n        this.undoRedoStack.push(changEle);\n        this.steps = this.undoRedoStack.length - 1;\n        if (this.steps > this.undoRedoSteps) {\n            this.undoRedoStack.shift();\n            this.steps--;\n        }\n        if (e && e.callBack) {\n            e.callBack();\n        }\n    };\n    /**\n     * Undo the editable text.\n     *\n     * @param {IMarkdownSubCommands} e - specifies the sub commands\n     * @function undo\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.undo = function (e) {\n        if (this.steps > 0) {\n            this.currentAction = 'Undo';\n            var start = this.undoRedoStack[this.steps - 1].start;\n            var end = this.undoRedoStack[this.steps - 1].end;\n            var removedContent = this.undoRedoStack[this.steps - 1].text;\n            this.parent.element.value = removedContent;\n            this.parent.element.focus();\n            this.steps--;\n            this.restore(this.parent.element, start, end, e);\n        }\n    };\n    /**\n     * Redo the editable text.\n     *\n     * @param {IMarkdownSubCommands} e - specifies the sub commands\n     * @function redo\n     * @returns {void}\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.redo = function (e) {\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            this.currentAction = 'Redo';\n            var start = this.undoRedoStack[this.steps + 1].start;\n            var end = this.undoRedoStack[this.steps + 1].end;\n            this.parent.element.value = this.undoRedoStack[this.steps + 1].text;\n            this.parent.element.focus();\n            this.steps++;\n            this.restore(this.parent.element, start, end, e);\n        }\n    };\n    UndoRedoCommands.prototype.restore = function (textArea, start, end, event) {\n        this.selection.save(start, end);\n        this.selection.restore(textArea);\n        if (event && event.callBack) {\n            event.callBack({\n                requestType: this.currentAction,\n                selectedText: this.selection.getSelectedText(textArea),\n                editorMode: 'Markdown',\n                event: event.event\n            });\n        }\n    };\n    /**\n     * getUndoStatus method\n     *\n     * @returns {boolean} - returns the boolean value\n     * @hidden\n\n     */\n    UndoRedoCommands.prototype.getUndoStatus = function () {\n        var status = { undo: false, redo: false };\n        if (this.steps > 0) {\n            status.undo = true;\n        }\n        if (this.undoRedoStack[this.steps + 1] != null) {\n            status.redo = true;\n        }\n        return status;\n    };\n    return UndoRedoCommands;\n}());\nexport { UndoRedoCommands };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}