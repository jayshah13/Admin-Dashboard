{"ast":null,"code":"import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n  header: '.' + literals.gridHeader,\n  content: '.' + literals.gridContent,\n  edit: '.e-inline-edit',\n  batchEdit: '.e-editedbatchcell',\n  editIcon: 'e-edit',\n  pager: '.e-gridpager',\n  delete: 'e-delete',\n  save: 'e-save',\n  cancel: 'e-cancel',\n  copy: 'e-copy',\n  pdf: 'e-pdfexport',\n  group: 'e-icon-group',\n  ungroup: 'e-icon-ungroup',\n  csv: 'e-csvexport',\n  excel: 'e-excelexport',\n  fPage: 'e-icon-first',\n  nPage: 'e-icon-next',\n  lPage: 'e-icon-last',\n  pPage: 'e-icon-prev',\n  ascending: 'e-icon-ascending',\n  descending: 'e-icon-descending',\n  groupHeader: 'e-groupdroparea',\n  touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  function ContextMenu(parent, serviceLocator) {\n    this.defaultItems = {};\n    this.disableItems = [];\n    this.hiddenItems = [];\n    this.localeText = this.setLocaleKey();\n    this.parent = parent;\n    this.gridID = parent.element.id;\n    this.serviceLocator = serviceLocator;\n    this.addEventListener();\n  }\n  /**\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n    this.parent.on(events.initialLoad, this.render, this);\n    this.parent.on(events.destroy, this.destroy, this);\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialLoad, this.render);\n    this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n    this.parent.off(events.destroy, this.destroy);\n    EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n  };\n\n  ContextMenu.prototype.keyDownHandler = function (e) {\n    if (e.code === 'Tab' || e.which === 9) {\n      this.contextMenu.close();\n    }\n\n    if (e.code === 'Escape') {\n      this.contextMenu.close();\n      this.parent.notify(events.restoreFocus, {});\n    }\n  };\n\n  ContextMenu.prototype.render = function () {\n    this.parent.element.classList.add('e-noselect');\n    this.l10n = this.serviceLocator.getService('localization');\n    this.element = this.parent.createElement('ul', {\n      id: this.gridID + '_cmenu'\n    });\n    EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n    this.parent.element.appendChild(this.element);\n    var target = '#' + this.gridID;\n    this.contextMenu = new Menu({\n      items: this.getMenuItems(),\n      enableRtl: this.parent.enableRtl,\n      enablePersistence: this.parent.enablePersistence,\n      locale: this.parent.locale,\n      target: target,\n      select: this.contextMenuItemClick.bind(this),\n      beforeOpen: this.contextMenuBeforeOpen.bind(this),\n      onOpen: this.contextMenuOpen.bind(this),\n      onClose: this.contextMenuOnClose.bind(this),\n      cssClass: 'e-grid-menu'\n    });\n    this.contextMenu.appendTo(this.element);\n  };\n\n  ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n    if (e.module === this.getModuleName() && e.enable) {\n      if (this.contextMenu) {\n        this.contextMenu.destroy();\n        remove(this.element);\n        this.parent.element.classList.remove('e-noselect');\n      }\n\n      this.render();\n    }\n  };\n\n  ContextMenu.prototype.getMenuItems = function () {\n    var menuItems = [];\n    var exportItems = [];\n\n    for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n      var item = _a[_i];\n\n      if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n        if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n          exportItems.push(this.buildDefaultItems(item));\n        } else {\n          menuItems.push(this.buildDefaultItems(item));\n        }\n      } else if (typeof item !== 'string') {\n        menuItems.push(item);\n      }\n    }\n\n    if (exportItems.length > 0) {\n      var exportGroup = this.buildDefaultItems('export');\n      exportGroup.items = exportItems;\n      menuItems.push(exportGroup);\n    }\n\n    return menuItems;\n  };\n\n  ContextMenu.prototype.getLastPage = function () {\n    var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n\n    if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n      totalpage += 1;\n    }\n\n    return totalpage;\n  };\n\n  ContextMenu.prototype.contextMenuOpen = function () {\n    this.isOpen = true;\n  };\n  /**\n   * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.contextMenuItemClick = function (args) {\n    var item = this.getKeyFromId(args.item.id);\n\n    switch (item) {\n      case 'AutoFitAll':\n        this.parent.autoFitColumns([]);\n        break;\n\n      case 'AutoFit':\n        this.parent.autoFitColumns(this.targetColumn.field);\n        break;\n\n      case 'Group':\n        this.parent.groupColumn(this.targetColumn.field);\n        break;\n\n      case 'Ungroup':\n        this.parent.ungroupColumn(this.targetColumn.field);\n        break;\n\n      case 'Edit':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode === 'Batch') {\n            if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10))) {\n              this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10), // eslint-disable-next-line\n              this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10)].field);\n            }\n          } else {\n            this.parent.editModule.endEdit();\n            this.parent.editModule.startEdit(this.row);\n          }\n        }\n\n        break;\n\n      case 'Delete':\n        if (this.parent.editModule) {\n          if (this.parent.editSettings.mode !== 'Batch') {\n            this.parent.editModule.endEdit();\n          }\n\n          if (this.parent.getSelectedRecords().length === 1) {\n            this.parent.editModule.deleteRow(this.row);\n          } else {\n            this.parent.deleteRecord();\n          }\n        }\n\n        break;\n\n      case 'Save':\n        if (this.parent.editModule) {\n          this.parent.editModule.endEdit();\n        }\n\n        break;\n\n      case 'Cancel':\n        if (this.parent.editModule) {\n          this.parent.editModule.closeEdit();\n        }\n\n        break;\n\n      case 'Copy':\n        this.parent.copy();\n        break;\n\n      case 'PdfExport':\n        this.parent.pdfExport();\n        break;\n\n      case 'ExcelExport':\n        this.parent.excelExport();\n        break;\n\n      case 'CsvExport':\n        this.parent.csvExport();\n        break;\n\n      case 'SortAscending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n        break;\n\n      case 'SortDescending':\n        this.isOpen = false;\n        this.parent.sortColumn(this.targetColumn.field, 'Descending');\n        break;\n\n      case 'FirstPage':\n        this.parent.goToPage(1);\n        break;\n\n      case 'PrevPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n        break;\n\n      case 'LastPage':\n        this.parent.goToPage(this.getLastPage());\n        break;\n\n      case 'NextPage':\n        this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n        break;\n    }\n\n    args.column = this.targetColumn;\n    args.rowInfo = this.targetRowdata;\n    this.parent.trigger(events.contextMenuClick, args);\n  };\n\n  ContextMenu.prototype.contextMenuOnClose = function (args) {\n    var parent = 'parentObj';\n\n    if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n      this.updateItemStatus();\n    }\n\n    this.parent.notify(events.selectRowOnContextOpen, {\n      isOpen: false\n    });\n  };\n\n  ContextMenu.prototype.getLocaleText = function (item) {\n    return this.l10n.getConstant(this.localeText[item]);\n  };\n\n  ContextMenu.prototype.updateItemStatus = function () {\n    this.contextMenu.showItems(this.hiddenItems);\n    this.contextMenu.enableItems(this.disableItems);\n    this.hiddenItems = [];\n    this.disableItems = [];\n    this.isOpen = false;\n  };\n\n  ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n    var closestGrid = closest(args.event.target, '.e-grid');\n\n    if (args.event && closestGrid && closestGrid !== this.parent.element) {\n      args.cancel = true;\n    } else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader) || closest(args.event.target, '.' + menuClass.touchPop) || closest(args.event.target, '.e-summarycell') || closest(args.event.target, '.e-groupcaption') || closest(args.event.target, '.e-filterbarcell'))) {\n      args.cancel = true;\n    } else {\n      this.targetColumn = this.getColumn(args.event);\n\n      if (parentsUntil(args.event.target, 'e-grid')) {\n        this.targetRowdata = this.parent.getRowInfo(args.event.target);\n      }\n\n      if (isNullOrUndefined(args.parentItem) && this.targetColumn) {\n        if (this.targetRowdata.cell) {\n          this.parent.notify(events.selectRowOnContextOpen, {\n            isOpen: true\n          });\n          this.selectRow(args.event, this.targetRowdata.cell.classList.contains('e-selectionbackground') && this.parent.selectionSettings.type === 'Multiple' ? false : true);\n        }\n      }\n\n      var hideSepItems = [];\n      var showSepItems = [];\n\n      for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n        var item = _a[_i];\n        var key = this.getKeyFromId(item.id);\n        var dItem = this.defaultItems[key];\n\n        if (this.getDefaultItems().indexOf(key) !== -1) {\n          if (this.ensureDisabledStatus(key)) {\n            this.disableItems.push(item.text);\n          }\n\n          if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) || this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n            if (key !== 'Save' && key !== 'Cancel') {\n              this.hiddenItems.push(item.text);\n            }\n          } else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' && (closest(args.event.target, '.e-gridform') || this.parent.editModule.getBatchChanges()[literals.changedRecords].length || this.parent.editModule.getBatchChanges()[literals.addedRecords].length || this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n            continue;\n          } else if (isNullOrUndefined(args.parentItem) && args.event && !this.ensureTarget(args.event.target, dItem.target)) {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (item.target && args.event && !this.ensureTarget(args.event.target, item.target)) {\n          if (item.separator) {\n            hideSepItems.push(item.id);\n          } else {\n            this.hiddenItems.push(item.text);\n          }\n        } else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n          showSepItems.push(item.id);\n        }\n      }\n\n      if (showSepItems.length > 0) {\n        this.contextMenu.showItems(showSepItems, true);\n      }\n\n      this.contextMenu.enableItems(this.disableItems, false);\n      this.contextMenu.hideItems(this.hiddenItems);\n\n      if (hideSepItems.length > 0) {\n        this.contextMenu.hideItems(hideSepItems, true);\n      }\n\n      this.eventArgs = args.event;\n      args.column = this.targetColumn;\n      args.rowInfo = this.targetRowdata;\n      this.parent.trigger(events.contextMenuOpen, args);\n\n      if (args.cancel || this.hiddenItems.length === args.items.length && !args.parentItem) {\n        this.updateItemStatus();\n        args.cancel = true;\n      }\n    }\n\n    applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n  };\n\n  ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n    var target = targetElement;\n\n    if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n      target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n    } else if (selector === menuClass.content || selector === menuClass.header) {\n      target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n    } else {\n      target = closest(targetElement, selector);\n    }\n\n    return target && parentsUntil(target, 'e-grid') === this.parent.element;\n  };\n\n  ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n    return (this.parent.isFrozenGrid() || this.parent.frozenRows) && closest(targetElement, menuClass.header) ? true : false;\n  };\n\n  ContextMenu.prototype.ensureDisabledStatus = function (item) {\n    var status = false;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit) || this.targetColumn && !this.targetColumn.field && item === 'AutoFit';\n        break;\n\n      case 'Group':\n        if (!this.parent.allowGrouping || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0 || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        }\n\n        break;\n\n      case 'Ungroup':\n        if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group) || this.parent.ensureModuleInjected(Group) && this.targetColumn && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Edit':\n      case 'Delete':\n      case 'Save':\n      case 'Cancel':\n        if (!this.parent.editModule || this.parent.getDataRows().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'Copy':\n        if (this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0 || this.parent.getCurrentViewRecords().length === 0) {\n          status = true;\n        }\n\n        break;\n\n      case 'export':\n        if (!this.parent.allowExcelExport || !this.parent.excelExport || !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'PdfExport':\n        if (!this.parent.allowPdfExport || !this.parent.ensureModuleInjected(PdfExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'ExcelExport':\n      case 'CsvExport':\n        if (!this.parent.allowExcelExport || !this.parent.ensureModuleInjected(ExcelExport)) {\n          status = true;\n        }\n\n        break;\n\n      case 'SortAscending':\n      case 'SortDescending':\n        if (!this.parent.allowSorting || !this.parent.ensureModuleInjected(Sort) || this.targetColumn && !this.targetColumn.field) {\n          status = true;\n        } else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n          var sortColumns = this.parent.sortSettings.columns;\n\n          for (var i = 0; i < sortColumns.length; i++) {\n            if (sortColumns[i].field === this.targetColumn.field && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n              status = true;\n            }\n          }\n        }\n\n        break;\n\n      case 'FirstPage':\n      case 'PrevPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1) {\n          status = true;\n        }\n\n        break;\n\n      case 'LastPage':\n      case 'NextPage':\n        if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) || this.parent.getCurrentViewRecords().length === 0 || this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage()) {\n          status = true;\n        }\n\n        break;\n    }\n\n    return status;\n  };\n  /**\n   * Gets the context menu element from the Grid.\n   *\n   * @returns {Element} returns the element\n   */\n\n\n  ContextMenu.prototype.getContextMenu = function () {\n    return this.element;\n  };\n  /**\n   * Destroys the context menu component in the Grid.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.destroy = function () {\n    var gridElement = this.parent.element;\n\n    if (!gridElement || !gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent)) {\n      return;\n    }\n\n    this.contextMenu.destroy();\n\n    if (this.element.parentNode) {\n      remove(this.element);\n    }\n\n    this.removeEventListener();\n    this.parent.element.classList.remove('e-noselect');\n  };\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextMenu';\n  };\n\n  ContextMenu.prototype.generateID = function (item) {\n    return this.gridID + '_cmenu_' + item;\n  };\n\n  ContextMenu.prototype.getKeyFromId = function (id) {\n    return id.replace(this.gridID + '_cmenu_', '');\n  };\n\n  ContextMenu.prototype.buildDefaultItems = function (item) {\n    var menuItem;\n\n    switch (item) {\n      case 'AutoFitAll':\n      case 'AutoFit':\n        menuItem = {\n          target: menuClass.header\n        };\n        break;\n\n      case 'Group':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.group\n        };\n        break;\n\n      case 'Ungroup':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ungroup\n        };\n        break;\n\n      case 'Edit':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.editIcon\n        };\n        break;\n\n      case 'Delete':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.delete\n        };\n        break;\n\n      case 'Save':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.save\n        };\n        break;\n\n      case 'Cancel':\n        menuItem = {\n          target: menuClass.edit,\n          iconCss: menuClass.cancel\n        };\n        break;\n\n      case 'Copy':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.copy\n        };\n        break;\n\n      case 'export':\n        menuItem = {\n          target: menuClass.content\n        };\n        break;\n\n      case 'PdfExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.pdf\n        };\n        break;\n\n      case 'ExcelExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.excel\n        };\n        break;\n\n      case 'CsvExport':\n        menuItem = {\n          target: menuClass.content,\n          iconCss: menuClass.csv\n        };\n        break;\n\n      case 'SortAscending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.ascending\n        };\n        break;\n\n      case 'SortDescending':\n        menuItem = {\n          target: menuClass.header,\n          iconCss: menuClass.descending\n        };\n        break;\n\n      case 'FirstPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.fPage\n        };\n        break;\n\n      case 'PrevPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.pPage\n        };\n        break;\n\n      case 'LastPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.lPage\n        };\n        break;\n\n      case 'NextPage':\n        menuItem = {\n          target: menuClass.pager,\n          iconCss: menuClass.nPage\n        };\n        break;\n    }\n\n    this.defaultItems[item] = {\n      text: this.getLocaleText(item),\n      id: this.generateID(item),\n      target: menuItem.target,\n      iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n    };\n    return this.defaultItems[item];\n  };\n\n  ContextMenu.prototype.getDefaultItems = function () {\n    return ['AutoFitAll', 'AutoFit', 'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export', 'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending', 'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n  };\n\n  ContextMenu.prototype.setLocaleKey = function () {\n    var localeKeys = {\n      'AutoFitAll': 'autoFitAll',\n      'AutoFit': 'autoFit',\n      'Copy': 'Copy',\n      'Group': 'Group',\n      'Ungroup': 'Ungroup',\n      'Edit': 'EditRecord',\n      'Delete': 'DeleteRecord',\n      'Save': 'Save',\n      'Cancel': 'CancelButton',\n      'PdfExport': 'Pdfexport',\n      'ExcelExport': 'Excelexport',\n      'CsvExport': 'Csvexport',\n      'export': 'Export',\n      'SortAscending': 'SortAscending',\n      'SortDescending': 'SortDescending',\n      'FirstPage': 'FirstPage',\n      'LastPage': 'LastPage',\n      'PrevPage': 'PreviousPage',\n      'NextPage': 'NextPage'\n    };\n    return localeKeys;\n  };\n\n  ContextMenu.prototype.getColumn = function (e) {\n    var cell = closest(e.target, 'th.e-headercell');\n\n    if (cell) {\n      var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n      return this.parent.getColumnByUid(uid);\n    } else {\n      var ele = this.parent.getRowInfo(e.target).column;\n      return ele || null;\n    }\n  };\n\n  ContextMenu.prototype.selectRow = function (e, isSelectable) {\n    this.cell = e.target;\n    this.row = closest(e.target, 'tr.e-row') || this.row;\n\n    if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n      this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10));\n    }\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"names":["closest","isNullOrUndefined","EventHandler","remove","ContextMenu","Menu","events","Resize","Page","parentsUntil","applyBiggerTheme","Group","Sort","PdfExport","ExcelExport","literals","menuClass","header","gridHeader","content","gridContent","edit","batchEdit","editIcon","pager","delete","save","cancel","copy","pdf","group","ungroup","csv","excel","fPage","nPage","lPage","pPage","ascending","descending","groupHeader","touchPop","parent","serviceLocator","defaultItems","disableItems","hiddenItems","localeText","setLocaleKey","gridID","element","id","addEventListener","prototype","isDestroyed","on","uiUpdate","enableAfterRenderMenu","initialLoad","render","destroy","removeEventListener","off","keyDownHandler","bind","e","code","which","contextMenu","close","notify","restoreFocus","classList","add","l10n","getService","createElement","appendChild","target","items","getMenuItems","enableRtl","enablePersistence","locale","select","contextMenuItemClick","beforeOpen","contextMenuBeforeOpen","onOpen","contextMenuOpen","onClose","contextMenuOnClose","cssClass","appendTo","module","getModuleName","enable","menuItems","exportItems","_i","_a","contextMenuItems","length","item","getDefaultItems","indexOf","toLocaleLowerCase","push","buildDefaultItems","exportGroup","getLastPage","totalpage","Math","floor","pageSettings","totalRecordsCount","pageSize","isOpen","args","getKeyFromId","autoFitColumns","targetColumn","field","groupColumn","ungroupColumn","editModule","editSettings","mode","row","cell","isNaN","parseInt","getAttribute","ariaColIndex","editCell","ariaRowIndex","getColumns","endEdit","startEdit","getSelectedRecords","deleteRow","deleteRecord","closeEdit","pdfExport","excelExport","csvExport","sortColumn","goToPage","currentPage","column","rowInfo","targetRowdata","trigger","contextMenuClick","updateItemStatus","selectRowOnContextOpen","getLocaleText","getConstant","showItems","enableItems","closestGrid","event","getColumn","getRowInfo","parentItem","selectRow","contains","selectionSettings","type","hideSepItems","showSepItems","key","dItem","ensureDisabledStatus","text","ensureTarget","getBatchChanges","changedRecords","addedRecords","deletedRecords","separator","hideItems","eventArgs","parentElement","targetElement","selector","ensureFrozenHeader","tbody","table","substr","isFrozenGrid","frozenRows","status","ensureModuleInjected","isEdit","allowGrouping","groupSettings","columns","getDataRows","getSelectedRowIndexes","getSelectedRowCellIndexes","getCurrentViewRecords","allowExcelExport","allowPdfExport","allowSorting","sortSettings","sortColumns","i","direction","toLowerCase","replace","allowPaging","getContextMenu","gridElement","querySelector","parentNode","generateID","menuItem","iconCss","localeKeys","uid","getColumnByUid","ele","isSelectable"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Admin Dashboard/frontend/node_modules/@syncfusion/ej2-grids/src/grid/actions/context-menu.js"],"sourcesContent":["import { closest, isNullOrUndefined, EventHandler } from '@syncfusion/ej2-base';\nimport { remove } from '@syncfusion/ej2-base';\nimport { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport * as events from '../base/constant';\nimport { Resize } from '../actions/resize';\nimport { Page } from '../actions/page';\nimport { parentsUntil, applyBiggerTheme } from '../base/util';\nimport { Group } from '../actions/group';\nimport { Sort } from '../actions/sort';\nimport { PdfExport } from '../actions/pdf-export';\nimport { ExcelExport } from '../actions/excel-export';\nimport * as literals from '../base/string-literals';\nexport var menuClass = {\n    header: '.' + literals.gridHeader,\n    content: '.' + literals.gridContent,\n    edit: '.e-inline-edit',\n    batchEdit: '.e-editedbatchcell',\n    editIcon: 'e-edit',\n    pager: '.e-gridpager',\n    delete: 'e-delete',\n    save: 'e-save',\n    cancel: 'e-cancel',\n    copy: 'e-copy',\n    pdf: 'e-pdfexport',\n    group: 'e-icon-group',\n    ungroup: 'e-icon-ungroup',\n    csv: 'e-csvexport',\n    excel: 'e-excelexport',\n    fPage: 'e-icon-first',\n    nPage: 'e-icon-next',\n    lPage: 'e-icon-last',\n    pPage: 'e-icon-prev',\n    ascending: 'e-icon-ascending',\n    descending: 'e-icon-descending',\n    groupHeader: 'e-groupdroparea',\n    touchPop: 'e-gridpopup'\n};\n/**\n * The `ContextMenu` module is used to handle context menu actions.\n */\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(parent, serviceLocator) {\n        this.defaultItems = {};\n        this.disableItems = [];\n        this.hiddenItems = [];\n        this.localeText = this.setLocaleKey();\n        this.parent = parent;\n        this.gridID = parent.element.id;\n        this.serviceLocator = serviceLocator;\n        this.addEventListener();\n    }\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.uiUpdate, this.enableAfterRenderMenu, this);\n        this.parent.on(events.initialLoad, this.render, this);\n        this.parent.on(events.destroy, this.destroy, this);\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialLoad, this.render);\n        this.parent.off(events.uiUpdate, this.enableAfterRenderMenu);\n        this.parent.off(events.destroy, this.destroy);\n        EventHandler.remove(this.element, 'keydown', this.keyDownHandler.bind(this));\n    };\n    ContextMenu.prototype.keyDownHandler = function (e) {\n        if (e.code === 'Tab' || e.which === 9) {\n            this.contextMenu.close();\n        }\n        if (e.code === 'Escape') {\n            this.contextMenu.close();\n            this.parent.notify(events.restoreFocus, {});\n        }\n    };\n    ContextMenu.prototype.render = function () {\n        this.parent.element.classList.add('e-noselect');\n        this.l10n = this.serviceLocator.getService('localization');\n        this.element = this.parent.createElement('ul', { id: this.gridID + '_cmenu' });\n        EventHandler.add(this.element, 'keydown', this.keyDownHandler.bind(this));\n        this.parent.element.appendChild(this.element);\n        var target = '#' + this.gridID;\n        this.contextMenu = new Menu({\n            items: this.getMenuItems(),\n            enableRtl: this.parent.enableRtl,\n            enablePersistence: this.parent.enablePersistence,\n            locale: this.parent.locale,\n            target: target,\n            select: this.contextMenuItemClick.bind(this),\n            beforeOpen: this.contextMenuBeforeOpen.bind(this),\n            onOpen: this.contextMenuOpen.bind(this),\n            onClose: this.contextMenuOnClose.bind(this),\n            cssClass: 'e-grid-menu'\n        });\n        this.contextMenu.appendTo(this.element);\n    };\n    ContextMenu.prototype.enableAfterRenderMenu = function (e) {\n        if (e.module === this.getModuleName() && e.enable) {\n            if (this.contextMenu) {\n                this.contextMenu.destroy();\n                remove(this.element);\n                this.parent.element.classList.remove('e-noselect');\n            }\n            this.render();\n        }\n    };\n    ContextMenu.prototype.getMenuItems = function () {\n        var menuItems = [];\n        var exportItems = [];\n        for (var _i = 0, _a = this.parent.contextMenuItems; _i < _a.length; _i++) {\n            var item = _a[_i];\n            if (typeof item === 'string' && this.getDefaultItems().indexOf(item) !== -1) {\n                if (item.toLocaleLowerCase().indexOf('export') !== -1) {\n                    exportItems.push(this.buildDefaultItems(item));\n                }\n                else {\n                    menuItems.push(this.buildDefaultItems(item));\n                }\n            }\n            else if (typeof item !== 'string') {\n                menuItems.push(item);\n            }\n        }\n        if (exportItems.length > 0) {\n            var exportGroup = this.buildDefaultItems('export');\n            exportGroup.items = exportItems;\n            menuItems.push(exportGroup);\n        }\n        return menuItems;\n    };\n    ContextMenu.prototype.getLastPage = function () {\n        var totalpage = Math.floor(this.parent.pageSettings.totalRecordsCount / this.parent.pageSettings.pageSize);\n        if (this.parent.pageSettings.totalRecordsCount % this.parent.pageSettings.pageSize) {\n            totalpage += 1;\n        }\n        return totalpage;\n    };\n    ContextMenu.prototype.contextMenuOpen = function () {\n        this.isOpen = true;\n    };\n    /**\n     * @param {ContextMenuClickEventArgs} args - specifies the ContextMenuClickEventArgs argument type\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.contextMenuItemClick = function (args) {\n        var item = this.getKeyFromId(args.item.id);\n        switch (item) {\n            case 'AutoFitAll':\n                this.parent.autoFitColumns([]);\n                break;\n            case 'AutoFit':\n                this.parent.autoFitColumns(this.targetColumn.field);\n                break;\n            case 'Group':\n                this.parent.groupColumn(this.targetColumn.field);\n                break;\n            case 'Ungroup':\n                this.parent.ungroupColumn(this.targetColumn.field);\n                break;\n            case 'Edit':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode === 'Batch') {\n                        if (this.row && this.cell && !isNaN(parseInt(this.cell.getAttribute(literals.ariaColIndex), 10))) {\n                            this.parent.editModule.editCell(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10), \n                            // eslint-disable-next-line\n                            this.parent.getColumns()[parseInt(this.cell.getAttribute(literals.ariaColIndex), 10)].field);\n                        }\n                    }\n                    else {\n                        this.parent.editModule.endEdit();\n                        this.parent.editModule.startEdit(this.row);\n                    }\n                }\n                break;\n            case 'Delete':\n                if (this.parent.editModule) {\n                    if (this.parent.editSettings.mode !== 'Batch') {\n                        this.parent.editModule.endEdit();\n                    }\n                    if (this.parent.getSelectedRecords().length === 1) {\n                        this.parent.editModule.deleteRow(this.row);\n                    }\n                    else {\n                        this.parent.deleteRecord();\n                    }\n                }\n                break;\n            case 'Save':\n                if (this.parent.editModule) {\n                    this.parent.editModule.endEdit();\n                }\n                break;\n            case 'Cancel':\n                if (this.parent.editModule) {\n                    this.parent.editModule.closeEdit();\n                }\n                break;\n            case 'Copy':\n                this.parent.copy();\n                break;\n            case 'PdfExport':\n                this.parent.pdfExport();\n                break;\n            case 'ExcelExport':\n                this.parent.excelExport();\n                break;\n            case 'CsvExport':\n                this.parent.csvExport();\n                break;\n            case 'SortAscending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Ascending');\n                break;\n            case 'SortDescending':\n                this.isOpen = false;\n                this.parent.sortColumn(this.targetColumn.field, 'Descending');\n                break;\n            case 'FirstPage':\n                this.parent.goToPage(1);\n                break;\n            case 'PrevPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage - 1);\n                break;\n            case 'LastPage':\n                this.parent.goToPage(this.getLastPage());\n                break;\n            case 'NextPage':\n                this.parent.goToPage(this.parent.pageSettings.currentPage + 1);\n                break;\n        }\n        args.column = this.targetColumn;\n        args.rowInfo = this.targetRowdata;\n        this.parent.trigger(events.contextMenuClick, args);\n    };\n    ContextMenu.prototype.contextMenuOnClose = function (args) {\n        var parent = 'parentObj';\n        if (args.items.length > 0 && args.items[0][parent] instanceof Menu) {\n            this.updateItemStatus();\n        }\n        this.parent.notify(events.selectRowOnContextOpen, { isOpen: false });\n    };\n    ContextMenu.prototype.getLocaleText = function (item) {\n        return this.l10n.getConstant(this.localeText[item]);\n    };\n    ContextMenu.prototype.updateItemStatus = function () {\n        this.contextMenu.showItems(this.hiddenItems);\n        this.contextMenu.enableItems(this.disableItems);\n        this.hiddenItems = [];\n        this.disableItems = [];\n        this.isOpen = false;\n    };\n    ContextMenu.prototype.contextMenuBeforeOpen = function (args) {\n        var closestGrid = closest(args.event.target, '.e-grid');\n        if (args.event && closestGrid && closestGrid !== this.parent.element) {\n            args.cancel = true;\n        }\n        else if (args.event && (closest(args.event.target, '.' + menuClass.groupHeader)\n            || closest(args.event.target, '.' + menuClass.touchPop) ||\n            closest(args.event.target, '.e-summarycell') ||\n            closest(args.event.target, '.e-groupcaption') ||\n            closest(args.event.target, '.e-filterbarcell'))) {\n            args.cancel = true;\n        }\n        else {\n            this.targetColumn = this.getColumn(args.event);\n            if (parentsUntil(args.event.target, 'e-grid')) {\n                this.targetRowdata = this.parent.getRowInfo(args.event.target);\n            }\n            if ((isNullOrUndefined(args.parentItem)) && this.targetColumn) {\n                if (this.targetRowdata.cell) {\n                    this.parent.notify(events.selectRowOnContextOpen, { isOpen: true });\n                    this.selectRow(args.event, (this.targetRowdata.cell.classList.contains('e-selectionbackground')\n                        && this.parent.selectionSettings.type === 'Multiple') ? false : true);\n                }\n            }\n            var hideSepItems = [];\n            var showSepItems = [];\n            for (var _i = 0, _a = args.items; _i < _a.length; _i++) {\n                var item = _a[_i];\n                var key = this.getKeyFromId(item.id);\n                var dItem = this.defaultItems[key];\n                if (this.getDefaultItems().indexOf(key) !== -1) {\n                    if (this.ensureDisabledStatus(key)) {\n                        this.disableItems.push(item.text);\n                    }\n                    if (args.event && (this.ensureTarget(args.event.target, menuClass.edit) ||\n                        this.ensureTarget(args.event.target, menuClass.batchEdit))) {\n                        if (key !== 'Save' && key !== 'Cancel') {\n                            this.hiddenItems.push(item.text);\n                        }\n                    }\n                    else if (this.parent.editModule && this.parent.editSettings.mode === 'Batch' &&\n                        ((closest(args.event.target, '.e-gridform')) ||\n                            this.parent.editModule.getBatchChanges()[literals.changedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.addedRecords].length ||\n                            this.parent.editModule.getBatchChanges()[literals.deletedRecords].length) && (key === 'Save' || key === 'Cancel')) {\n                        continue;\n                    }\n                    else if (isNullOrUndefined(args.parentItem) && args.event\n                        && !this.ensureTarget(args.event.target, dItem.target)) {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (item.target && args.event &&\n                    !this.ensureTarget(args.event.target, item.target)) {\n                    if (item.separator) {\n                        hideSepItems.push(item.id);\n                    }\n                    else {\n                        this.hiddenItems.push(item.text);\n                    }\n                }\n                else if (this.ensureTarget(args.event.target, item.target) && item.separator) {\n                    showSepItems.push(item.id);\n                }\n            }\n            if (showSepItems.length > 0) {\n                this.contextMenu.showItems(showSepItems, true);\n            }\n            this.contextMenu.enableItems(this.disableItems, false);\n            this.contextMenu.hideItems(this.hiddenItems);\n            if (hideSepItems.length > 0) {\n                this.contextMenu.hideItems(hideSepItems, true);\n            }\n            this.eventArgs = args.event;\n            args.column = this.targetColumn;\n            args.rowInfo = this.targetRowdata;\n            this.parent.trigger(events.contextMenuOpen, args);\n            if (args.cancel || (this.hiddenItems.length === args.items.length && !args.parentItem)) {\n                this.updateItemStatus();\n                args.cancel = true;\n            }\n        }\n        applyBiggerTheme(this.parent.element, this.contextMenu.element.parentElement);\n    };\n    ContextMenu.prototype.ensureTarget = function (targetElement, selector) {\n        var target = targetElement;\n        if (this.ensureFrozenHeader(targetElement) && (selector === menuClass.header || selector === menuClass.content)) {\n            target = closest(targetElement, selector === menuClass.header ? 'thead' : literals.tbody);\n        }\n        else if (selector === menuClass.content || selector === menuClass.header) {\n            target = parentsUntil(closest(targetElement, '.' + literals.table), selector.substr(1, selector.length));\n        }\n        else {\n            target = closest(targetElement, selector);\n        }\n        return target && parentsUntil(target, 'e-grid') === this.parent.element;\n    };\n    ContextMenu.prototype.ensureFrozenHeader = function (targetElement) {\n        return (this.parent.isFrozenGrid() || this.parent.frozenRows)\n            && closest(targetElement, menuClass.header) ? true : false;\n    };\n    ContextMenu.prototype.ensureDisabledStatus = function (item) {\n        var status = false;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                status = !(this.parent.ensureModuleInjected(Resize) && !this.parent.isEdit)\n                    || (this.targetColumn && !this.targetColumn.field && item === 'AutoFit');\n                break;\n            case 'Group':\n                if (!this.parent.allowGrouping || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                    && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) >= 0) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                break;\n            case 'Ungroup':\n                if (!this.parent.allowGrouping || !this.parent.ensureModuleInjected(Group)\n                    || (this.parent.ensureModuleInjected(Group) && this.targetColumn\n                        && this.parent.groupSettings.columns.indexOf(this.targetColumn.field) < 0)) {\n                    status = true;\n                }\n                break;\n            case 'Edit':\n            case 'Delete':\n            case 'Save':\n            case 'Cancel':\n                if (!this.parent.editModule || (this.parent.getDataRows().length === 0)) {\n                    status = true;\n                }\n                break;\n            case 'Copy':\n                if ((this.parent.getSelectedRowIndexes().length === 0 && this.parent.getSelectedRowCellIndexes().length === 0) ||\n                    this.parent.getCurrentViewRecords().length === 0) {\n                    status = true;\n                }\n                break;\n            case 'export':\n                if ((!this.parent.allowExcelExport || !this.parent.excelExport) ||\n                    !this.parent.ensureModuleInjected(PdfExport) && !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'PdfExport':\n                if (!(this.parent.allowPdfExport) || !this.parent.ensureModuleInjected(PdfExport)) {\n                    status = true;\n                }\n                break;\n            case 'ExcelExport':\n            case 'CsvExport':\n                if (!(this.parent.allowExcelExport) || !this.parent.ensureModuleInjected(ExcelExport)) {\n                    status = true;\n                }\n                break;\n            case 'SortAscending':\n            case 'SortDescending':\n                if ((!this.parent.allowSorting) || !this.parent.ensureModuleInjected(Sort) ||\n                    (this.targetColumn && !this.targetColumn.field)) {\n                    status = true;\n                }\n                else if (this.parent.ensureModuleInjected(Sort) && this.parent.sortSettings.columns.length > 0 && this.targetColumn) {\n                    var sortColumns = this.parent.sortSettings.columns;\n                    for (var i = 0; i < sortColumns.length; i++) {\n                        if (sortColumns[i].field === this.targetColumn.field\n                            && sortColumns[i].direction.toLowerCase() === item.toLowerCase().replace('sort', '').toLocaleLowerCase()) {\n                            status = true;\n                        }\n                    }\n                }\n                break;\n            case 'FirstPage':\n            case 'PrevPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === 1)) {\n                    status = true;\n                }\n                break;\n            case 'LastPage':\n            case 'NextPage':\n                if (!this.parent.allowPaging || !this.parent.ensureModuleInjected(Page) ||\n                    this.parent.getCurrentViewRecords().length === 0 ||\n                    (this.parent.ensureModuleInjected(Page) && this.parent.pageSettings.currentPage === this.getLastPage())) {\n                    status = true;\n                }\n                break;\n        }\n        return status;\n    };\n    /**\n     * Gets the context menu element from the Grid.\n     *\n     * @returns {Element} returns the element\n     */\n    ContextMenu.prototype.getContextMenu = function () {\n        return this.element;\n    };\n    /**\n     * Destroys the context menu component in the Grid.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n     */\n    ContextMenu.prototype.destroy = function () {\n        var gridElement = this.parent.element;\n        if (!gridElement || (!gridElement.querySelector('.' + literals.gridHeader) && !gridElement.querySelector('.' + literals.gridContent))) {\n            return;\n        }\n        this.contextMenu.destroy();\n        if (this.element.parentNode) {\n            remove(this.element);\n        }\n        this.removeEventListener();\n        this.parent.element.classList.remove('e-noselect');\n    };\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextMenu';\n    };\n    ContextMenu.prototype.generateID = function (item) {\n        return this.gridID + '_cmenu_' + item;\n    };\n    ContextMenu.prototype.getKeyFromId = function (id) {\n        return id.replace(this.gridID + '_cmenu_', '');\n    };\n    ContextMenu.prototype.buildDefaultItems = function (item) {\n        var menuItem;\n        switch (item) {\n            case 'AutoFitAll':\n            case 'AutoFit':\n                menuItem = { target: menuClass.header };\n                break;\n            case 'Group':\n                menuItem = { target: menuClass.header, iconCss: menuClass.group };\n                break;\n            case 'Ungroup':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ungroup };\n                break;\n            case 'Edit':\n                menuItem = { target: menuClass.content, iconCss: menuClass.editIcon };\n                break;\n            case 'Delete':\n                menuItem = { target: menuClass.content, iconCss: menuClass.delete };\n                break;\n            case 'Save':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.save };\n                break;\n            case 'Cancel':\n                menuItem = { target: menuClass.edit, iconCss: menuClass.cancel };\n                break;\n            case 'Copy':\n                menuItem = { target: menuClass.content, iconCss: menuClass.copy };\n                break;\n            case 'export':\n                menuItem = { target: menuClass.content };\n                break;\n            case 'PdfExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.pdf };\n                break;\n            case 'ExcelExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.excel };\n                break;\n            case 'CsvExport':\n                menuItem = { target: menuClass.content, iconCss: menuClass.csv };\n                break;\n            case 'SortAscending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.ascending };\n                break;\n            case 'SortDescending':\n                menuItem = { target: menuClass.header, iconCss: menuClass.descending };\n                break;\n            case 'FirstPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.fPage };\n                break;\n            case 'PrevPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.pPage };\n                break;\n            case 'LastPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.lPage };\n                break;\n            case 'NextPage':\n                menuItem = { target: menuClass.pager, iconCss: menuClass.nPage };\n                break;\n        }\n        this.defaultItems[item] = {\n            text: this.getLocaleText(item), id: this.generateID(item),\n            target: menuItem.target, iconCss: menuItem.iconCss ? 'e-icons ' + menuItem.iconCss : ''\n        };\n        return this.defaultItems[item];\n    };\n    ContextMenu.prototype.getDefaultItems = function () {\n        return ['AutoFitAll', 'AutoFit',\n            'Group', 'Ungroup', 'Edit', 'Delete', 'Save', 'Cancel', 'Copy', 'export',\n            'PdfExport', 'ExcelExport', 'CsvExport', 'SortAscending', 'SortDescending',\n            'FirstPage', 'PrevPage', 'LastPage', 'NextPage'];\n    };\n    ContextMenu.prototype.setLocaleKey = function () {\n        var localeKeys = {\n            'AutoFitAll': 'autoFitAll',\n            'AutoFit': 'autoFit',\n            'Copy': 'Copy',\n            'Group': 'Group',\n            'Ungroup': 'Ungroup',\n            'Edit': 'EditRecord',\n            'Delete': 'DeleteRecord',\n            'Save': 'Save',\n            'Cancel': 'CancelButton',\n            'PdfExport': 'Pdfexport',\n            'ExcelExport': 'Excelexport',\n            'CsvExport': 'Csvexport',\n            'export': 'Export',\n            'SortAscending': 'SortAscending',\n            'SortDescending': 'SortDescending',\n            'FirstPage': 'FirstPage',\n            'LastPage': 'LastPage',\n            'PrevPage': 'PreviousPage',\n            'NextPage': 'NextPage'\n        };\n        return localeKeys;\n    };\n    ContextMenu.prototype.getColumn = function (e) {\n        var cell = closest(e.target, 'th.e-headercell');\n        if (cell) {\n            var uid = cell.querySelector('.e-headercelldiv, .e-stackedheadercelldiv').getAttribute('e-mappinguid');\n            return this.parent.getColumnByUid(uid);\n        }\n        else {\n            var ele = (this.parent.getRowInfo(e.target).column);\n            return ele || null;\n        }\n    };\n    ContextMenu.prototype.selectRow = function (e, isSelectable) {\n        this.cell = e.target;\n        this.row = closest(e.target, 'tr.e-row') || this.row;\n        if (this.row && isSelectable && !parentsUntil(e.target, 'e-gridpager')) {\n            this.parent.selectRow(parseInt(this.row.getAttribute(literals.ariaRowIndex), 10));\n        }\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}