{"ast":null,"code":"import { EventHandler, closest, isNullOrUndefined, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, addClass, removeClass, remove, createElement } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { read } from '../common/operations';\nimport { getLocaleText, searchWordHandler } from '../common/utility';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * BreadCrumbBar module\n */\n\nvar BreadCrumbBar =\n/** @class */\nfunction () {\n  /**\n   * constructor for addressbar module\n   *\n   * @hidden\n   * @param {IFileManager} parent - specifies parent element.\n   * @private\n   *\n   */\n  function BreadCrumbBar(parent) {\n    this.addressPath = '';\n    this.addressBarLink = '';\n    this.searchTimer = null;\n    this.searchWrapWidth = null;\n    this.parent = parent;\n    this.keyConfigs = {\n      enter: 'enter'\n    };\n    this.render();\n  }\n\n  BreadCrumbBar.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n      var value = e.newProp.searchSettings;\n\n      switch (prop) {\n        case 'searchSettings':\n          if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n            this.searchEventBind(value.allowSearchOnTyping);\n          }\n\n          if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' && !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) && isNullOrUndefined(value.ignoreCase))) {\n            searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n          }\n\n          break;\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.render = function () {\n    this.addEventListener();\n  };\n\n  BreadCrumbBar.prototype.onPathChange = function () {\n    var pathNames = this.parent.pathNames;\n    var paths = this.parent.path.split('/');\n    var addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    var addressbarLI = null;\n    var pathNamesLen = pathNames.length;\n\n    if (pathNames.length > 0) {\n      var id = '';\n\n      for (var i = 0; i < pathNamesLen; i++) {\n        var addressATag = null;\n        addressbarLI = this.parent.createElement('li', {\n          className: 'e-address-list-item'\n        });\n\n        for (var j = 0; j <= i; j++) {\n          id = id + paths[j] + '/';\n        }\n\n        addressbarLI.setAttribute('data-utext', id);\n\n        if (i !== 0) {\n          var icon = createElement('span', {\n            className: CLS.ICONS\n          });\n          addressbarLI.appendChild(icon);\n        }\n\n        if (pathNamesLen - i !== 1) {\n          addressATag = createElement('a', {\n            className: CLS.LIST_TEXT\n          });\n          addressbarLI.setAttribute('tabindex', '0');\n        } else {\n          addressATag = createElement('span', {\n            className: CLS.LIST_TEXT\n          });\n        }\n\n        id = '';\n        addressATag.innerText = pathNames[i];\n        addressbarLI.appendChild(addressATag);\n        addressbarUL.appendChild(addressbarLI);\n      }\n\n      var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n\n      if (!isNullOrUndefined(ulElement)) {\n        if (!isNullOrUndefined(this.subMenuObj)) {\n          this.subMenuObj.destroy();\n        }\n\n        remove(ulElement);\n      }\n\n      var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n\n      if (!searchWrap) {\n        this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n      } else {\n        this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n      }\n\n      this.updateBreadCrumbBar(addressbarUL);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.updateBreadCrumbBar = function (addresBarUL) {\n    var liElements = addresBarUL.querySelectorAll('li');\n    var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n    var style = window.getComputedStyle(ulElement, null);\n    var pRight = parseFloat(style.getPropertyValue('padding-right'));\n    var pLeft = parseFloat(style.getPropertyValue('padding-left'));\n    var breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n    var addressbarUL = this.parent.createElement('ul', {\n      className: 'e-addressbar-ul'\n    });\n    var liElementsWidth = 0;\n    var liElementsWidths = [];\n\n    for (var i = 0; i < liElements.length; i++) {\n      var width = liElements[i].clientWidth;\n      liElementsWidths.push(width);\n      liElementsWidth = liElementsWidth + width;\n    }\n\n    if (!isNullOrUndefined(ulElement)) {\n      remove(ulElement);\n    }\n\n    var searchContainer = this.parent.createElement('div');\n    searchContainer.setAttribute('class', 'e-search-wrap');\n    var id = this.parent.element.id + CLS.SEARCH_ID;\n    var searchInput = createElement('input', {\n      id: id,\n      attrs: {\n        autocomplete: 'off',\n        'aria-label': getLocaleText(this.parent, 'Search')\n      }\n    });\n    searchContainer.appendChild(searchInput);\n    var searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n\n    if (isNullOrUndefined(searchEle)) {\n      this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n      var span = createElement('span', {\n        className: 'e-icons e-fe-search'\n      });\n      EventHandler.add(span, 'click', this.onShowInput, this);\n      searchInput.parentElement.insertBefore(span, searchInput);\n      this.searchObj = new TextBox({\n        value: '',\n        showClearButton: true,\n        placeholder: getLocaleText(this.parent, 'Search'),\n        focus: this.onFocus.bind(this),\n        blur: this.onBlur.bind(this)\n      });\n      this.searchObj.appendTo('#' + this.parent.element.id + CLS.SEARCH_ID);\n      this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n      var search = this.searchObj.element.nextElementSibling;\n      EventHandler.add(search, 'mousedown', this.searchChangeHandler.bind(this), this);\n      EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n    }\n\n    var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n    breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n\n    if (liElementsWidth > breadCrumbBarWidth) {\n      var i = liElements.length;\n\n      while (i--) {\n        var diff = breadCrumbBarWidth - liElementsWidths[i];\n\n        if (diff > 40) {\n          addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n          breadCrumbBarWidth = diff;\n        } else {\n          // eslint-disable-next-line\n          var items = [];\n\n          for (var j = 0; j <= i; j++) {\n            var liElement = liElements[j];\n            items.push({\n              text: liElement.innerText,\n              utext: liElement.getAttribute('data-utext')\n            });\n          }\n\n          var subMenuLi = this.parent.createElement('li', {\n            className: 'e-breadcrumb-menu'\n          }); // eslint-disable-next-line\n\n          var attributes = {\n            className: 'e-breadcrumb-submenu'\n          };\n          var subMenuSpan = this.parent.createElement('button', attributes);\n          subMenuLi.appendChild(subMenuSpan);\n          addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n          this.subMenuObj = new DropDownButton({\n            items: items,\n            cssClass: 'e-caret-hide e-submenu',\n            iconCss: CLS.ICON_BREADCRUMB,\n            iconPosition: 'Top',\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.addSubMenuAttributes.bind(this),\n            select: this.subMenuSelectOperations.bind(this)\n          });\n          this.subMenuObj.isStringTemplate = true;\n          this.subMenuObj.appendTo(subMenuSpan);\n          break;\n        }\n      }\n\n      this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n    } else {\n      this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onFocus = function () {\n    var wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.add('e-focus');\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onKeyUp = function () {\n    this.parent.notify(events.pathColumn, {\n      args: this.parent\n    });\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onBlur = function () {\n    var wrap = closest(this.searchObj.element, '.e-search-wrap');\n    wrap.classList.remove('e-focus');\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.subMenuSelectOperations = function (event) {\n    // eslint-disable-next-line\n    var args = {\n      target: event.element\n    };\n    this.addressPathClickHandler(args);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.addSubMenuAttributes = function (args) {\n    args.element.setAttribute('data-utext', getValue('utext', args.item));\n    var anchor = this.parent.createElement('a', {\n      className: 'e-list-text'\n    });\n    args.element.appendChild(anchor);\n  };\n\n  BreadCrumbBar.prototype.searchEventBind = function (allow) {\n    if (allow) {\n      this.searchObj.input = this.searchChangeHandler.bind(this);\n      this.searchObj.change = null;\n    } else {\n      this.searchObj.change = this.searchChangeHandler.bind(this);\n      this.searchObj.input = null;\n    }\n  };\n\n  BreadCrumbBar.prototype.searchChangeHandler = function (args) {\n    var _this = this;\n\n    if (!isNullOrUndefined(args.value)) {\n      this.parent.isFiltered = false;\n\n      if (this.parent.searchSettings.allowSearchOnTyping) {\n        window.clearTimeout(this.searchTimer);\n        this.searchTimer = window.setTimeout(function () {\n          searchWordHandler(_this.parent, args.value, false);\n        }, 300);\n      } else {\n        searchWordHandler(this.parent, args.value, false);\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.addressPathClickHandler = function (e) {\n    var li = e.target;\n\n    if (li.nodeName === 'LI' || li.nodeName === 'A') {\n      var node = li.nodeName === 'LI' ? li.children[0] : li;\n\n      if (!isNullOrUndefined(node)) {\n        this.parent.isFiltered = false;\n        var currentPath = this.updatePath(node);\n        this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n        this.triggerFileOpen(this.parent.itemData[0]);\n        read(this.parent, events.pathChanged, currentPath);\n        var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.parent.notify(events.updateTreeSelection, {\n          module: 'treeview',\n          selectedNode: treeNodeId\n        });\n      }\n    }\n  }; // eslint-disable-next-line\n\n\n  BreadCrumbBar.prototype.triggerFileOpen = function (data) {\n    var eventArgs = {\n      cancel: false,\n      fileDetails: data,\n      module: 'BreadCrumbBar'\n    };\n    delete eventArgs.cancel;\n    this.parent.trigger('fileOpen', eventArgs);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onShowInput = function () {\n    if (this.parent.isMobile) {\n      if (this.parent.element.classList.contains(CLS.FILTER)) {\n        removeClass([this.parent.element], CLS.FILTER);\n        this.searchWrapWidth = null;\n      } else {\n        var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        this.searchWrapWidth = searchWrap.offsetWidth;\n        addClass([this.parent.element], CLS.FILTER);\n        this.searchObj.element.focus();\n      }\n    }\n  };\n\n  BreadCrumbBar.prototype.updatePath = function (list) {\n    var li = closest(list, 'li');\n    var liElementId = li.getAttribute('data-utext');\n    this.addressBarLink = liElementId;\n    var link = this.addressBarLink.split('/');\n    var ids = this.parent.pathId;\n    var names = this.parent.pathNames;\n    this.parent.pathId = [];\n    this.parent.pathNames = [];\n    var newpath = '';\n\n    for (var i = 0, len = link.length - 1; i < len; i++) {\n      this.parent.pathId.push(ids[i]);\n      this.parent.pathNames.push(names[i]);\n      newpath += link[i] + '/';\n    }\n\n    this.parent.setProperties({\n      path: newpath\n    }, true);\n    return newpath;\n  };\n\n  BreadCrumbBar.prototype.onUpdatePath = function () {\n    this.onPathChange();\n    this.removeSearchValue();\n  };\n\n  BreadCrumbBar.prototype.onCreateEnd = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.onRenameEnd = function () {\n    this.onPathChange();\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onDeleteEnd = function () {\n    this.onUpdatePath();\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.removeSearchValue = function () {\n    this.parent.isFiltered = false;\n\n    if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n      this.searchObj.value = '';\n      this.searchObj.element.value = '';\n      this.searchObj.dataBind();\n    }\n  };\n\n  BreadCrumbBar.prototype.onResize = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.onPasteEnd = function () {\n    this.onPathChange();\n  };\n\n  BreadCrumbBar.prototype.addEventListener = function () {\n    this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.pathChanged, this.onUpdatePath, this);\n    this.parent.on(events.finalizeEnd, this.onUpdatePath, this);\n    this.parent.on(events.refreshEnd, this.onUpdatePath, this);\n    this.parent.on(events.openEnd, this.onUpdatePath, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.renameEnd, this.onRenameEnd, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.splitterResize, this.onResize, this);\n    this.parent.on(events.pasteEnd, this.onPasteEnd, this);\n    this.parent.on(events.resizeEnd, this.onResize, this);\n    this.parent.on(events.searchTextChange, this.onSearchTextChange, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.layoutRefresh, this.onResize, this);\n    this.parent.on(events.dropPath, this.onPathChange, this);\n  };\n\n  BreadCrumbBar.prototype.keyActionHandler = function (e) {\n    switch (e.action) {\n      case 'enter':\n        this.addressPathClickHandler(e);\n        break;\n    }\n  };\n\n  BreadCrumbBar.prototype.removeEventListener = function () {\n    this.keyboardModule.destroy();\n    this.parent.off(events.pathChanged, this.onUpdatePath);\n    this.parent.off(events.finalizeEnd, this.onUpdatePath);\n    this.parent.off(events.refreshEnd, this.onUpdatePath);\n    this.parent.off(events.openEnd, this.onUpdatePath);\n    this.parent.off(events.pasteEnd, this.onPasteEnd);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.renameEnd, this.onRenameEnd);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.splitterResize, this.onResize);\n    this.parent.off(events.resizeEnd, this.onResize);\n    this.parent.off(events.searchTextChange, this.onSearchTextChange);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.layoutRefresh, this.onResize);\n    this.parent.off(events.dropPath, this.onPathChange);\n  };\n  /* istanbul ignore next */\n\n\n  BreadCrumbBar.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var liEle = args.target.closest('li');\n      this.parent.dropPath = this.updatePath(liEle.children[0]);\n      this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n      this.triggerFileOpen(this.parent.dropData);\n      var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n      this.parent.notify(events.updateTreeSelection, {\n        module: 'treeview',\n        selectedNode: treeNodeId\n      });\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name\n   * @private\n   */\n\n\n  BreadCrumbBar.prototype.getModuleName = function () {\n    return 'breadcrumbbar';\n  };\n\n  BreadCrumbBar.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    /* istanbul ignore next */\n\n    if (!isNullOrUndefined(this.subMenuObj)) {\n      this.subMenuObj.destroy();\n    }\n\n    if (!isNullOrUndefined(this.searchObj)) {\n      this.searchObj.destroy();\n    }\n  };\n\n  BreadCrumbBar.prototype.onSearchTextChange = function (args) {\n    this.searchObj.element.placeholder = this.parent.searchSettings.placeholder != null ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n  };\n\n  return BreadCrumbBar;\n}();\n\nexport { BreadCrumbBar };","map":{"version":3,"names":["EventHandler","closest","isNullOrUndefined","KeyboardEvents","getValue","addClass","removeClass","remove","createElement","TextBox","DropDownButton","read","getLocaleText","searchWordHandler","events","CLS","BreadCrumbBar","parent","addressPath","addressBarLink","searchTimer","searchWrapWidth","keyConfigs","enter","render","prototype","onPropertyChanged","e","module","getModuleName","_i","_a","Object","keys","newProp","length","prop","value","searchSettings","allowSearchOnTyping","searchEventBind","breadcrumbbarModule","searchObj","filterType","ignoreCase","addEventListener","onPathChange","pathNames","paths","path","split","addressbarUL","className","addressbarLI","pathNamesLen","id","i","addressATag","j","setAttribute","icon","ICONS","appendChild","LIST_TEXT","innerText","ulElement","breadCrumbBarNavigation","querySelector","subMenuObj","destroy","searchWrap","insertBefore","updateBreadCrumbBar","addresBarUL","liElements","querySelectorAll","style","window","getComputedStyle","pRight","parseFloat","getPropertyValue","pLeft","breadCrumbBarWidth","offsetWidth","liElementsWidth","liElementsWidths","width","clientWidth","push","searchContainer","element","SEARCH_ID","searchInput","attrs","autocomplete","searchEle","span","add","onShowInput","parentElement","showClearButton","placeholder","focus","onFocus","bind","blur","onBlur","appendTo","search","nextElementSibling","searchChangeHandler","onKeyUp","diff","items","liElement","text","utext","getAttribute","subMenuLi","attributes","subMenuSpan","cssClass","iconCss","ICON_BREADCRUMB","iconPosition","enableHtmlSanitizer","beforeItemRender","addSubMenuAttributes","select","subMenuSelectOperations","isStringTemplate","wrap","classList","notify","pathColumn","args","event","target","addressPathClickHandler","item","anchor","allow","input","change","_this","isFiltered","clearTimeout","setTimeout","li","nodeName","node","children","currentPath","updatePath","itemData","pathId","feParent","triggerFileOpen","pathChanged","treeNodeId","updateTreeSelection","selectedNode","data","eventArgs","cancel","fileDetails","trigger","isMobile","contains","FILTER","list","liElementId","link","ids","names","newpath","len","setProperties","onUpdatePath","removeSearchValue","onCreateEnd","onRenameEnd","onDeleteEnd","dataBind","onResize","onPasteEnd","keyboardModule","keyAction","keyActionHandler","eventName","on","modelChanged","finalizeEnd","refreshEnd","openEnd","createEnd","renameEnd","deleteEnd","splitterResize","pasteEnd","resizeEnd","searchTextChange","onSearchTextChange","dropInit","onDropInit","layoutRefresh","dropPath","action","removeEventListener","off","targetModule","liEle","dropData","isDestroyed","cwd","name"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-filemanager/src/file-manager/actions/breadcrumb-bar.js"],"sourcesContent":["import { EventHandler, closest, isNullOrUndefined, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, addClass, removeClass, remove, createElement } from '@syncfusion/ej2-base';\nimport { TextBox } from '@syncfusion/ej2-inputs';\nimport { DropDownButton } from '@syncfusion/ej2-splitbuttons';\nimport { read } from '../common/operations';\nimport { getLocaleText, searchWordHandler } from '../common/utility';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * BreadCrumbBar module\n */\nvar BreadCrumbBar = /** @class */ (function () {\n    /**\n     * constructor for addressbar module\n     *\n     * @hidden\n     * @param {IFileManager} parent - specifies parent element.\n     * @private\n     *\n     */\n    function BreadCrumbBar(parent) {\n        this.addressPath = '';\n        this.addressBarLink = '';\n        this.searchTimer = null;\n        this.searchWrapWidth = null;\n        this.parent = parent;\n        this.keyConfigs = {\n            enter: 'enter'\n        };\n        this.render();\n    }\n    BreadCrumbBar.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            var value = e.newProp.searchSettings;\n            switch (prop) {\n                case 'searchSettings':\n                    if (!isNullOrUndefined(value.allowSearchOnTyping)) {\n                        this.searchEventBind(value.allowSearchOnTyping);\n                    }\n                    if (this.parent.breadcrumbbarModule.searchObj.value && this.parent.breadcrumbbarModule.searchObj.value !== '' &&\n                        !(!isNullOrUndefined(value.allowSearchOnTyping) && isNullOrUndefined(value.filterType) &&\n                            isNullOrUndefined(value.ignoreCase))) {\n                        searchWordHandler(this.parent, this.parent.breadcrumbbarModule.searchObj.value, false);\n                    }\n                    break;\n            }\n        }\n    };\n    BreadCrumbBar.prototype.render = function () {\n        this.addEventListener();\n    };\n    BreadCrumbBar.prototype.onPathChange = function () {\n        var pathNames = this.parent.pathNames;\n        var paths = this.parent.path.split('/');\n        var addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        var addressbarLI = null;\n        var pathNamesLen = pathNames.length;\n        if (pathNames.length > 0) {\n            var id = '';\n            for (var i = 0; i < pathNamesLen; i++) {\n                var addressATag = null;\n                addressbarLI = this.parent.createElement('li', { className: 'e-address-list-item' });\n                for (var j = 0; j <= i; j++) {\n                    id = id + paths[j] + '/';\n                }\n                addressbarLI.setAttribute('data-utext', id);\n                if (i !== 0) {\n                    var icon = createElement('span', { className: CLS.ICONS });\n                    addressbarLI.appendChild(icon);\n                }\n                if (pathNamesLen - i !== 1) {\n                    addressATag = createElement('a', { className: CLS.LIST_TEXT });\n                    addressbarLI.setAttribute('tabindex', '0');\n                }\n                else {\n                    addressATag = createElement('span', { className: CLS.LIST_TEXT });\n                }\n                id = '';\n                addressATag.innerText = pathNames[i];\n                addressbarLI.appendChild(addressATag);\n                addressbarUL.appendChild(addressbarLI);\n            }\n            var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n            if (!isNullOrUndefined(ulElement)) {\n                if (!isNullOrUndefined(this.subMenuObj)) {\n                    this.subMenuObj.destroy();\n                }\n                remove(ulElement);\n            }\n            var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n            if (!searchWrap) {\n                this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n            }\n            else {\n                this.parent.breadCrumbBarNavigation.appendChild(addressbarUL);\n            }\n            this.updateBreadCrumbBar(addressbarUL);\n        }\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.updateBreadCrumbBar = function (addresBarUL) {\n        var liElements = addresBarUL.querySelectorAll('li');\n        var ulElement = this.parent.breadCrumbBarNavigation.querySelector('.e-addressbar-ul');\n        var style = window.getComputedStyle(ulElement, null);\n        var pRight = parseFloat(style.getPropertyValue('padding-right'));\n        var pLeft = parseFloat(style.getPropertyValue('padding-left'));\n        var breadCrumbBarWidth = ulElement.offsetWidth - pRight - pLeft;\n        var addressbarUL = this.parent.createElement('ul', { className: 'e-addressbar-ul' });\n        var liElementsWidth = 0;\n        var liElementsWidths = [];\n        for (var i = 0; i < liElements.length; i++) {\n            var width = liElements[i].clientWidth;\n            liElementsWidths.push(width);\n            liElementsWidth = liElementsWidth + width;\n        }\n        if (!isNullOrUndefined(ulElement)) {\n            remove(ulElement);\n        }\n        var searchContainer = this.parent.createElement('div');\n        searchContainer.setAttribute('class', 'e-search-wrap');\n        var id = this.parent.element.id + CLS.SEARCH_ID;\n        var searchInput = createElement('input', { id: id,\n            attrs: { autocomplete: 'off', 'aria-label': getLocaleText(this.parent, 'Search') } });\n        searchContainer.appendChild(searchInput);\n        var searchEle = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap .e-input');\n        if (isNullOrUndefined(searchEle)) {\n            this.parent.breadCrumbBarNavigation.appendChild(searchContainer);\n            var span = createElement('span', { className: 'e-icons e-fe-search' });\n            EventHandler.add(span, 'click', this.onShowInput, this);\n            searchInput.parentElement.insertBefore(span, searchInput);\n            this.searchObj = new TextBox({\n                value: '',\n                showClearButton: true,\n                placeholder: getLocaleText(this.parent, 'Search'),\n                focus: this.onFocus.bind(this),\n                blur: this.onBlur.bind(this)\n            });\n            this.searchObj.appendTo('#' + this.parent.element.id + CLS.SEARCH_ID);\n            this.searchEventBind(this.parent.searchSettings.allowSearchOnTyping);\n            var search = this.searchObj.element.nextElementSibling;\n            EventHandler.add(search, 'mousedown', this.searchChangeHandler.bind(this), this);\n            EventHandler.add(this.searchObj.element, 'keyup', this.onKeyUp.bind(this), this);\n        }\n        var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n        breadCrumbBarWidth = breadCrumbBarWidth - (this.searchWrapWidth ? this.searchWrapWidth : searchWrap.offsetWidth);\n        if (liElementsWidth > breadCrumbBarWidth) {\n            var i = liElements.length;\n            while (i--) {\n                var diff = breadCrumbBarWidth - liElementsWidths[i];\n                if (diff > 40) {\n                    addressbarUL.insertBefore(liElements[i], addressbarUL.querySelector('li'));\n                    breadCrumbBarWidth = diff;\n                }\n                else {\n                    // eslint-disable-next-line\n                    var items = [];\n                    for (var j = 0; j <= i; j++) {\n                        var liElement = liElements[j];\n                        items.push({\n                            text: liElement.innerText,\n                            utext: liElement.getAttribute('data-utext')\n                        });\n                    }\n                    var subMenuLi = this.parent.createElement('li', { className: 'e-breadcrumb-menu' });\n                    // eslint-disable-next-line\n                    var attributes = { className: 'e-breadcrumb-submenu' };\n                    var subMenuSpan = this.parent.createElement('button', attributes);\n                    subMenuLi.appendChild(subMenuSpan);\n                    addressbarUL.insertBefore(subMenuLi, addressbarUL.querySelector('li'));\n                    this.subMenuObj = new DropDownButton({\n                        items: items,\n                        cssClass: 'e-caret-hide e-submenu',\n                        iconCss: CLS.ICON_BREADCRUMB,\n                        iconPosition: 'Top',\n                        enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n                        beforeItemRender: this.addSubMenuAttributes.bind(this),\n                        select: this.subMenuSelectOperations.bind(this)\n                    });\n                    this.subMenuObj.isStringTemplate = true;\n                    this.subMenuObj.appendTo(subMenuSpan);\n                    break;\n                }\n            }\n            this.parent.breadCrumbBarNavigation.insertBefore(addressbarUL, searchWrap);\n        }\n        else {\n            this.parent.breadCrumbBarNavigation.insertBefore(addresBarUL, searchWrap);\n        }\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onFocus = function () {\n        var wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.add('e-focus');\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onKeyUp = function () {\n        this.parent.notify(events.pathColumn, { args: this.parent });\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onBlur = function () {\n        var wrap = closest(this.searchObj.element, '.e-search-wrap');\n        wrap.classList.remove('e-focus');\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.subMenuSelectOperations = function (event) {\n        // eslint-disable-next-line\n        var args = { target: event.element };\n        this.addressPathClickHandler(args);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.addSubMenuAttributes = function (args) {\n        args.element.setAttribute('data-utext', getValue('utext', args.item));\n        var anchor = this.parent.createElement('a', { className: 'e-list-text' });\n        args.element.appendChild(anchor);\n    };\n    BreadCrumbBar.prototype.searchEventBind = function (allow) {\n        if (allow) {\n            this.searchObj.input = this.searchChangeHandler.bind(this);\n            this.searchObj.change = null;\n        }\n        else {\n            this.searchObj.change = this.searchChangeHandler.bind(this);\n            this.searchObj.input = null;\n        }\n    };\n    BreadCrumbBar.prototype.searchChangeHandler = function (args) {\n        var _this = this;\n        if (!isNullOrUndefined(args.value)) {\n            this.parent.isFiltered = false;\n            if (this.parent.searchSettings.allowSearchOnTyping) {\n                window.clearTimeout(this.searchTimer);\n                this.searchTimer = window.setTimeout(function () { searchWordHandler(_this.parent, args.value, false); }, 300);\n            }\n            else {\n                searchWordHandler(this.parent, args.value, false);\n            }\n        }\n    };\n    BreadCrumbBar.prototype.addressPathClickHandler = function (e) {\n        var li = e.target;\n        if (li.nodeName === 'LI' || li.nodeName === 'A') {\n            var node = li.nodeName === 'LI' ? li.children[0] : li;\n            if (!isNullOrUndefined(node)) {\n                this.parent.isFiltered = false;\n                var currentPath = this.updatePath(node);\n                this.parent.itemData = [getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent)];\n                this.triggerFileOpen(this.parent.itemData[0]);\n                read(this.parent, events.pathChanged, currentPath);\n                var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n                this.parent.notify(events.updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n            }\n        }\n    };\n    // eslint-disable-next-line\n    BreadCrumbBar.prototype.triggerFileOpen = function (data) {\n        var eventArgs = { cancel: false, fileDetails: data, module: 'BreadCrumbBar' };\n        delete eventArgs.cancel;\n        this.parent.trigger('fileOpen', eventArgs);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onShowInput = function () {\n        if (this.parent.isMobile) {\n            if (this.parent.element.classList.contains(CLS.FILTER)) {\n                removeClass([this.parent.element], CLS.FILTER);\n                this.searchWrapWidth = null;\n            }\n            else {\n                var searchWrap = this.parent.breadCrumbBarNavigation.querySelector('.e-search-wrap');\n                this.searchWrapWidth = searchWrap.offsetWidth;\n                addClass([this.parent.element], CLS.FILTER);\n                this.searchObj.element.focus();\n            }\n        }\n    };\n    BreadCrumbBar.prototype.updatePath = function (list) {\n        var li = closest(list, 'li');\n        var liElementId = li.getAttribute('data-utext');\n        this.addressBarLink = liElementId;\n        var link = this.addressBarLink.split('/');\n        var ids = this.parent.pathId;\n        var names = this.parent.pathNames;\n        this.parent.pathId = [];\n        this.parent.pathNames = [];\n        var newpath = '';\n        for (var i = 0, len = link.length - 1; i < len; i++) {\n            this.parent.pathId.push(ids[i]);\n            this.parent.pathNames.push(names[i]);\n            newpath += link[i] + '/';\n        }\n        this.parent.setProperties({ path: newpath }, true);\n        return newpath;\n    };\n    BreadCrumbBar.prototype.onUpdatePath = function () {\n        this.onPathChange();\n        this.removeSearchValue();\n    };\n    BreadCrumbBar.prototype.onCreateEnd = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.onRenameEnd = function () {\n        this.onPathChange();\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onDeleteEnd = function () {\n        this.onUpdatePath();\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.removeSearchValue = function () {\n        this.parent.isFiltered = false;\n        if (this.searchObj && (this.searchObj.value !== '' || this.searchObj.element.value !== '')) {\n            this.searchObj.value = '';\n            this.searchObj.element.value = '';\n            this.searchObj.dataBind();\n        }\n    };\n    BreadCrumbBar.prototype.onResize = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.onPasteEnd = function () {\n        this.onPathChange();\n    };\n    BreadCrumbBar.prototype.addEventListener = function () {\n        this.keyboardModule = new KeyboardEvents(this.parent.breadCrumbBarNavigation, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        EventHandler.add(this.parent.breadCrumbBarNavigation, 'click', this.addressPathClickHandler, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.pathChanged, this.onUpdatePath, this);\n        this.parent.on(events.finalizeEnd, this.onUpdatePath, this);\n        this.parent.on(events.refreshEnd, this.onUpdatePath, this);\n        this.parent.on(events.openEnd, this.onUpdatePath, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.renameEnd, this.onRenameEnd, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.splitterResize, this.onResize, this);\n        this.parent.on(events.pasteEnd, this.onPasteEnd, this);\n        this.parent.on(events.resizeEnd, this.onResize, this);\n        this.parent.on(events.searchTextChange, this.onSearchTextChange, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.layoutRefresh, this.onResize, this);\n        this.parent.on(events.dropPath, this.onPathChange, this);\n    };\n    BreadCrumbBar.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'enter':\n                this.addressPathClickHandler(e);\n                break;\n        }\n    };\n    BreadCrumbBar.prototype.removeEventListener = function () {\n        this.keyboardModule.destroy();\n        this.parent.off(events.pathChanged, this.onUpdatePath);\n        this.parent.off(events.finalizeEnd, this.onUpdatePath);\n        this.parent.off(events.refreshEnd, this.onUpdatePath);\n        this.parent.off(events.openEnd, this.onUpdatePath);\n        this.parent.off(events.pasteEnd, this.onPasteEnd);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.renameEnd, this.onRenameEnd);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.splitterResize, this.onResize);\n        this.parent.off(events.resizeEnd, this.onResize);\n        this.parent.off(events.searchTextChange, this.onSearchTextChange);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.layoutRefresh, this.onResize);\n        this.parent.off(events.dropPath, this.onPathChange);\n    };\n    /* istanbul ignore next */\n    BreadCrumbBar.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var liEle = args.target.closest('li');\n            this.parent.dropPath = this.updatePath((liEle.children[0]));\n            this.parent.dropData = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feParent);\n            this.triggerFileOpen(this.parent.dropData);\n            var treeNodeId = this.parent.pathId[this.parent.pathId.length - 1];\n            this.parent.notify(events.updateTreeSelection, { module: 'treeview', selectedNode: treeNodeId });\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name\n     * @private\n     */\n    BreadCrumbBar.prototype.getModuleName = function () {\n        return 'breadcrumbbar';\n    };\n    BreadCrumbBar.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        /* istanbul ignore next */\n        if (!isNullOrUndefined(this.subMenuObj)) {\n            this.subMenuObj.destroy();\n        }\n        if (!isNullOrUndefined(this.searchObj)) {\n            this.searchObj.destroy();\n        }\n    };\n    BreadCrumbBar.prototype.onSearchTextChange = function (args) {\n        this.searchObj.element.placeholder = (this.parent.searchSettings.placeholder != null) ? this.parent.searchSettings.placeholder : getLocaleText(this.parent, 'Search') + ' ' + args.cwd.name;\n    };\n    return BreadCrumbBar;\n}());\nexport { BreadCrumbBar };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}