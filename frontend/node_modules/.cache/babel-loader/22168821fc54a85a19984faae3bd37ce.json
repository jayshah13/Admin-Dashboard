{"ast":null,"code":"import { Dialog } from '@syncfusion/ej2-popups';\nimport { select, isNullOrUndefined as isNOU, createElement, Internationalization } from '@syncfusion/ej2-base';\nimport { getValue, remove, selectAll } from '@syncfusion/ej2-base';\nimport { createFolder } from '../common/operations';\nimport * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { paste, rename } from '../common/operations';\nimport { getLocaleText, getDuplicateData, getParentPath, objectToString, getCssClass } from '../common/utility';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons'; // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\n\nexport function createDialog(parent, text, e, details, replaceItems) {\n  var options = getOptions(parent, text, e, details, replaceItems);\n\n  if (isNOU(parent.dialogObj)) {\n    parent.dialogObj = new Dialog({\n      beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n      },\n      header: options.header,\n      content: options.content,\n      buttons: options.buttons,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      allowDragging: true,\n      isModal: true,\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      width: '350px',\n      open: options.open,\n      close: options.close,\n      enableRtl: parent.enableRtl,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.dialogObj.isStringTemplate = true;\n    parent.dialogObj.appendTo('#' + parent.element.id + CLS.DIALOG_ID);\n  } else {\n    changeOptions(parent, options);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\n\nexport function createExtDialog(parent, text, replaceItems, newPath) {\n  var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n  parent.isApplySame = false;\n\n  if (isNOU(parent.extDialogObj)) {\n    parent.extDialogObj = new Dialog({\n      beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n      },\n      content: extOptions.content,\n      header: extOptions.header,\n      closeOnEscape: true,\n      allowDragging: true,\n      animationSettings: {\n        effect: 'None'\n      },\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      enableRtl: parent.enableRtl,\n      showCloseIcon: true,\n      isModal: true,\n      width: 350,\n      buttons: extOptions.buttons,\n      open: extOptions.open,\n      close: extOptions.close,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      locale: parent.locale\n    });\n    parent.extDialogObj.isStringTemplate = true;\n    parent.extDialogObj.appendTo('#' + parent.element.id + CLS.EXTN_DIALOG_ID);\n  } else {\n    parent.extDialogObj.header = extOptions.header;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.open = extOptions.open;\n    parent.extDialogObj.close = extOptions.close;\n    parent.extDialogObj.content = extOptions.content;\n    parent.extDialogObj.buttons = extOptions.buttons;\n    parent.extDialogObj.enableRtl = parent.enableRtl;\n    parent.extDialogObj.locale = parent.locale;\n    parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n\n    parent.extDialogObj.beforeClose = function (args) {\n      triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n    };\n\n    parent.extDialogObj.dataBind();\n    parent.extDialogObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupName: dialogName,\n    popupModule: dlgModule\n  };\n  parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n  var eventArgs = {\n    cancel: args.cancel,\n    popupModule: dlgModule,\n    popupName: dialogName\n  };\n  parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n    args.cancel = eventargs.cancel;\n\n    if (!args.cancel && args.isInteracted && (dialogName === 'Rename' || dialogName === 'Create Folder')) {\n      parent.trigger(events.actionFailure, {});\n    }\n  });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\n\n\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n  var args = {\n    popupModule: dlgModule,\n    element: dlgModule.element,\n    popupName: dialogName\n  };\n  parent.trigger('popupClose', args);\n} // eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\n\n\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var duplicateContent;\n  var item;\n  var index;\n\n  options.open = function () {\n    triggerPopupOpen(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  options.close = function () {\n    triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n  };\n\n  switch (text) {\n    case 'Extension':\n      options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n      options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          rename(parent, newPath, parent.renameText);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.extDialogObj.hide();\n          parent.dialogObj.hide();\n        }\n      }];\n      options.dialogName = 'Extension Change';\n      break;\n\n    case 'DuplicateItems':\n      options.dialogName = 'Duplicate Items';\n      parent.replaceItems = replaceItems;\n      item = parent.replaceItems[parent.fileLength];\n      index = item.lastIndexOf('/');\n      item = index === -1 ? item : item.substring(index);\n      options.header = getLocaleText(parent, 'Header-Duplicate');\n      duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n      options.content = duplicateContent.replace('{0}', item);\n\n      options.close = function () {\n        if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n          var args = {\n            fileDetails: parent.droppedObjects\n          };\n          parent.trigger('fileDropped', args);\n          parent.isDropEnd = parent.isDragDrop = false;\n        }\n\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function () {\n          parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n          parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            var item_1 = parent.replaceItems[parent.fileLength];\n            var indexval = item_1.lastIndexOf('/');\n            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_1);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n            var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n          }\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.fileLength++;\n\n          if (replaceItems[parent.fileLength]) {\n            var item_2 = parent.replaceItems[parent.fileLength];\n            var ind = item_2.lastIndexOf('/');\n            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n            parent.extDialogObj.content = duplicateContent.replace('{0}', item_2);\n            parent.extDialogObj.show();\n          } else {\n            parent.extDialogObj.hide();\n\n            if (parent.duplicateItems.length !== 0) {\n              var action = parent.isDragDrop ? 'move' : parent.fileAction;\n              var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n              var path = parent.isDragDrop ? parent.dropPath : parent.folderPath === '' ? parent.path : parent.folderPath;\n              paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n            }\n          }\n        }\n      }];\n      break;\n\n    case 'UploadRetry':\n      options.dialogName = 'Retry Upload';\n      options.header = getLocaleText(parent, 'Header-Retry');\n      options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' + getLocaleText(parent, 'Content-Retry') + '</div>';\n      options.open = onRetryOpen.bind(this, parent);\n\n      options.close = function () {\n        parent.isRetryOpened = false;\n        retryDlgClose(parent);\n        triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n      };\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Keep-Both')\n        },\n        click: function () {\n          retryDlgUpdate(parent, true);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Replace')\n        },\n        click: function () {\n          retryDlgUpdate(parent, false);\n        }\n      }, {\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Skip')\n        },\n        click: function () {\n          var count = 0;\n\n          if (parent.isApplySame) {\n            count = parent.retryFiles.length;\n            parent.retryFiles = [];\n            retryDlgClose(parent);\n          } else {\n            count = 1;\n            parent.retryFiles.splice(0, 1);\n\n            if (parent.retryFiles.length !== 0) {\n              createExtDialog(parent, 'UploadRetry');\n            } else {\n              retryDlgClose(parent);\n            }\n          }\n\n          parent.notify(events.skipUpload, {\n            count: count\n          });\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgUpdate(parent, isKeepBoth) {\n  if (parent.isApplySame) {\n    if (isKeepBoth) {\n      onKeepBothAll(parent);\n    } else {\n      onReplaceAll(parent);\n    }\n\n    retryDlgClose(parent);\n  } else {\n    parent.retryArgs.push({\n      action: isKeepBoth ? 'keepboth' : 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n\n    if (parent.retryFiles.length !== 0) {\n      createExtDialog(parent, 'UploadRetry');\n    } else {\n      retryDlgClose(parent);\n    }\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction retryDlgClose(parent) {\n  var flag = true;\n\n  if (parent.isRetryOpened) {\n    parent.isRetryOpened = false;\n  } else {\n    flag = false;\n  }\n\n  var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n\n  if (ele) {\n    remove(ele);\n  }\n\n  if (flag) {\n    parent.extDialogObj.hide();\n  } else {\n    parent.retryFiles = [];\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\n\nfunction onRetryOpen(parent, args) {\n  parent.isRetryOpened = true;\n  var dialogEle = getValue('element', args);\n  var container = select('.e-dlg-content', dialogEle);\n  var checkContainer = parent.createElement('div', {\n    className: 'e-dlg-checkbox'\n  });\n  var checkbox = parent.createElement('input', {\n    id: parent.element.id + '_applyall'\n  });\n  checkContainer.appendChild(checkbox);\n  container.appendChild(checkContainer);\n  var checkBoxObj = new CheckBox({\n    label: getLocaleText(parent, 'ApplyAll-Label'),\n    change: function (args) {\n      parent.isApplySame = args.checked;\n    }\n  });\n  checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n  triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onKeepBothAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'keepboth',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReplaceAll(parent) {\n  while (parent.retryFiles.length !== 0) {\n    parent.retryArgs.push({\n      action: 'replace',\n      file: parent.retryFiles[0]\n    });\n    parent.uploadObj.retry(parent.retryFiles[0]);\n    parent.retryFiles.splice(0, 1);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction focusInput(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  ele.focus();\n  ele.value = '';\n  var len = ele.value.length;\n  ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFolderDialogOpen(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n\n  if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n  }\n\n  ele.parentElement.nextElementSibling.innerHTML = '';\n\n  ele.oninput = function () {\n    onValidate(parent, ele);\n  };\n\n  ele.onkeyup = function (e) {\n    var code = getKeyCode(e);\n\n    if (code === 13) {\n      onSubmit(parent);\n    }\n  };\n\n  focusInput(parent);\n  triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onRenameDialogOpen(parent) {\n  var inputEle = select('#rename', parent.dialogObj.element);\n\n  if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n    createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n  }\n\n  inputEle.parentElement.nextElementSibling.innerHTML = '';\n\n  inputEle.oninput = function () {\n    onValidate(parent, inputEle);\n  };\n\n  inputEle.onkeyup = function (e) {\n    var code = getKeyCode(e);\n\n    if (code === 13) {\n      onReSubmit(parent);\n    }\n  };\n\n  onFocusRenameInput(parent, inputEle);\n  triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onFocusRenameInput(parent, inputEle) {\n  inputEle.focus();\n  var txt = '';\n\n  if (parent.isFile && !parent.showFileExtension) {\n    var index = parent.currentItemText.lastIndexOf('.');\n    txt = index === -1 ? parent.currentItemText : parent.currentItemText.substring(0, index);\n  } else {\n    txt = parent.currentItemText;\n  }\n\n  inputEle.value = txt;\n\n  if (parent.isFile && parent.showFileExtension && inputEle.value.indexOf('.') !== -1) {\n    inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n  } else {\n    inputEle.setSelectionRange(0, inputEle.value.length);\n  }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\n\n\nfunction createInput(ele, placeholder) {\n  Input.createInput({\n    element: ele,\n    properties: {\n      placeholder: placeholder\n    }\n  });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\n\n\nfunction getOptions(parent, text, e, details, replaceItems) {\n  var options = {\n    header: '',\n    content: '',\n    buttons: [],\n    dialogName: ''\n  };\n  var permission;\n  var formattedString;\n  var intl;\n  var strArr;\n  var fileType;\n  var location;\n\n  options.open = function () {\n    triggerPopupOpen(parent, parent.dialogObj, options.dialogName);\n  };\n\n  options.close = function () {\n    triggerPopupClose(parent, parent.dialogObj, options.dialogName);\n  };\n\n  text = details && details.multipleFiles === true ? 'MultipleFileDetails' : text;\n\n  switch (text) {\n    case 'NewFolder':\n      options.dialogName = 'Create Folder';\n      options.header = getLocaleText(parent, 'Header-NewFolder');\n      options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Create')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onSubmit(parent);\n        }\n      }];\n      options.open = onFolderDialogOpen.bind(this, parent);\n      break;\n\n    case 'Delete':\n      options.dialogName = 'Delete';\n\n      if (parent.selectedItems.length > 1) {\n        options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>').replace('{0}', parent.selectedItems.length.toString());\n        options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n      } else {\n        options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n        options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n      }\n\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Yes')\n        },\n        click: function (e) {\n          onDeleteSubmit(parent);\n        }\n      }, {\n        buttonModel: {\n          content: getLocaleText(parent, 'Button-No')\n        },\n        click: function () {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Rename':\n      options.dialogName = 'Rename';\n      options.header = getLocaleText(parent, 'Header-Rename');\n      options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Save')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          onReSubmit(parent);\n        }\n      }];\n      options.open = onRenameDialogOpen.bind(this, parent);\n      break;\n\n    case 'details':\n      options.dialogName = 'File Details';\n      intl = new Internationalization(parent.locale);\n      formattedString = intl.formatDate(new Date(details.modified), {\n        format: 'MMMM dd, yyyy HH:mm:ss'\n      });\n      permission = '';\n\n      if (!isNOU(details.permission)) {\n        permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + CLS.VALUE + '\" >' + objectToString(details.permission) + '</td></tr>';\n      }\n\n      options.header = details.name;\n      options.content = '<table>' + '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' + (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + CLS.VALUE + '\" title =\"' + details.size + '\">' + details.size + '</span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' + details.location + '\">' + details.location + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + CLS.VALUE + '\" >' + formattedString + '</td></tr>' + permission + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'MultipleFileDetails':\n      options.dialogName = 'File Details';\n      strArr = details.name.split(',').map(function (val) {\n        var index = val.indexOf('.') + 1;\n        return index === 0 ? 'Folder' : val.substr(index).replace(' ', '');\n      });\n      fileType = strArr.every(function (val, i, arr) {\n        return val === arr[0];\n      }) ? strArr[0] === 'Folder' ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type' : 'Multiple Types';\n      location = details.location;\n      options.header = details.name;\n      options.content = '<table><tr><td>' + getLocaleText(parent, 'Type') + ':</td><td class=\"' + CLS.VALUE + '\">' + fileType + '</td></tr>' + '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' + details.size + '<span class=\"' + CLS.VALUE + '\" title =\"' + details.size + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') + ':</td><td class=\"' + CLS.VALUE + '\" title=\"' + location + '\">' + location + '</td></tr>' + '</table>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          if (e.type === 'keydown') {\n            return;\n          }\n\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n\n    case 'Error':\n      parent.notify(events.actionFailure, {});\n      options.dialogName = 'Error';\n\n      if (e.error.code === '401') {\n        options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' + getLocaleText(parent, 'Access-Denied') + '</div>';\n      } else {\n        options.header = getLocaleText(parent, 'Error');\n      }\n\n      options.content = '<div class=\"' + CLS.ERROR_CONTENT + '\">' + e.error.message + '</div>';\n      options.buttons = [{\n        buttonModel: {\n          isPrimary: true,\n          content: getLocaleText(parent, 'Button-Ok')\n        },\n        click: function (e) {\n          parent.dialogObj.hide();\n        }\n      }];\n      break;\n  }\n\n  return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction keydownAction(parent, dialogName, args) {\n  var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\n\n\nfunction beforeExtOpen(parent, dlgName, args) {\n  var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n  preventKeydown(btnElement);\n  triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\n\n\nfunction preventKeydown(btnElement) {\n  var _loop_1 = function (btnCount) {\n    btnElement[btnCount].onkeydown = function (e) {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n      }\n    };\n\n    btnElement[btnCount].onkeyup = function (e) {\n      if (e.keyCode === 13) {\n        btnElement[btnCount].click();\n      }\n    };\n  };\n\n  for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n    _loop_1(btnCount);\n  }\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {SelectedEventArgs} data - specifies the data.\n * @returns {HTMLElement} - returns the HTML element.\n * @private\n */\n\n\nfunction getFilesName(data) {\n  var parent = createElement('div', {\n    id: 'uploadDialog'\n  });\n  var ulElement = createElement('ul');\n  var filesData = data.isModified ? data.modifiedFilesData : data.filesData;\n\n  for (var fileCount = 0; fileCount < filesData.length; fileCount++) {\n    var liElement = createElement('li', {\n      className: 'dialogFiles'\n    });\n    liElement.innerHTML = filesData[fileCount].name;\n    ulElement.appendChild(liElement);\n  }\n\n  parent.appendChild(ulElement);\n  var errorTag = createElement('div', {\n    className: 'e-fe-error'\n  });\n  parent.appendChild(errorTag);\n  return parent;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\n\n\nfunction changeOptions(parent, options) {\n  parent.dialogObj.header = options.header;\n  parent.dialogObj.content = options.content;\n  parent.dialogObj.buttons = options.buttons;\n  parent.dialogObj.enableRtl = parent.enableRtl;\n  parent.dialogObj.open = options.open;\n  parent.dialogObj.close = options.close;\n  parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n\n  parent.dialogObj.beforeClose = function (args) {\n    triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n  };\n\n  parent.dialogObj.dataBind();\n  parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmit(parent) {\n  var ele = select('#newname', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onReSubmit(parent) {\n  var ele = select('#rename', parent.dialogObj.element);\n  onSubmitValidate(parent, ele);\n\n  if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n    return;\n  }\n\n  var text = ele.value;\n  var oIndex = parent.currentItemText.lastIndexOf('.');\n\n  if (parent.isFile && !parent.showFileExtension) {\n    var extn = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    text += extn;\n  }\n\n  parent.renameText = text;\n\n  if (parent.currentItemText === text) {\n    parent.dialogObj.hide();\n    return;\n  }\n\n  var newPath = parent.activeModule === 'navigationpane' ? getParentPath(parent.path) : parent.path;\n  parent.renamedId = getValue('id', parent.itemData[0]);\n\n  if (parent.isFile) {\n    var oldExtension = oIndex === -1 ? '' : parent.currentItemText.substr(oIndex);\n    var nIndex = text.lastIndexOf('.');\n    var newExtension = nIndex === -1 ? '' : text.substr(nIndex);\n\n    if (parent.showFileExtension && oldExtension !== newExtension) {\n      createExtDialog(parent, 'Extension', null, newPath);\n    } else {\n      rename(parent, newPath, text);\n    }\n  } else {\n    rename(parent, newPath, text);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction onDeleteSubmit(parent) {\n  parent.dialogObj.hide();\n  parent.notify(events.deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onValidate(parent, ele) {\n  if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n    addInvalid(parent, ele);\n  } else if (ele.value === '') {\n    ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = '';\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction onSubmitValidate(parent, ele) {\n  onValidate(parent, ele);\n  var len = ele.value.length - 1;\n\n  if (ele.value !== '' && (ele.value.lastIndexOf('.') === len || ele.value.lastIndexOf(' ') === len) && (parent.showFileExtension || parent.currentItemText.lastIndexOf('.') === -1)) {\n    addInvalid(parent, ele);\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\n\n\nfunction addInvalid(parent, ele) {\n  var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n\n  if (parent.enableHtmlSanitizer) {\n    ele.parentElement.nextElementSibling.textContent = error;\n  } else {\n    ele.parentElement.nextElementSibling.innerHTML = error;\n  }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\n\n\nfunction getKeyCode(e) {\n  var code;\n\n  if (e.keyCode) {\n    code = e.keyCode;\n  } else if (e.which) {\n    code = e.which;\n  } else {\n    code = e.charCode;\n  }\n\n  return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\n\n\nexport function createImageDialog(parent, header, imageUrl) {\n  var content = createElement('div', {\n    className: 'e-image-wrap'\n  });\n  var image = createElement('img', {\n    className: 'e-image',\n    attrs: {\n      src: imageUrl,\n      alt: header\n    }\n  });\n  content.appendChild(image);\n\n  if (isNOU(parent.viewerObj)) {\n    parent.viewerObj = new Dialog({\n      header: header,\n      content: content,\n      animationSettings: {\n        effect: 'None'\n      },\n      showCloseIcon: true,\n      closeOnEscape: true,\n      visible: true,\n      isModal: true,\n      width: '350px',\n      height: '350px',\n      target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n      cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n      locale: parent.locale,\n      enableResize: true,\n      allowDragging: true,\n      enableHtmlSanitizer: parent.enableHtmlSanitizer,\n      position: {\n        X: 'center',\n        Y: 'center'\n      },\n      enableRtl: parent.enableRtl,\n      open: openImage.bind(this, parent),\n      close: function () {\n        triggerPopupClose(parent, parent.viewerObj, 'Image Preview');\n      },\n      beforeOpen: function (args) {\n        triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      beforeClose: function (args) {\n        triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n      },\n      resizing: updateImage.bind(this, parent),\n      resizeStop: updateImage.bind(this, parent)\n    });\n    parent.viewerObj.isStringTemplate = true;\n    parent.viewerObj.appendTo('#' + parent.element.id + CLS.IMG_DIALOG_ID);\n  } else {\n    parent.viewerObj.refresh();\n    parent.viewerObj.header = header;\n    parent.viewerObj.content = content;\n    parent.viewerObj.enableRtl = parent.enableRtl;\n    parent.viewerObj.dataBind();\n    parent.viewerObj.show();\n  }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nfunction openImage(parent) {\n  setTimeout(function () {\n    if (parent.viewerObj) {\n      parent.viewerObj.element.focus();\n    }\n  });\n  updateImage(parent);\n  triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\n\nfunction updateImage(parent) {\n  var content = select('.e-dlg-content', parent.viewerObj.element);\n  var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n  var cssObj = window.getComputedStyle(content, null);\n  var paddingWidth = cssObj ? 2 * parseFloat(cssObj.paddingRight) : 36;\n  var paddingHeight = cssObj ? 2 * parseFloat(cssObj.paddingBottom) : 20;\n  imgWrap.style.width = content.offsetWidth - paddingWidth + 'px';\n  imgWrap.style.height = content.offsetHeight - paddingHeight + 'px';\n}","map":{"version":3,"names":["Dialog","select","isNullOrUndefined","isNOU","createElement","Internationalization","getValue","remove","selectAll","createFolder","CLS","events","paste","rename","getLocaleText","getDuplicateData","getParentPath","objectToString","getCssClass","Input","CheckBox","createDialog","parent","text","e","details","replaceItems","options","getOptions","dialogObj","beforeOpen","keydownAction","bind","dialogName","beforeClose","args","triggerPopupBeforeClose","header","content","buttons","animationSettings","effect","showCloseIcon","closeOnEscape","visible","allowDragging","isModal","target","popupTarget","element","id","cssClass","isMobile","MOB_POPUP","ROOT_POPUP","width","open","close","enableRtl","enableHtmlSanitizer","locale","isStringTemplate","appendTo","DIALOG_ID","changeOptions","createExtDialog","newPath","extOptions","getExtOptions","isApplySame","extDialogObj","beforeExtOpen","EXTN_DIALOG_ID","dataBind","show","triggerPopupBeforeOpen","dlgModule","eventArgs","cancel","popupName","popupModule","trigger","eventargs","isInteracted","actionFailure","triggerPopupOpen","triggerPopupClose","duplicateContent","item","index","buttonModel","isPrimary","click","hide","renameText","fileLength","lastIndexOf","substring","replace","isDropEnd","duplicateItems","length","fileDetails","droppedObjects","isDragDrop","push","duplicateRecords","item_1","indexval","targetPath","dragPath","path","dropPath","folderPath","action","fileAction","item_2","ind","retryFiles","name","onRetryOpen","isRetryOpened","retryDlgClose","retryDlgUpdate","count","splice","notify","skipUpload","isKeepBoth","onKeepBothAll","onReplaceAll","retryArgs","file","uploadObj","retry","flag","ele","dialogEle","container","checkContainer","className","checkbox","appendChild","checkBoxObj","label","change","checked","focusInput","focus","value","len","setSelectionRange","onFolderDialogOpen","parentElement","classList","contains","createInput","nextElementSibling","innerHTML","oninput","onValidate","onkeyup","code","getKeyCode","onSubmit","onRenameDialogOpen","inputEle","onReSubmit","onFocusRenameInput","txt","isFile","showFileExtension","currentItemText","indexOf","placeholder","properties","permission","formattedString","intl","strArr","fileType","location","multipleFiles","type","selectedItems","toString","onDeleteSubmit","formatDate","Date","modified","format","VALUE","size","split","map","val","substr","every","i","arr","toLocaleUpperCase","error","ERROR_CONTENT","message","btnElement","preventKeydown","dlgName","_loop_1","btnCount","onkeydown","keyCode","preventDefault","getFilesName","data","ulElement","filesData","isModified","modifiedFilesData","fileCount","liElement","errorTag","onSubmitValidate","oIndex","extn","activeModule","renamedId","itemData","oldExtension","nIndex","newExtension","deleteInit","test","addInvalid","textContent","which","charCode","createImageDialog","imageUrl","image","attrs","src","alt","viewerObj","height","enableResize","position","X","Y","openImage","resizing","updateImage","resizeStop","IMG_DIALOG_ID","refresh","setTimeout","imgWrap","cssObj","window","getComputedStyle","paddingWidth","parseFloat","paddingRight","paddingHeight","paddingBottom","style","offsetWidth","offsetHeight"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-filemanager/src/file-manager/pop-up/dialog.js"],"sourcesContent":["import { Dialog } from '@syncfusion/ej2-popups';\nimport { select, isNullOrUndefined as isNOU, createElement, Internationalization } from '@syncfusion/ej2-base';\nimport { getValue, remove, selectAll } from '@syncfusion/ej2-base';\nimport { createFolder } from '../common/operations';\nimport * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { paste, rename } from '../common/operations';\nimport { getLocaleText, getDuplicateData, getParentPath, objectToString, getCssClass } from '../common/utility';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport { CheckBox } from '@syncfusion/ej2-buttons';\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the type of event args.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement.\n * @returns {void}\n * @private\n */\nexport function createDialog(parent, text, e, details, replaceItems) {\n    var options = getOptions(parent, text, e, details, replaceItems);\n    if (isNOU(parent.dialogObj)) {\n        parent.dialogObj = new Dialog({\n            beforeOpen: keydownAction.bind(this, parent, options.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n            },\n            header: options.header,\n            content: options.content,\n            buttons: options.buttons,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            allowDragging: true,\n            isModal: true,\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            width: '350px',\n            open: options.open,\n            close: options.close,\n            enableRtl: parent.enableRtl,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.dialogObj.isStringTemplate = true;\n        parent.dialogObj.appendTo('#' + parent.element.id + CLS.DIALOG_ID);\n    }\n    else {\n        changeOptions(parent, options);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {void}\n * @private\n */\nexport function createExtDialog(parent, text, replaceItems, newPath) {\n    var extOptions = getExtOptions(parent, text, replaceItems, newPath);\n    parent.isApplySame = false;\n    if (isNOU(parent.extDialogObj)) {\n        parent.extDialogObj = new Dialog({\n            beforeOpen: beforeExtOpen.bind(this, parent, extOptions.dialogName),\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n            },\n            content: extOptions.content,\n            header: extOptions.header,\n            closeOnEscape: true,\n            allowDragging: true,\n            animationSettings: { effect: 'None' },\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            enableRtl: parent.enableRtl,\n            showCloseIcon: true,\n            isModal: true,\n            width: 350,\n            buttons: extOptions.buttons,\n            open: extOptions.open,\n            close: extOptions.close,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            locale: parent.locale\n        });\n        parent.extDialogObj.isStringTemplate = true;\n        parent.extDialogObj.appendTo('#' + parent.element.id + CLS.EXTN_DIALOG_ID);\n    }\n    else {\n        parent.extDialogObj.header = extOptions.header;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.open = extOptions.open;\n        parent.extDialogObj.close = extOptions.close;\n        parent.extDialogObj.content = extOptions.content;\n        parent.extDialogObj.buttons = extOptions.buttons;\n        parent.extDialogObj.enableRtl = parent.enableRtl;\n        parent.extDialogObj.locale = parent.locale;\n        parent.extDialogObj.beforeOpen = beforeExtOpen.bind(this, parent, extOptions.dialogName);\n        parent.extDialogObj.beforeClose = function (args) {\n            triggerPopupBeforeClose(parent, parent.extDialogObj, args, extOptions.dialogName);\n        };\n        parent.extDialogObj.dataBind();\n        parent.extDialogObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {Dialog} dlgModule - Specifies the dialog module.\n * @param {BeforeOpenEventArgs} args - specifies the before open arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeOpen(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupName: dialogName, popupModule: dlgModule\n    };\n    parent.trigger('beforePopupOpen', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {BeforeCloseEventArgs} args - specifies the before close event arguements.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupBeforeClose(parent, dlgModule, args, dialogName) {\n    var eventArgs = {\n        cancel: args.cancel, popupModule: dlgModule, popupName: dialogName\n    };\n    parent.trigger('beforePopupClose', eventArgs, function (eventargs) {\n        args.cancel = eventargs.cancel;\n        if (!args.cancel && args.isInteracted && ((dialogName === 'Rename') || (dialogName === 'Create Folder'))) {\n            parent.trigger(events.actionFailure, {});\n        }\n    });\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupOpen(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupOpen', args);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Dialog} dlgModule - specifies the dialog module.\n * @param {string} dialogName - specifies the dialog name.\n * @returns {void}\n * @private\n */\nfunction triggerPopupClose(parent, dlgModule, dialogName) {\n    var args = { popupModule: dlgModule, element: dlgModule.element, popupName: dialogName };\n    parent.trigger('popupClose', args);\n}\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - Specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @param {string} newPath - specifies the new path.\n * @returns {DialogOptions} - returns the dialog options.\n * @private\n */\nfunction getExtOptions(parent, text, replaceItems, newPath) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var duplicateContent;\n    var item;\n    var index;\n    options.open = function () { triggerPopupOpen(parent, parent.extDialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.extDialogObj, options.dialogName); };\n    switch (text) {\n        case 'Extension':\n            options.header = getLocaleText(parent, 'Header-Rename-Confirmation');\n            options.content = '<div>' + getLocaleText(parent, 'Content-Rename-Confirmation') + '</div>';\n            options.buttons = [{\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        rename(parent, newPath, parent.renameText);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.extDialogObj.hide();\n                        parent.dialogObj.hide();\n                    }\n                }];\n            options.dialogName = 'Extension Change';\n            break;\n        case 'DuplicateItems':\n            options.dialogName = 'Duplicate Items';\n            parent.replaceItems = replaceItems;\n            item = parent.replaceItems[parent.fileLength];\n            index = item.lastIndexOf('/');\n            item = index === -1 ? item : item.substring(index);\n            options.header = getLocaleText(parent, 'Header-Duplicate');\n            duplicateContent = '<div>' + getLocaleText(parent, 'Content-Duplicate') + '</div>';\n            options.content = (duplicateContent).replace('{0}', item);\n            options.close = function () {\n                if (!parent.isDropEnd && parent.duplicateItems.length === 0) {\n                    var args = { fileDetails: parent.droppedObjects };\n                    parent.trigger('fileDropped', args);\n                    parent.isDropEnd = parent.isDragDrop = false;\n                }\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function () {\n                        parent.duplicateItems.push(parent.replaceItems[parent.fileLength]);\n                        parent.duplicateRecords.push(getDuplicateData(parent, parent.replaceItems[parent.fileLength]));\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_1 = parent.replaceItems[parent.fileLength];\n                            var indexval = item_1.lastIndexOf('/');\n                            item_1 = indexval === -1 ? item_1 : item_1.substring(indexval);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_1);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                            var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                parent.folderPath);\n                            var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                            paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                        }\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.fileLength++;\n                        if (replaceItems[parent.fileLength]) {\n                            var item_2 = parent.replaceItems[parent.fileLength];\n                            var ind = item_2.lastIndexOf('/');\n                            item_2 = ind === -1 ? item_2 : item_2.substring(ind);\n                            parent.extDialogObj.content = (duplicateContent).replace('{0}', item_2);\n                            parent.extDialogObj.show();\n                        }\n                        else {\n                            parent.extDialogObj.hide();\n                            if (parent.duplicateItems.length !== 0) {\n                                var action = parent.isDragDrop ? 'move' : parent.fileAction;\n                                var targetPath = parent.isDragDrop ? parent.dragPath : parent.targetPath;\n                                var path = parent.isDragDrop ? parent.dropPath : ((parent.folderPath === '') ? parent.path :\n                                    parent.folderPath);\n                                paste(parent, targetPath, parent.duplicateItems, path, action, parent.duplicateItems, parent.duplicateRecords);\n                            }\n                        }\n                    }\n                }\n            ];\n            break;\n        case 'UploadRetry':\n            options.dialogName = 'Retry Upload';\n            options.header = getLocaleText(parent, 'Header-Retry');\n            options.content = parent.retryFiles[0].name + '<div class=\"e-fe-retrycontent\">' +\n                (getLocaleText(parent, 'Content-Retry')) + '</div>';\n            options.open = onRetryOpen.bind(this, parent);\n            options.close = function () {\n                parent.isRetryOpened = false;\n                retryDlgClose(parent);\n                triggerPopupClose(parent, parent.extDialogObj, options.dialogName);\n            };\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Keep-Both') },\n                    click: function () {\n                        retryDlgUpdate(parent, true);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Replace') },\n                    click: function () {\n                        retryDlgUpdate(parent, false);\n                    }\n                },\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Skip') },\n                    click: function () {\n                        var count = 0;\n                        if (parent.isApplySame) {\n                            count = parent.retryFiles.length;\n                            parent.retryFiles = [];\n                            retryDlgClose(parent);\n                        }\n                        else {\n                            count = 1;\n                            parent.retryFiles.splice(0, 1);\n                            if (parent.retryFiles.length !== 0) {\n                                createExtDialog(parent, 'UploadRetry');\n                            }\n                            else {\n                                retryDlgClose(parent);\n                            }\n                        }\n                        parent.notify(events.skipUpload, { count: count });\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {boolean} isKeepBoth - checks the arguement to keep both.\n * @returns {void}\n * @private\n */\nfunction retryDlgUpdate(parent, isKeepBoth) {\n    if (parent.isApplySame) {\n        if (isKeepBoth) {\n            onKeepBothAll(parent);\n        }\n        else {\n            onReplaceAll(parent);\n        }\n        retryDlgClose(parent);\n    }\n    else {\n        parent.retryArgs.push({\n            action: isKeepBoth ? 'keepboth' : 'replace',\n            file: parent.retryFiles[0]\n        });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n        if (parent.retryFiles.length !== 0) {\n            createExtDialog(parent, 'UploadRetry');\n        }\n        else {\n            retryDlgClose(parent);\n        }\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction retryDlgClose(parent) {\n    var flag = true;\n    if (parent.isRetryOpened) {\n        parent.isRetryOpened = false;\n    }\n    else {\n        flag = false;\n    }\n    var ele = select('.e-dlg-checkbox', parent.extDialogObj.element);\n    if (ele) {\n        remove(ele);\n    }\n    if (flag) {\n        parent.extDialogObj.hide();\n    }\n    else {\n        parent.retryFiles = [];\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {object} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nfunction onRetryOpen(parent, args) {\n    parent.isRetryOpened = true;\n    var dialogEle = getValue('element', args);\n    var container = select('.e-dlg-content', dialogEle);\n    var checkContainer = parent.createElement('div', {\n        className: 'e-dlg-checkbox'\n    });\n    var checkbox = parent.createElement('input', {\n        id: parent.element.id + '_applyall'\n    });\n    checkContainer.appendChild(checkbox);\n    container.appendChild(checkContainer);\n    var checkBoxObj = new CheckBox({\n        label: getLocaleText(parent, 'ApplyAll-Label'),\n        change: function (args) {\n            parent.isApplySame = args.checked;\n        }\n    });\n    checkBoxObj.appendTo('#' + parent.element.id + '_applyall');\n    triggerPopupOpen(parent, parent.extDialogObj, 'Retry Upload');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onKeepBothAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'keepboth', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReplaceAll(parent) {\n    while (parent.retryFiles.length !== 0) {\n        parent.retryArgs.push({ action: 'replace', file: parent.retryFiles[0] });\n        parent.uploadObj.retry(parent.retryFiles[0]);\n        parent.retryFiles.splice(0, 1);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction focusInput(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    ele.focus();\n    ele.value = '';\n    var len = ele.value.length;\n    ele.setSelectionRange(0, len);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onFolderDialogOpen(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    if (!ele.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(ele, getLocaleText(parent, 'Content-NewFolder'));\n    }\n    ele.parentElement.nextElementSibling.innerHTML = '';\n    ele.oninput = function () {\n        onValidate(parent, ele);\n    };\n    ele.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onSubmit(parent);\n        }\n    };\n    focusInput(parent);\n    triggerPopupOpen(parent, parent.dialogObj, 'Create Folder');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onRenameDialogOpen(parent) {\n    var inputEle = select('#rename', parent.dialogObj.element);\n    if (!inputEle.parentElement.classList.contains('e-control-wrapper')) {\n        createInput(inputEle, getLocaleText(parent, 'Content-Rename'));\n    }\n    inputEle.parentElement.nextElementSibling.innerHTML = '';\n    inputEle.oninput = function () {\n        onValidate(parent, inputEle);\n    };\n    inputEle.onkeyup = function (e) {\n        var code = getKeyCode(e);\n        if (code === 13) {\n            onReSubmit(parent);\n        }\n    };\n    onFocusRenameInput(parent, inputEle);\n    triggerPopupOpen(parent, parent.dialogObj, 'Rename');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} inputEle - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onFocusRenameInput(parent, inputEle) {\n    inputEle.focus();\n    var txt = '';\n    if (parent.isFile && !parent.showFileExtension) {\n        var index = parent.currentItemText.lastIndexOf('.');\n        txt = (index === -1) ? parent.currentItemText : parent.currentItemText.substring(0, index);\n    }\n    else {\n        txt = parent.currentItemText;\n    }\n    inputEle.value = txt;\n    if (parent.isFile && parent.showFileExtension && (inputEle.value.indexOf('.') !== -1)) {\n        inputEle.setSelectionRange(0, inputEle.value.lastIndexOf('.'));\n    }\n    else {\n        inputEle.setSelectionRange(0, inputEle.value.length);\n    }\n}\n/**\n *\n * @param {HTMLInputElement} ele - specifies the element.\n * @param {string} placeholder - specifies the place holder.\n * @returns {void}\n * @private\n */\nfunction createInput(ele, placeholder) {\n    Input.createInput({\n        element: ele,\n        properties: {\n            placeholder: placeholder\n        }\n    });\n}\n/* istanbul ignore next */\n// eslint:disable-next-line\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text string.\n * @param {ReadArgs | SelectedEventArgs} e - specifies the event arguements.\n * @param {FileDetails} details - specifies the file details.\n * @param {string[]} replaceItems - specifies the replacement items.\n * @returns {DialogOptions} - specifies the dialog options.\n * @private\n */\nfunction getOptions(parent, text, e, details, replaceItems) {\n    var options = {\n        header: '', content: '', buttons: [], dialogName: ''\n    };\n    var permission;\n    var formattedString;\n    var intl;\n    var strArr;\n    var fileType;\n    var location;\n    options.open = function () { triggerPopupOpen(parent, parent.dialogObj, options.dialogName); };\n    options.close = function () { triggerPopupClose(parent, parent.dialogObj, options.dialogName); };\n    text = (details && details.multipleFiles === true) ? 'MultipleFileDetails' : text;\n    switch (text) {\n        case 'NewFolder':\n            options.dialogName = 'Create Folder';\n            options.header = getLocaleText(parent, 'Header-NewFolder');\n            options.content = '<input type=\"text\" value=\"New folder\" id=\"newname\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Create') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onFolderDialogOpen.bind(this, parent);\n            break;\n        case 'Delete':\n            options.dialogName = 'Delete';\n            if (parent.selectedItems.length > 1) {\n                options.content = ('<div>' + getLocaleText(parent, 'Content-Multiple-Delete') + '</div>')\n                    .replace('{0}', parent.selectedItems.length.toString());\n                options.header = getLocaleText(parent, 'Header-Multiple-Delete');\n            }\n            else {\n                options.content = '<div>' + getLocaleText(parent, parent.isFile ? 'Content-Delete' : 'Content-Folder-Delete') + '</div>';\n                options.header = getLocaleText(parent, parent.isFile ? 'Header-Delete' : 'Header-Folder-Delete');\n            }\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Yes') },\n                    click: function (e) {\n                        onDeleteSubmit(parent);\n                    }\n                },\n                {\n                    buttonModel: { content: getLocaleText(parent, 'Button-No') },\n                    click: function () {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Rename':\n            options.dialogName = 'Rename';\n            options.header = getLocaleText(parent, 'Header-Rename');\n            options.content = '<input type=\"text\" class=\"e-input\" id=\"rename\"><div class=\"e-fe-error\"></div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Save') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        onReSubmit(parent);\n                    }\n                }\n            ];\n            options.open = onRenameDialogOpen.bind(this, parent);\n            break;\n        case 'details':\n            options.dialogName = 'File Details';\n            intl = new Internationalization(parent.locale);\n            formattedString = intl.formatDate(new Date(details.modified), { format: 'MMMM dd, yyyy HH:mm:ss' });\n            permission = '';\n            if (!isNOU(details.permission)) {\n                permission = '<tr><td>' + getLocaleText(parent, 'Permission') + '</td><td class=\"' + CLS.VALUE + '\" >'\n                    + objectToString(details.permission) + '</td></tr>';\n            }\n            options.header = details.name;\n            options.content = '<table>' +\n                '<tr><td>' + getLocaleText(parent, 'Type') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' +\n                (details.isFile ? 'File' : 'Folder') + '\">' + (details.isFile ? 'File' : 'Folder') + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + '</td><td><span class=\"' + CLS.VALUE + '\" title =\"' +\n                details.size + '\">' + details.size + '</span></td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Location') + '</td><td class=\"' + CLS.VALUE + '\" title=\"' +\n                details.location + '\">' + details.location + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Modified') + '</td><td class=\"' + CLS.VALUE + '\" >'\n                + formattedString + '</td></tr>'\n                + permission + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'MultipleFileDetails':\n            options.dialogName = 'File Details';\n            strArr = details.name.split(',').map(function (val) {\n                var index = val.indexOf('.') + 1;\n                return (index === 0) ? 'Folder' : val.substr(index).replace(' ', '');\n            });\n            fileType = strArr.every(function (val, i, arr) { return val === arr[0]; }) ?\n                ((strArr[0] === 'Folder') ? 'Folder' : strArr[0].toLocaleUpperCase() + ' Type') : 'Multiple Types';\n            location = details.location;\n            options.header = details.name;\n            options.content = '<table><tr><td>' + getLocaleText(parent, 'Type')\n                + ':</td><td class=\"' + CLS.VALUE + '\">' + fileType + '</td></tr>' +\n                '<tr><td>' + getLocaleText(parent, 'Size') + ':</td><td>' +\n                details.size + '<span class=\"' + CLS.VALUE + '\" title =\"' + details.size\n                + '\"></span></td></tr>' + '<tr><td>' + getLocaleText(parent, 'Location') +\n                ':</td><td class=\"' + CLS.VALUE + '\" title=\"' + location + '\">'\n                + location + '</td></tr>' + '</table>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        if (e.type === 'keydown') {\n                            return;\n                        }\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n        case 'Error':\n            parent.notify(events.actionFailure, {});\n            options.dialogName = 'Error';\n            if (e.error.code === '401') {\n                options.header = '<span class=\"e-fe-icon e-fe-access-error\"></span><div class=\"e-fe-access-header\">' +\n                    getLocaleText(parent, 'Access-Denied') + '</div>';\n            }\n            else {\n                options.header = getLocaleText(parent, 'Error');\n            }\n            options.content = '<div class=\"' + CLS.ERROR_CONTENT + '\">' + e.error.message + '</div>';\n            options.buttons = [\n                {\n                    buttonModel: { isPrimary: true, content: getLocaleText(parent, 'Button-Ok') },\n                    click: function (e) {\n                        parent.dialogObj.hide();\n                    }\n                }\n            ];\n            break;\n    }\n    return options;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dialogName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction keydownAction(parent, dialogName, args) {\n    var btnElement = selectAll('.e-btn', parent.dialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.dialogObj, args, dialogName);\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} dlgName - specifies the dialog name.\n * @param {BeforeOpenEventArgs} args - specifies the before open event arguements.\n * @returns {void}\n * @private\n */\nfunction beforeExtOpen(parent, dlgName, args) {\n    var btnElement = selectAll('.e-btn', parent.extDialogObj.element);\n    preventKeydown(btnElement);\n    triggerPopupBeforeOpen(parent, parent.extDialogObj, args, dlgName);\n}\n/**\n *\n * @param {HTMLInputElement[]} btnElement - specifies the button element.\n * @returns {void}\n * @private\n */\nfunction preventKeydown(btnElement) {\n    var _loop_1 = function (btnCount) {\n        btnElement[btnCount].onkeydown = function (e) {\n            if (e.keyCode === 13) {\n                e.preventDefault();\n            }\n        };\n        btnElement[btnCount].onkeyup = function (e) {\n            if (e.keyCode === 13) {\n                btnElement[btnCount].click();\n            }\n        };\n    };\n    for (var btnCount = 0; btnCount < btnElement.length; btnCount++) {\n        _loop_1(btnCount);\n    }\n}\n/* istanbul ignore next */\n/**\n *\n * @param {SelectedEventArgs} data - specifies the data.\n * @returns {HTMLElement} - returns the HTML element.\n * @private\n */\nfunction getFilesName(data) {\n    var parent = createElement('div', { id: 'uploadDialog' });\n    var ulElement = createElement('ul');\n    var filesData = data.isModified ? data.modifiedFilesData : data.filesData;\n    for (var fileCount = 0; fileCount < filesData.length; fileCount++) {\n        var liElement = createElement('li', { className: 'dialogFiles' });\n        liElement.innerHTML = filesData[fileCount].name;\n        ulElement.appendChild(liElement);\n    }\n    parent.appendChild(ulElement);\n    var errorTag = createElement('div', { className: 'e-fe-error' });\n    parent.appendChild(errorTag);\n    return parent;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {DialogOptions} options - specifies the dialog options.\n * @returns {void}\n * @private\n */\nfunction changeOptions(parent, options) {\n    parent.dialogObj.header = options.header;\n    parent.dialogObj.content = options.content;\n    parent.dialogObj.buttons = options.buttons;\n    parent.dialogObj.enableRtl = parent.enableRtl;\n    parent.dialogObj.open = options.open;\n    parent.dialogObj.close = options.close;\n    parent.dialogObj.beforeOpen = keydownAction.bind(this, parent, options.dialogName);\n    parent.dialogObj.beforeClose = function (args) {\n        triggerPopupBeforeClose(parent, parent.dialogObj, args, options.dialogName);\n    };\n    parent.dialogObj.dataBind();\n    parent.dialogObj.show();\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onSubmit(parent) {\n    var ele = select('#newname', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    createFolder(parent, ele.value);\n}\n/* istanbul ignore next */\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onReSubmit(parent) {\n    var ele = select('#rename', parent.dialogObj.element);\n    onSubmitValidate(parent, ele);\n    if (ele.parentElement.nextElementSibling.innerHTML !== '') {\n        return;\n    }\n    var text = ele.value;\n    var oIndex = parent.currentItemText.lastIndexOf('.');\n    if (parent.isFile && !parent.showFileExtension) {\n        var extn = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        text += extn;\n    }\n    parent.renameText = text;\n    if (parent.currentItemText === text) {\n        parent.dialogObj.hide();\n        return;\n    }\n    var newPath = (parent.activeModule === 'navigationpane') ? getParentPath(parent.path) : parent.path;\n    parent.renamedId = getValue('id', parent.itemData[0]);\n    if (parent.isFile) {\n        var oldExtension = (oIndex === -1) ? '' : parent.currentItemText.substr(oIndex);\n        var nIndex = text.lastIndexOf('.');\n        var newExtension = (nIndex === -1) ? '' : text.substr(nIndex);\n        if (parent.showFileExtension && oldExtension !== newExtension) {\n            createExtDialog(parent, 'Extension', null, newPath);\n        }\n        else {\n            rename(parent, newPath, text);\n        }\n    }\n    else {\n        rename(parent, newPath, text);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction onDeleteSubmit(parent) {\n    parent.dialogObj.hide();\n    parent.notify(events.deleteInit, {});\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onValidate(parent, ele) {\n    if (/[/\\\\|*?\"<>:]/.test(ele.value)) {\n        addInvalid(parent, ele);\n    }\n    else if (ele.value === '') {\n        ele.parentElement.nextElementSibling.innerHTML = getLocaleText(parent, 'Validation-Empty');\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = '';\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction onSubmitValidate(parent, ele) {\n    onValidate(parent, ele);\n    var len = ele.value.length - 1;\n    if (ele.value !== '' && ((ele.value.lastIndexOf('.') === len) || (ele.value.lastIndexOf(' ') === len)) &&\n        (parent.showFileExtension || (parent.currentItemText.lastIndexOf('.') === -1))) {\n        addInvalid(parent, ele);\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLInputElement} ele - specifies the input element.\n * @returns {void}\n * @private\n */\nfunction addInvalid(parent, ele) {\n    var error = getLocaleText(parent, 'Validation-Invalid').replace('{0}', '\"' + ele.value + '\"');\n    if (parent.enableHtmlSanitizer) {\n        ele.parentElement.nextElementSibling.textContent = error;\n    }\n    else {\n        ele.parentElement.nextElementSibling.innerHTML = error;\n    }\n}\n/**\n *\n * @param {KeyboardEvent} e - specifies the keyboard event.\n * @returns {number} - returns the key code.\n * @private\n */\nfunction getKeyCode(e) {\n    var code;\n    if (e.keyCode) {\n        code = e.keyCode;\n    }\n    else if (e.which) {\n        code = e.which;\n    }\n    else {\n        code = e.charCode;\n    }\n    return code;\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} header - specifies the header element.\n * @param {string} imageUrl - specifies the image URL.\n * @returns {void}\n * @private\n */\nexport function createImageDialog(parent, header, imageUrl) {\n    var content = createElement('div', { className: 'e-image-wrap' });\n    var image = createElement('img', { className: 'e-image', attrs: { src: imageUrl, alt: header } });\n    content.appendChild(image);\n    if (isNOU(parent.viewerObj)) {\n        parent.viewerObj = new Dialog({\n            header: header,\n            content: content,\n            animationSettings: { effect: 'None' },\n            showCloseIcon: true,\n            closeOnEscape: true,\n            visible: true,\n            isModal: true,\n            width: '350px',\n            height: '350px',\n            target: parent.popupTarget ? parent.popupTarget : '#' + parent.element.id,\n            cssClass: getCssClass(parent, parent.isMobile ? CLS.MOB_POPUP : CLS.ROOT_POPUP),\n            locale: parent.locale,\n            enableResize: true,\n            allowDragging: true,\n            enableHtmlSanitizer: parent.enableHtmlSanitizer,\n            position: { X: 'center', Y: 'center' },\n            enableRtl: parent.enableRtl,\n            open: openImage.bind(this, parent),\n            close: function () { triggerPopupClose(parent, parent.viewerObj, 'Image Preview'); },\n            beforeOpen: function (args) {\n                triggerPopupBeforeOpen(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            beforeClose: function (args) {\n                triggerPopupBeforeClose(parent, parent.viewerObj, args, 'Image Preview');\n            },\n            resizing: updateImage.bind(this, parent),\n            resizeStop: updateImage.bind(this, parent)\n        });\n        parent.viewerObj.isStringTemplate = true;\n        parent.viewerObj.appendTo('#' + parent.element.id + CLS.IMG_DIALOG_ID);\n    }\n    else {\n        parent.viewerObj.refresh();\n        parent.viewerObj.header = header;\n        parent.viewerObj.content = content;\n        parent.viewerObj.enableRtl = parent.enableRtl;\n        parent.viewerObj.dataBind();\n        parent.viewerObj.show();\n    }\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction openImage(parent) {\n    setTimeout(function () {\n        if (parent.viewerObj) {\n            parent.viewerObj.element.focus();\n        }\n    });\n    updateImage(parent);\n    triggerPopupOpen(parent, parent.viewerObj, 'Image Preview');\n}\n/**\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nfunction updateImage(parent) {\n    var content = select('.e-dlg-content', parent.viewerObj.element);\n    var imgWrap = select('.e-image-wrap', parent.viewerObj.element);\n    var cssObj = window.getComputedStyle(content, null);\n    var paddingWidth = cssObj ? (2 * parseFloat(cssObj.paddingRight)) : 36;\n    var paddingHeight = cssObj ? (2 * parseFloat(cssObj.paddingBottom)) : 20;\n    imgWrap.style.width = (content.offsetWidth - paddingWidth) + 'px';\n    imgWrap.style.height = (content.offsetHeight - paddingHeight) + 'px';\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}