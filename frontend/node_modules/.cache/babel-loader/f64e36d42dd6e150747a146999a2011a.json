{"ast":null,"code":"import { TreeView as BaseTreeView } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, select, setValue, getValue, Draggable } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, closest } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { createDialog } from '../pop-up/dialog';\nimport { updatePath, getPath, getDirectories } from '../common/utility';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getDirectoryPath, getModule } from '../common/index';\nimport { copyFiles, cutFiles, removeActive, pasteHandler, getParentPath, readDropPath } from '../common/index';\nimport { hasEditAccess, createDeniedDialog, hasDownloadAccess, getAccessClass } from '../common/index';\n/**\n * NavigationPane module\n */\n\nvar NavigationPane =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the TreeView module\n   *\n   * @param {IFileManager} parent - specifies the parent element.\n   * @hidden\n   */\n  function NavigationPane(parent) {\n    this.removeNodes = [];\n    this.moveNames = [];\n    this.expandTree = false;\n    this.isDrag = false;\n    this.isPathDragged = false;\n    this.isRenameParent = false;\n    this.isRightClick = false;\n    this.renameParent = null; // Specifies the previously selected nodes in the treeview control.\n\n    this.previousSelected = null; // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n\n    this.isNodeClickCalled = false; // Specifies whether to restrict node selection in the treeview control.\n\n    this.restrictSelecting = false;\n    this.parent = parent;\n    this.addEventListener();\n    this.keyConfigs = {\n      altEnter: 'alt+enter',\n      esc: 'escape',\n      del: 'delete',\n      ctrlX: 'ctrl+x',\n      ctrlC: 'ctrl+c',\n      ctrlV: 'ctrl+v',\n      ctrlShiftN: 'ctrl+shift+n',\n      shiftF10: 'shift+F10',\n      f2: 'f2'\n    };\n  }\n\n  NavigationPane.prototype.onInit = function () {\n    if (!isNOU(this.treeObj)) {\n      return;\n    } // eslint-disable-next-line\n\n\n    var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n    setValue('_fm_icon', 'e-fe-folder', rootData); // eslint-disable-next-line\n\n    var attr = {};\n    var id = getValue('id', rootData);\n\n    if (!isNOU(id)) {\n      setValue('data-id', id, attr);\n    }\n\n    if (!hasEditAccess(rootData)) {\n      setValue('class', getAccessClass(rootData), attr);\n    }\n\n    if (!isNOU(attr)) {\n      setValue('_fm_htmlAttr', attr, rootData);\n    }\n\n    this.treeObj = new BaseTreeView({\n      fields: {\n        dataSource: [rootData],\n        id: '_fm_id',\n        parentID: '_fm_pId',\n        expanded: '_fm_expanded',\n        selected: '_fm_selected',\n        text: 'name',\n        hasChildren: 'hasChild',\n        iconCss: '_fm_icon',\n        htmlAttributes: '_fm_htmlAttr',\n        tooltip: 'name'\n      },\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      sortOrder: this.parent.navigationPaneSettings.sortOrder,\n      nodeSelecting: this.onNodeSelecting.bind(this),\n      nodeSelected: this.onNodeSelected.bind(this),\n      nodeExpanding: this.onNodeExpand.bind(this),\n      nodeClicked: this.onNodeClicked.bind(this),\n      allowEditing: true,\n      nodeEditing: this.onNodeEditing.bind(this),\n      drawNode: this.onDrowNode.bind(this),\n      enableRtl: this.parent.enableRtl,\n      dataBound: this.addDragDrop.bind(this)\n    });\n    this.treeObj.isStringTemplate = true;\n    this.treeObj.appendTo('#' + this.parent.element.id + CLS.TREE_ID);\n    this.wireEvents();\n  };\n\n  NavigationPane.prototype.addDragDrop = function () {\n    var _this = this;\n\n    if (!this.parent.isMobile && this.treeObj) {\n      if (this.parent.allowDragAndDrop) {\n        if (this.dragObj) {\n          this.dragObj.destroy();\n        }\n\n        this.dragObj = new Draggable(this.treeObj.element, {\n          cursorAt: this.parent.dragCursorPosition,\n          dragTarget: '.' + CLS.FULLROW,\n          distance: 5,\n          dragArea: this.parent.element,\n          drag: draggingHandler.bind(this, this.parent),\n          dragStart: function (args) {\n            dragStartHandler(_this.parent, args, _this.dragObj);\n          },\n          dragStop: dragStopHandler.bind(this, this.parent),\n          enableTailMode: true,\n          enableAutoScroll: true,\n          helper: this.dragHelper.bind(this)\n        });\n      } else if (!this.parent.allowDragAndDrop && this.dragObj) {\n        this.dragObj.destroy();\n      }\n    }\n  };\n\n  NavigationPane.prototype.dragHelper = function (args) {\n    var dragTarget = args.sender.target;\n\n    if (!dragTarget.classList.contains(CLS.FULLROW)) {\n      return null;\n    }\n\n    var dragLi = closest(dragTarget, 'li');\n    this.parent.dragPath = '';\n    this.parent.dragData = [];\n    this.parent.activeElements = [];\n    this.parent.activeElements = [dragLi];\n    this.parent.dragNodes = [];\n    getModule(this.parent, dragLi); // eslint-disable-next-line\n\n    this.parent.dragData = this.getTreeData(dragLi);\n    this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n    this.parent.dragNodes.push(this.parent.dragData[0].name);\n    createVirtualDragElement(this.parent);\n    return this.parent.virtualDragElement;\n  };\n\n  NavigationPane.prototype.getDragPath = function (dragLi, text) {\n    var path = this.getDropPath(dragLi, text);\n    return getParentPath(path);\n  };\n\n  NavigationPane.prototype.getDropPath = function (node, text) {\n    var id = node.getAttribute('data-id');\n    var newText = this.parent.hasId ? id : text;\n    return getPath(node, newText, this.parent.hasId);\n  };\n\n  NavigationPane.prototype.onDrowNode = function (args) {\n    var eventArgs = {\n      element: args.node,\n      fileDetails: args.nodeData,\n      module: 'NavigationPane'\n    };\n    this.parent.trigger('fileLoad', eventArgs);\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.addChild = function (files, target, prevent) {\n    // eslint-disable-next-line\n    var directories = getDirectories(files);\n\n    if (directories.length > 0) {\n      var length_1 = 0; // eslint-disable-next-line\n\n      var folders = directories;\n\n      while (length_1 < directories.length) {\n        // eslint-disable-next-line\n        folders[length_1]._fm_icon = 'e-fe-folder'; // eslint-disable-next-line\n\n        var attr = {};\n        var id = getValue('id', folders[length_1]);\n\n        if (!isNOU(id)) {\n          setValue('data-id', id, attr);\n        }\n\n        if (!hasEditAccess(folders[length_1])) {\n          setValue('class', getAccessClass(folders[length_1]), attr);\n        }\n\n        if (!isNOU(attr)) {\n          setValue('_fm_htmlAttr', attr, folders[length_1]);\n        }\n\n        length_1++;\n      } // eslint-disable-next-line\n\n\n      this.treeObj.addNodes(directories, target, null, prevent);\n    }\n  }; // Node Selecting event handler\n\n\n  NavigationPane.prototype.onNodeSelecting = function (args) {\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n      this.restrictSelecting = false;\n      this.isNodeClickCalled = false;\n      return;\n    }\n\n    if (!this.renameParent) {\n      this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n      var nodeData = this.getTreeData(getValue('id', args.nodeData));\n      var eventArgs = {\n        cancel: false,\n        fileDetails: nodeData[0],\n        module: 'NavigationPane'\n      };\n      this.parent.trigger('fileOpen', eventArgs);\n      args.cancel = eventArgs.cancel;\n\n      if (args.cancel) {\n        this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] != args.node.getAttribute('data-uid') : false;\n        this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n        this.previousSelected = this.treeObj.selectedNodes;\n\n        if (!isNOU(this.parent) && !isNOU(this.parent.contextmenuModule)) {\n          this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n        }\n      }\n    }\n  }; // Opens the folder while clicking open context menu item in the treeview.\n\n\n  NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n    var data = this.treeObj.getTreeData(node); // eslint-disable-next-line\n\n    this.parent.selectedItems = [];\n    this.parent.itemData = data;\n    this.activeNode = node;\n    this.parent.activeModule = 'navigationpane';\n    updatePath(node, this.parent.itemData[0], this.parent);\n    read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n    this.parent.visitedItem = node;\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n  };\n\n  NavigationPane.prototype.onNodeSelected = function (args) {\n    if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n      this.parent.breadcrumbbarModule.searchObj.element.value = '';\n      this.parent.isFiltered = false;\n    }\n\n    this.parent.searchedItems = [];\n\n    if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n      return;\n    }\n\n    this.activeNode = args.node;\n    this.parent.activeModule = 'navigationpane'; // eslint-disable-next-line\n\n    var nodeData = this.getTreeData(getValue('id', args.nodeData));\n    this.parent.selectedItems = [];\n    this.parent.itemData = nodeData;\n    var previousPath = this.parent.path;\n    updatePath(args.node, this.parent.itemData[0], this.parent);\n\n    if (previousPath !== this.parent.path) {\n      this.expandNodeTarget = null;\n\n      if (args.node.querySelector('.' + CLS.ICONS) && args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n        this.expandNodeTarget = 'add';\n      }\n\n      read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n      this.parent.visitedItem = args.node;\n    }\n\n    this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  NavigationPane.prototype.onPathDrag = function (args) {\n    this.isPathDragged = true;\n    this.selectResultNode(args[0]);\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeExpand = function (args) {\n    if (!args.isInteracted && !this.isDrag) {\n      return;\n    }\n\n    if (args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n      var text = getValue('text', args.nodeData);\n      var id = args.node.getAttribute('data-id');\n      var isId = isNOU(id) ? false : true;\n      var newText = isNOU(id) ? text : id;\n      var path = getPath(args.node, newText, isId);\n      this.expandNodeTarget = args.node.getAttribute('data-uid');\n      this.parent.expandedId = this.expandNodeTarget;\n      this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n      read(this.parent, events.nodeExpand, path);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeExpanded = function (args) {\n    this.addChild(args.files, this.expandNodeTarget, false);\n    this.parent.expandedId = null;\n  };\n\n  NavigationPane.prototype.onNodeClicked = function (args) {\n    this.parent.activeModule = 'navigationpane';\n    this.previousSelected = this.treeObj.selectedNodes;\n    this.activeNode = args.node;\n\n    if (args.event.which === 3 && args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0]) {\n      this.isRightClick = true;\n      this.isNodeClickCalled = true;\n      this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n    } else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n      this.parent.setProperties({\n        selectedItems: []\n      }, true);\n      var layout = this.parent.view === 'LargeIcons' ? 'largeiconsview' : 'detailsview';\n      this.parent.notify(events.modelChanged, {\n        module: layout,\n        newProp: {\n          selectedItems: []\n        }\n      });\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onNodeEditing = function (args) {\n    if (!isNOU(args.innerHtml)) {\n      args.cancel = true;\n    }\n  };\n\n  NavigationPane.prototype.onPathChanged = function (args) {\n    this.parent.isCut = false; // eslint-disable-next-line\n\n    var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n\n    if (this.expandNodeTarget === 'add') {\n      var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n      var ul = select('.' + CLS.LIST_PARENT, sNode);\n\n      if (isNOU(ul)) {\n        this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n      }\n\n      this.expandNodeTarget = '';\n    }\n\n    this.expandTree = false;\n\n    if (isNOU(currFiles)) {\n      setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n    }\n  };\n\n  NavigationPane.prototype.updateTree = function (args) {\n    if (this.treeObj) {\n      var id = this.treeObj.selectedNodes[0];\n      this.updateTreeNode(args, id);\n    }\n  };\n\n  NavigationPane.prototype.updateTreeNode = function (args, id) {\n    var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, !toExpand);\n  };\n\n  NavigationPane.prototype.removeChildNodes = function (id) {\n    var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n    var parent = select('.' + CLS.LIST_PARENT, sNode);\n    var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n\n    if (childs) {\n      this.treeObj.removeNodes(childs);\n    }\n  };\n\n  NavigationPane.prototype.onOpenEnd = function (args) {\n    var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n    this.treeObj.expandAll(this.treeObj.selectedNodes);\n    this.treeObj.selectedNodes = [sleId];\n    this.expandNodeTarget = 'add';\n    this.onPathChanged(args);\n  };\n\n  NavigationPane.prototype.onOpenInit = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      if (args.target.querySelector('.' + CLS.ICONS)) {\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n      }\n    }\n  };\n\n  NavigationPane.prototype.onInitialEnd = function (args) {\n    this.onInit();\n    this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n  };\n\n  NavigationPane.prototype.onFinalizeEnd = function (args) {\n    this.onInit();\n    var id = getValue('_fm_id', args.cwd);\n    this.removeChildNodes(id);\n    this.addChild(args.files, id, false);\n    this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n  };\n\n  NavigationPane.prototype.onCreateEnd = function (args) {\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onSelectedData = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateItemData();\n    }\n  };\n\n  NavigationPane.prototype.onDeleteInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateActionData();\n      var name_1 = getValue('name', this.parent.itemData[0]);\n      Delete(this.parent, [name_1], this.parent.path, 'delete');\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDeleteEnd = function (args) {\n    if (this.parent.activeModule === 'navigationpane') {\n      var selectedNode = this.treeObj.selectedNodes[0];\n      var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n      var selectedNodeEle = closest(selcetedEle, '.' + CLS.LIST_PARENT).parentElement;\n      this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n      this.treeObj.dataBind();\n    }\n\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onRefreshEnd = function (args) {\n    this.updateTree(args);\n  };\n\n  NavigationPane.prototype.onRenameInit = function () {\n    if (this.parent.activeModule === 'navigationpane') {\n      this.updateRenameData();\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onRenameEndParent = function (args) {\n    var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n    this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n    this.updateTreeNode(args, id);\n    this.parent.expandedId = null;\n\n    if (this.renameParent) {\n      this.renameParent = null;\n    } else {\n      // eslint-disable-next-line\n      var resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.isRenameParent = true;\n        var id_1 = getValue(this.treeObj.fields.id, resultData[0]);\n        this.treeObj.selectedNodes = [id_1];\n        this.treeObj.dataBind();\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onRenameEnd = function (args) {\n    if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n      this.updateTree(args);\n    } else {\n      // eslint-disable-next-line\n      var data = this.treeObj.getTreeData(); // eslint-disable-next-line\n\n      var resultData = [];\n\n      if (this.parent.hasId) {\n        resultData = new DataManager(data).executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n      } else {\n        // eslint-disable-next-line\n        var nData = new DataManager(data).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n\n        if (nData.length > 0) {\n          resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n        }\n      }\n\n      if (resultData.length > 0) {\n        this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n        this.parent.expandedId = this.renameParent;\n        this.parent.itemData = this.getTreeData(this.renameParent);\n        read(this.parent, events.renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n      }\n    }\n  };\n\n  NavigationPane.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'allowDragAndDrop':\n          this.addDragDrop();\n          break;\n\n        case 'navigationPaneSettings':\n          read(this.parent, events.finalizeEnd, '/');\n\n          if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n            this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n          }\n\n          break;\n      }\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDownLoadInit = function () {\n    this.doDownload();\n  };\n\n  NavigationPane.prototype.onSelectionChanged = function (e) {\n    this.treeObj.selectedNodes = [e.selectedNode];\n  };\n\n  NavigationPane.prototype.onClearPathInit = function (e) {\n    this.removeChildNodes(e.selectedNode);\n  };\n\n  NavigationPane.prototype.onDragEnd = function (args) {\n    var moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchDrag) {\n      moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n    var moveNames = [];\n\n    for (var i = 0; i < files.length; i++) {\n      if (!files[i].isFile) {\n        if (!this.parent.hasId) {\n          var name_2 = files[i].previousName;\n\n          if (flag) {\n            path = path + files[i].previousName;\n            var index = path.lastIndexOf('/');\n            name_2 = path.substring(index + 1);\n            path = path.substring(0, index + 1);\n          } // eslint-disable-next-line\n\n\n          var resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n\n          for (var j = 0; j < resultData.length; j++) {\n            var fPath = getValue('filterPath', resultData[j]);\n            fPath = fPath.replace(/\\\\/g, '/');\n\n            if (fPath === path) {\n              moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n              break;\n            }\n          }\n        }\n      }\n    }\n\n    return moveNames;\n  };\n\n  NavigationPane.prototype.onCutEnd = function (args) {\n    var moveNames = [];\n\n    if (this.parent.isPasteError || this.parent.isSearchCut) {\n      this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n    } else {\n      moveNames = this.moveNames;\n    }\n\n    this.treeObj.removeNodes(moveNames);\n  };\n  /* istanbul ignore next */\n  // eslint-disable-next-line\n\n\n  NavigationPane.prototype.selectResultNode = function (resultObj) {\n    if (!this.parent.hasId) {\n      var path = getValue('filterPath', resultObj);\n      var itemname = getValue('name', resultObj); // eslint-disable-next-line\n\n      var data = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n\n      if (data.length > 0) {\n        // eslint-disable-next-line\n        var resultData = new DataManager(data).executeLocal(new Query().where('filterPath', 'equal', path, false));\n\n        if (resultData.length > 0) {\n          var id = getValue(this.treeObj.fields.id, resultData[0]);\n          this.treeObj.selectedNodes = [id];\n          this.treeObj.dataBind();\n        }\n      }\n    } else {\n      this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n      this.treeObj.dataBind();\n    }\n  };\n\n  NavigationPane.prototype.onDropPath = function (args) {\n    this.onpasteEnd(args);\n    this.selectResultNode(this.parent.dropData);\n    this.parent.isDropEnd = !this.parent.isPasteError;\n  };\n\n  NavigationPane.prototype.onpasteEnd = function (args) {\n    // eslint-disable-next-line\n    var resultData = [];\n\n    if (this.parent.hasId) {\n      resultData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n    } else {\n      // eslint-disable-next-line\n      var nData = new DataManager(this.treeObj.getTreeData()).executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n\n      if (nData.length > 0) {\n        resultData = new DataManager(nData).executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n      }\n    }\n\n    if (resultData.length > 0) {\n      var id = getValue(this.treeObj.fields.id, resultData[0]);\n      var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n      this.removeChildNodes(id);\n      this.addChild(args.files, id, toExpand);\n    }\n\n    this.parent.expandedId = null;\n    this.onPathChanged(args);\n\n    if (this.parent.isDragDrop) {\n      this.checkDropPath(args);\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.checkDropPath = function (args) {\n    if (this.parent.hasId) {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n      readDropPath(this.parent);\n      return;\n    }\n\n    if (this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1) {\n      this.parent.isDropEnd = false;\n      readDropPath(this.parent);\n    } else {\n      this.parent.isDropEnd = !this.parent.isPasteError;\n    }\n  };\n\n  NavigationPane.prototype.onpasteInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.updateItemData();\n    }\n\n    this.moveNames = []; // eslint-disable-next-line\n\n    var obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n\n    for (var i = 0; i < obj.length; i++) {\n      if (getValue('isFile', obj[i]) === false) {\n        this.moveNames.push(getValue('_fm_id', obj[i]));\n      }\n    }\n  };\n\n  NavigationPane.prototype.oncutCopyInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.activeElements = [this.activeNode];\n    }\n  };\n\n  NavigationPane.prototype.addEventListener = function () {\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.parent.on(events.downloadInit, this.onDownLoadInit, this);\n    this.parent.on(events.initialEnd, this.onInitialEnd, this);\n    this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n    this.parent.on(events.pathChanged, this.onPathChanged, this);\n    this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n    this.parent.on(events.cutEnd, this.onCutEnd, this);\n    this.parent.on(events.pasteInit, this.onpasteInit, this);\n    this.parent.on(events.nodeExpand, this.onNodeExpanded, this);\n    this.parent.on(events.createEnd, this.onCreateEnd, this);\n    this.parent.on(events.selectedData, this.onSelectedData, this);\n    this.parent.on(events.deleteInit, this.onDeleteInit, this);\n    this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n    this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n    this.parent.on(events.updateTreeSelection, this.onSelectionChanged, this);\n    this.parent.on(events.openInit, this.onOpenInit, this);\n    this.parent.on(events.openEnd, this.onOpenEnd, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.renameInit, this.onRenameInit, this);\n    this.parent.on(events.renameEnd, this.onRenameEnd, this);\n    this.parent.on(events.renameEndParent, this.onRenameEndParent, this);\n    this.parent.on(events.clearPathInit, this.onClearPathInit, this);\n    this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n    this.parent.on(events.dropInit, this.onDropInit, this);\n    this.parent.on(events.menuItemData, this.onMenuItemData, this);\n    this.parent.on(events.dragEnd, this.onDragEnd, this);\n    this.parent.on(events.dragging, this.onDragging, this);\n    this.parent.on(events.dropPath, this.onDropPath, this);\n    this.parent.on(events.detailsInit, this.onDetailsInit, this);\n    this.parent.on(events.pathDrag, this.onPathDrag, this);\n  };\n\n  NavigationPane.prototype.removeEventListener = function () {\n    this.parent.off(events.initialEnd, this.onInitialEnd);\n    this.parent.off(events.downloadInit, this.onDownLoadInit);\n    this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n    this.parent.off(events.selectedData, this.onSelectedData);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.parent.off(events.pathChanged, this.onPathChanged);\n    this.parent.off(events.pasteEnd, this.onpasteEnd);\n    this.parent.off(events.cutEnd, this.onCutEnd);\n    this.parent.off(events.pasteInit, this.onpasteInit);\n    this.parent.off(events.updateTreeSelection, this.onSelectionChanged);\n    this.parent.off(events.nodeExpand, this.onNodeExpanded);\n    this.parent.off(events.createEnd, this.onCreateEnd);\n    this.parent.off(events.refreshEnd, this.onRefreshEnd);\n    this.parent.off(events.openInit, this.onOpenInit);\n    this.parent.off(events.openEnd, this.onOpenEnd);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.renameInit, this.onRenameInit);\n    this.parent.off(events.renameEnd, this.onRenameEnd);\n    this.parent.off(events.renameEndParent, this.onRenameEndParent);\n    this.parent.off(events.clearPathInit, this.onClearPathInit);\n    this.parent.off(events.deleteInit, this.onDeleteInit);\n    this.parent.off(events.deleteEnd, this.onDeleteEnd);\n    this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n    this.parent.off(events.dropInit, this.onDropInit);\n    this.parent.off(events.dragEnd, this.onDragEnd);\n    this.parent.off(events.dragging, this.onDragging);\n    this.parent.off(events.dropPath, this.onDropPath);\n    this.parent.off(events.detailsInit, this.onDetailsInit);\n    this.parent.off(events.menuItemData, this.onMenuItemData);\n    this.parent.off(events.pathDrag, this.onPathDrag);\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDetailsInit = function () {\n    if (this.parent.activeModule === this.getModuleName()) {\n      // eslint-disable-next-line\n      var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n      this.parent.itemData = dataobj;\n    }\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.onMenuItemData = function (args) {\n    if (this.parent.activeModule === this.getModuleName()) {\n      var liEle = closest(args.target, 'li');\n      this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n    }\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.onDragging = function (args) {\n    var ele = closest(args.target, 'li');\n\n    if (ele.classList.contains('e-node-collapsed')) {\n      this.isDrag = true;\n      var level = parseInt(ele.getAttribute('aria-level'), 10);\n      this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n      this.isDrag = false;\n    }\n  };\n\n  NavigationPane.prototype.onDropInit = function (args) {\n    if (this.parent.targetModule === this.getModuleName()) {\n      var dropLi = closest(args.target, 'li');\n      this.parent.dropData = this.getTreeData(dropLi)[0];\n      this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  NavigationPane.prototype.getModuleName = function () {\n    return 'navigationpane';\n  };\n\n  NavigationPane.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n\n    if (this.treeObj) {\n      this.unWireEvents();\n      this.treeObj.destroy();\n    }\n  };\n\n  NavigationPane.prototype.wireEvents = function () {\n    this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n      keyAction: this.keyDown.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  NavigationPane.prototype.unWireEvents = function () {\n    this.keyboardModule.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.keyDown = function (e) {\n    var action = e.action;\n\n    switch (action) {\n      case 'altEnter':\n        this.parent.notify(events.detailsInit, {});\n        GetDetails(this.parent, [], this.parent.path, 'details');\n        break;\n\n      case 'esc':\n        removeActive(this.parent);\n        break;\n\n      case 'del':\n        if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n          this.updateItemData();\n\n          if (!hasEditAccess(this.parent.itemData[0])) {\n            createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n          } else {\n            this.removeNodes = [];\n            createDialog(this.parent, 'Delete');\n          }\n        }\n\n        break;\n\n      case 'ctrlC':\n        copyFiles(this.parent);\n        break;\n\n      case 'ctrlV':\n        this.parent.folderPath = '';\n        pasteHandler(this.parent);\n        break;\n\n      case 'ctrlX':\n        cutFiles(this.parent);\n        break;\n\n      case 'shiftF10':\n        this.updateItemData();\n\n        if (!hasDownloadAccess(this.parent.itemData[0])) {\n          createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionDownload);\n          return;\n        }\n\n        if (this.parent.selectedItems.length !== 0) {\n          this.doDownload();\n        }\n\n        break;\n\n      case 'f2':\n        if (this.parent.selectedItems.length === 0) {\n          // eslint-disable-next-line\n          var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n\n          if (!hasEditAccess(data)) {\n            createDeniedDialog(this.parent, data, events.permissionEdit);\n          } else {\n            this.updateRenameData();\n            createDialog(this.parent, 'Rename');\n          }\n        }\n\n        break;\n    }\n  }; // eslint-disable-next-line\n\n\n  NavigationPane.prototype.getTreeData = function (args) {\n    // eslint-disable-next-line\n    var data = this.treeObj.getTreeData(args);\n\n    for (var i = 0; i < data.length; i++) {\n      if (isNOU(getValue('hasChild', data[i]))) {\n        setValue('hasChild', false, data[i]);\n      }\n    }\n\n    return data;\n  };\n\n  NavigationPane.prototype.updateRenameData = function () {\n    this.updateItemData();\n    this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n  };\n\n  NavigationPane.prototype.updateItemData = function () {\n    // eslint-disable-next-line\n    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n    this.parent.itemData = [data];\n    this.parent.isFile = false;\n  };\n\n  NavigationPane.prototype.updateActionData = function () {\n    this.updateItemData();\n    var newPath = getParentPath(this.parent.path);\n    this.parent.setProperties({\n      path: newPath\n    }, true);\n    this.parent.pathId.pop();\n    this.parent.pathNames.pop();\n  };\n  /* istanbul ignore next */\n\n\n  NavigationPane.prototype.doDownload = function () {\n    var newPath = getParentPath(this.parent.path);\n    var itemId = this.treeObj.selectedNodes[0];\n    var name = itemId === this.parent.pathId[0] ? '' : getValue('name', this.parent.itemData[0]);\n    Download(this.parent, newPath, [name]);\n  };\n\n  return NavigationPane;\n}();\n\nexport { NavigationPane };","map":{"version":3,"names":["TreeView","BaseTreeView","isNullOrUndefined","isNOU","select","setValue","getValue","Draggable","KeyboardEvents","closest","DataManager","Query","events","CLS","read","Download","GetDetails","Delete","createDialog","updatePath","getPath","getDirectories","createVirtualDragElement","dragStopHandler","dragStartHandler","draggingHandler","getDirectoryPath","getModule","copyFiles","cutFiles","removeActive","pasteHandler","getParentPath","readDropPath","hasEditAccess","createDeniedDialog","hasDownloadAccess","getAccessClass","NavigationPane","parent","removeNodes","moveNames","expandTree","isDrag","isPathDragged","isRenameParent","isRightClick","renameParent","previousSelected","isNodeClickCalled","restrictSelecting","addEventListener","keyConfigs","altEnter","esc","del","ctrlX","ctrlC","ctrlV","ctrlShiftN","shiftF10","f2","prototype","onInit","treeObj","rootData","pathId","feParent","attr","id","fields","dataSource","parentID","expanded","selected","text","hasChildren","iconCss","htmlAttributes","tooltip","enableHtmlSanitizer","sortOrder","navigationPaneSettings","nodeSelecting","onNodeSelecting","bind","nodeSelected","onNodeSelected","nodeExpanding","onNodeExpand","nodeClicked","onNodeClicked","allowEditing","nodeEditing","onNodeEditing","drawNode","onDrowNode","enableRtl","dataBound","addDragDrop","isStringTemplate","appendTo","element","TREE_ID","wireEvents","_this","isMobile","allowDragAndDrop","dragObj","destroy","cursorAt","dragCursorPosition","dragTarget","FULLROW","distance","dragArea","drag","dragStart","args","dragStop","enableTailMode","enableAutoScroll","helper","dragHelper","sender","target","classList","contains","dragLi","dragPath","dragData","activeElements","dragNodes","getTreeData","getDragPath","name","push","virtualDragElement","path","getDropPath","node","getAttribute","newText","hasId","eventArgs","fileDetails","nodeData","module","trigger","addChild","files","prevent","directories","length","length_1","folders","_fm_icon","addNodes","isInteracted","activeModule","cancel","selectedNodes","contextmenuModule","contextMenu","enableItems","openFileOnContextMenuClick","data","selectedItems","itemData","activeNode","pasteEnd","pathChanged","visitedItem","breadcrumbbarModule","searchObj","value","isFiltered","searchedItems","previousPath","expandNodeTarget","querySelector","ICONS","LIST_ITEM","onPathDrag","selectResultNode","isId","expandedId","nodeExpand","onNodeExpanded","event","which","setProperties","layout","view","notify","modelChanged","newProp","innerHtml","onPathChanged","isCut","currFiles","feFiles","sNode","ul","LIST_PARENT","updateTree","updateTreeNode","toExpand","expandedNodes","indexOf","removeChildNodes","childs","Array","slice","call","children","onOpenEnd","sleId","expandAll","onOpenInit","onInitialEnd","cwd","onFinalizeEnd","onCreateEnd","onSelectedData","updateItemData","onDeleteInit","updateActionData","name_1","onDeleteEnd","selectedNode","selcetedEle","selectedNodeEle","parentElement","dataBind","onRefreshEnd","onRenameInit","updateRenameData","onRenameEndParent","resultData","executeLocal","where","renamedId","nData","renameText","id_1","onRenameEnd","currentItemText","filterPath","renameEndParent","replace","onPropertyChanged","e","getModuleName","_i","_a","Object","keys","prop","finalizeEnd","oldProp","onDownLoadInit","doDownload","onSelectionChanged","onClearPathInit","onDragEnd","isPasteError","isSearchDrag","getMoveNames","flag","i","isFile","name_2","previousName","index","lastIndexOf","substring","j","fPath","onCutEnd","isSearchCut","targetPath","resultObj","itemname","onDropPath","onpasteEnd","dropData","isDropEnd","isDragDrop","checkDropPath","dropPath","onpasteInit","obj","actionRecords","oncutCopyInit","activeRecords","on","downloadInit","initialEnd","cutEnd","pasteInit","createEnd","selectedData","deleteInit","deleteEnd","refreshEnd","updateTreeSelection","openInit","openEnd","renameInit","renameEnd","clearPathInit","cutCopyInit","dropInit","onDropInit","menuItemData","onMenuItemData","dragEnd","dragging","onDragging","detailsInit","onDetailsInit","pathDrag","removeEventListener","off","dataobj","liEle","ele","level","parseInt","targetModule","dropLi","isDestroyed","unWireEvents","keyboardModule","keyAction","keyDown","eventName","action","permissionEdit","folderPath","permissionDownload","newPath","pop","pathNames","itemId"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-filemanager/src/file-manager/layout/navigation-pane.js"],"sourcesContent":["import { TreeView as BaseTreeView } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, select, setValue, getValue, Draggable } from '@syncfusion/ej2-base';\nimport { KeyboardEvents, closest } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport * as events from '../base/constant';\nimport * as CLS from '../base/classes';\nimport { read, Download, GetDetails, Delete } from '../common/operations';\nimport { createDialog } from '../pop-up/dialog';\nimport { updatePath, getPath, getDirectories } from '../common/utility';\nimport { createVirtualDragElement, dragStopHandler, dragStartHandler, draggingHandler, getDirectoryPath, getModule } from '../common/index';\nimport { copyFiles, cutFiles, removeActive, pasteHandler, getParentPath, readDropPath } from '../common/index';\nimport { hasEditAccess, createDeniedDialog, hasDownloadAccess, getAccessClass } from '../common/index';\n/**\n * NavigationPane module\n */\nvar NavigationPane = /** @class */ (function () {\n    /**\n     * Constructor for the TreeView module\n     *\n     * @param {IFileManager} parent - specifies the parent element.\n     * @hidden\n     */\n    function NavigationPane(parent) {\n        this.removeNodes = [];\n        this.moveNames = [];\n        this.expandTree = false;\n        this.isDrag = false;\n        this.isPathDragged = false;\n        this.isRenameParent = false;\n        this.isRightClick = false;\n        this.renameParent = null;\n        // Specifies the previously selected nodes in the treeview control.\n        this.previousSelected = null;\n        // Specifies whether the nodeClicked event of the treeview control is triggered or not.\n        this.isNodeClickCalled = false;\n        // Specifies whether to restrict node selection in the treeview control.\n        this.restrictSelecting = false;\n        this.parent = parent;\n        this.addEventListener();\n        this.keyConfigs = {\n            altEnter: 'alt+enter',\n            esc: 'escape',\n            del: 'delete',\n            ctrlX: 'ctrl+x',\n            ctrlC: 'ctrl+c',\n            ctrlV: 'ctrl+v',\n            ctrlShiftN: 'ctrl+shift+n',\n            shiftF10: 'shift+F10',\n            f2: 'f2'\n        };\n    }\n    NavigationPane.prototype.onInit = function () {\n        if (!isNOU(this.treeObj)) {\n            return;\n        }\n        // eslint-disable-next-line\n        var rootData = getValue(this.parent.pathId[0], this.parent.feParent);\n        setValue('_fm_icon', 'e-fe-folder', rootData);\n        // eslint-disable-next-line\n        var attr = {};\n        var id = getValue('id', rootData);\n        if (!isNOU(id)) {\n            setValue('data-id', id, attr);\n        }\n        if (!hasEditAccess(rootData)) {\n            setValue('class', getAccessClass(rootData), attr);\n        }\n        if (!isNOU(attr)) {\n            setValue('_fm_htmlAttr', attr, rootData);\n        }\n        this.treeObj = new BaseTreeView({\n            fields: {\n                dataSource: [rootData], id: '_fm_id', parentID: '_fm_pId', expanded: '_fm_expanded', selected: '_fm_selected', text: 'name',\n                hasChildren: 'hasChild', iconCss: '_fm_icon', htmlAttributes: '_fm_htmlAttr', tooltip: 'name'\n            },\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            sortOrder: this.parent.navigationPaneSettings.sortOrder,\n            nodeSelecting: this.onNodeSelecting.bind(this),\n            nodeSelected: this.onNodeSelected.bind(this),\n            nodeExpanding: this.onNodeExpand.bind(this),\n            nodeClicked: this.onNodeClicked.bind(this),\n            allowEditing: true,\n            nodeEditing: this.onNodeEditing.bind(this),\n            drawNode: this.onDrowNode.bind(this),\n            enableRtl: this.parent.enableRtl,\n            dataBound: this.addDragDrop.bind(this)\n        });\n        this.treeObj.isStringTemplate = true;\n        this.treeObj.appendTo('#' + this.parent.element.id + CLS.TREE_ID);\n        this.wireEvents();\n    };\n    NavigationPane.prototype.addDragDrop = function () {\n        var _this = this;\n        if (!this.parent.isMobile && this.treeObj) {\n            if (this.parent.allowDragAndDrop) {\n                if (this.dragObj) {\n                    this.dragObj.destroy();\n                }\n                this.dragObj = new Draggable(this.treeObj.element, {\n                    cursorAt: this.parent.dragCursorPosition,\n                    dragTarget: '.' + CLS.FULLROW,\n                    distance: 5,\n                    dragArea: this.parent.element,\n                    drag: draggingHandler.bind(this, this.parent),\n                    dragStart: function (args) {\n                        dragStartHandler(_this.parent, args, _this.dragObj);\n                    },\n                    dragStop: dragStopHandler.bind(this, this.parent),\n                    enableTailMode: true,\n                    enableAutoScroll: true,\n                    helper: this.dragHelper.bind(this)\n                });\n            }\n            else if (!this.parent.allowDragAndDrop && this.dragObj) {\n                this.dragObj.destroy();\n            }\n        }\n    };\n    NavigationPane.prototype.dragHelper = function (args) {\n        var dragTarget = args.sender.target;\n        if (!dragTarget.classList.contains(CLS.FULLROW)) {\n            return null;\n        }\n        var dragLi = closest(dragTarget, 'li');\n        this.parent.dragPath = '';\n        this.parent.dragData = [];\n        this.parent.activeElements = [];\n        this.parent.activeElements = [dragLi];\n        this.parent.dragNodes = [];\n        getModule(this.parent, dragLi);\n        // eslint-disable-next-line\n        this.parent.dragData = this.getTreeData(dragLi);\n        this.parent.dragPath = this.getDragPath(dragLi, this.parent.dragData[0].name);\n        this.parent.dragNodes.push(this.parent.dragData[0].name);\n        createVirtualDragElement(this.parent);\n        return this.parent.virtualDragElement;\n    };\n    NavigationPane.prototype.getDragPath = function (dragLi, text) {\n        var path = this.getDropPath(dragLi, text);\n        return getParentPath(path);\n    };\n    NavigationPane.prototype.getDropPath = function (node, text) {\n        var id = node.getAttribute('data-id');\n        var newText = this.parent.hasId ? id : text;\n        return getPath(node, newText, this.parent.hasId);\n    };\n    NavigationPane.prototype.onDrowNode = function (args) {\n        var eventArgs = {\n            element: args.node,\n            fileDetails: args.nodeData,\n            module: 'NavigationPane'\n        };\n        this.parent.trigger('fileLoad', eventArgs);\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.addChild = function (files, target, prevent) {\n        // eslint-disable-next-line\n        var directories = getDirectories(files);\n        if (directories.length > 0) {\n            var length_1 = 0;\n            // eslint-disable-next-line\n            var folders = directories;\n            while (length_1 < directories.length) {\n                // eslint-disable-next-line\n                folders[length_1]._fm_icon = 'e-fe-folder';\n                // eslint-disable-next-line\n                var attr = {};\n                var id = getValue('id', folders[length_1]);\n                if (!isNOU(id)) {\n                    setValue('data-id', id, attr);\n                }\n                if (!hasEditAccess(folders[length_1])) {\n                    setValue('class', getAccessClass(folders[length_1]), attr);\n                }\n                if (!isNOU(attr)) {\n                    setValue('_fm_htmlAttr', attr, folders[length_1]);\n                }\n                length_1++;\n            }\n            // eslint-disable-next-line\n            this.treeObj.addNodes(directories, target, null, prevent);\n        }\n    };\n    // Node Selecting event handler\n    NavigationPane.prototype.onNodeSelecting = function (args) {\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent || this.restrictSelecting) {\n            this.restrictSelecting = false;\n            this.isNodeClickCalled = false;\n            return;\n        }\n        if (!this.renameParent) {\n            this.parent.activeModule = 'navigationpane';\n            // eslint-disable-next-line\n            var nodeData = this.getTreeData(getValue('id', args.nodeData));\n            var eventArgs = { cancel: false, fileDetails: nodeData[0], module: 'NavigationPane' };\n            this.parent.trigger('fileOpen', eventArgs);\n            args.cancel = eventArgs.cancel;\n            if (args.cancel) {\n                this.restrictSelecting = this.isNodeClickCalled ? this.previousSelected[0] != args.node.getAttribute('data-uid') : false;\n                this.treeObj.selectedNodes = this.isNodeClickCalled ? this.previousSelected : this.treeObj.selectedNodes;\n                this.previousSelected = this.treeObj.selectedNodes;\n                if (!isNOU(this.parent) && !isNOU(this.parent.contextmenuModule)) {\n                    this.parent.contextmenuModule.contextMenu.enableItems(['Open'], true);\n                }\n            }\n        }\n    };\n    // Opens the folder while clicking open context menu item in the treeview.\n    NavigationPane.prototype.openFileOnContextMenuClick = function (node) {\n        var data = this.treeObj.getTreeData(node);\n        // eslint-disable-next-line\n        this.parent.selectedItems = [];\n        this.parent.itemData = data;\n        this.activeNode = node;\n        this.parent.activeModule = 'navigationpane';\n        updatePath(node, this.parent.itemData[0], this.parent);\n        read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n        this.parent.visitedItem = node;\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n        this.treeObj.selectedNodes = [node.getAttribute('data-uid')];\n    };\n    NavigationPane.prototype.onNodeSelected = function (args) {\n        if (this.parent.breadcrumbbarModule && this.parent.breadcrumbbarModule.searchObj && !this.renameParent) {\n            this.parent.breadcrumbbarModule.searchObj.element.value = '';\n            this.parent.isFiltered = false;\n        }\n        this.parent.searchedItems = [];\n        if (!args.isInteracted && !this.isRightClick && !this.isPathDragged && !this.isRenameParent) {\n            return;\n        }\n        this.activeNode = args.node;\n        this.parent.activeModule = 'navigationpane';\n        // eslint-disable-next-line\n        var nodeData = this.getTreeData(getValue('id', args.nodeData));\n        this.parent.selectedItems = [];\n        this.parent.itemData = nodeData;\n        var previousPath = this.parent.path;\n        updatePath(args.node, this.parent.itemData[0], this.parent);\n        if (previousPath !== this.parent.path) {\n            this.expandNodeTarget = null;\n            if (args.node.querySelector('.' + CLS.ICONS) && args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n                this.expandNodeTarget = 'add';\n            }\n            read(this.parent, this.isPathDragged ? events.pasteEnd : events.pathChanged, this.parent.path);\n            this.parent.visitedItem = args.node;\n        }\n        this.isPathDragged = this.isRenameParent = this.isRightClick = false;\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    NavigationPane.prototype.onPathDrag = function (args) {\n        this.isPathDragged = true;\n        this.selectResultNode(args[0]);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpand = function (args) {\n        if (!args.isInteracted && !this.isDrag) {\n            return;\n        }\n        if (args.node.querySelector('.' + CLS.LIST_ITEM) === null) {\n            var text = getValue('text', args.nodeData);\n            var id = args.node.getAttribute('data-id');\n            var isId = isNOU(id) ? false : true;\n            var newText = isNOU(id) ? text : id;\n            var path = getPath(args.node, newText, isId);\n            this.expandNodeTarget = args.node.getAttribute('data-uid');\n            this.parent.expandedId = this.expandNodeTarget;\n            this.parent.itemData = this.getTreeData(getValue('id', args.nodeData));\n            read(this.parent, events.nodeExpand, path);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeExpanded = function (args) {\n        this.addChild(args.files, this.expandNodeTarget, false);\n        this.parent.expandedId = null;\n    };\n    NavigationPane.prototype.onNodeClicked = function (args) {\n        this.parent.activeModule = 'navigationpane';\n        this.previousSelected = this.treeObj.selectedNodes;\n        this.activeNode = args.node;\n        if ((args.event.which === 3) && (args.node.getAttribute('data-uid') !== this.treeObj.selectedNodes[0])) {\n            this.isRightClick = true;\n            this.isNodeClickCalled = true;\n            this.treeObj.selectedNodes = [args.node.getAttribute('data-uid')];\n        }\n        else if (args.node.getAttribute('data-uid') === this.treeObj.selectedNodes[0] && this.parent.selectedItems.length !== 0) {\n            this.parent.setProperties({ selectedItems: [] }, true);\n            var layout = (this.parent.view === 'LargeIcons') ? 'largeiconsview' : 'detailsview';\n            this.parent.notify(events.modelChanged, { module: layout, newProp: { selectedItems: [] } });\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onNodeEditing = function (args) {\n        if (!isNOU(args.innerHtml)) {\n            args.cancel = true;\n        }\n    };\n    NavigationPane.prototype.onPathChanged = function (args) {\n        this.parent.isCut = false;\n        // eslint-disable-next-line\n        var currFiles = getValue(this.parent.pathId[this.parent.pathId.length - 1], this.parent.feFiles);\n        if (this.expandNodeTarget === 'add') {\n            var sNode = select('[data-uid=\"' + this.treeObj.selectedNodes[0] + '\"]', this.treeObj.element);\n            var ul = select('.' + CLS.LIST_PARENT, sNode);\n            if (isNOU(ul)) {\n                this.addChild(args.files, this.treeObj.selectedNodes[0], !this.expandTree);\n            }\n            this.expandNodeTarget = '';\n        }\n        this.expandTree = false;\n        if (isNOU(currFiles)) {\n            setValue(this.parent.pathId[this.parent.pathId.length - 1], args.files, this.parent.feFiles);\n        }\n    };\n    NavigationPane.prototype.updateTree = function (args) {\n        if (this.treeObj) {\n            var id = this.treeObj.selectedNodes[0];\n            this.updateTreeNode(args, id);\n        }\n    };\n    NavigationPane.prototype.updateTreeNode = function (args, id) {\n        var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1 ? false : true;\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, !toExpand);\n    };\n    NavigationPane.prototype.removeChildNodes = function (id) {\n        var sNode = select('[data-uid=\"' + id + '\"]', this.treeObj.element);\n        var parent = select('.' + CLS.LIST_PARENT, sNode);\n        var childs = parent ? Array.prototype.slice.call(parent.children) : null;\n        if (childs) {\n            this.treeObj.removeNodes(childs);\n        }\n    };\n    NavigationPane.prototype.onOpenEnd = function (args) {\n        var sleId = this.parent.pathId[this.parent.pathId.length - 1];\n        this.treeObj.expandAll(this.treeObj.selectedNodes);\n        this.treeObj.selectedNodes = [sleId];\n        this.expandNodeTarget = 'add';\n        this.onPathChanged(args);\n    };\n    NavigationPane.prototype.onOpenInit = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            if (args.target.querySelector('.' + CLS.ICONS)) {\n                this.treeObj.expandAll(this.treeObj.selectedNodes);\n            }\n        }\n    };\n    NavigationPane.prototype.onInitialEnd = function (args) {\n        this.onInit();\n        this.addChild(args.files, getValue('_fm_id', args.cwd), false);\n    };\n    NavigationPane.prototype.onFinalizeEnd = function (args) {\n        this.onInit();\n        var id = getValue('_fm_id', args.cwd);\n        this.removeChildNodes(id);\n        this.addChild(args.files, id, false);\n        this.treeObj.selectedNodes = [this.parent.pathId[this.parent.pathId.length - 1]];\n    };\n    NavigationPane.prototype.onCreateEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onSelectedData = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateItemData();\n        }\n    };\n    NavigationPane.prototype.onDeleteInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateActionData();\n            var name_1 = getValue('name', this.parent.itemData[0]);\n            Delete(this.parent, [name_1], this.parent.path, 'delete');\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDeleteEnd = function (args) {\n        if (this.parent.activeModule === 'navigationpane') {\n            var selectedNode = this.treeObj.selectedNodes[0];\n            var selcetedEle = select('[data-uid=\"' + selectedNode + '\"]', this.treeObj.element);\n            var selectedNodeEle = closest(selcetedEle, '.' + CLS.LIST_PARENT).parentElement;\n            this.treeObj.selectedNodes = [selectedNodeEle.getAttribute('data-uid')];\n            this.treeObj.dataBind();\n        }\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRefreshEnd = function (args) {\n        this.updateTree(args);\n    };\n    NavigationPane.prototype.onRenameInit = function () {\n        if (this.parent.activeModule === 'navigationpane') {\n            this.updateRenameData();\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEndParent = function (args) {\n        var id = this.renameParent ? this.renameParent : this.parent.pathId[this.parent.pathId.length - 1];\n        this.expandTree = this.treeObj.expandedNodes.indexOf(this.treeObj.selectedNodes[0]) !== -1;\n        this.updateTreeNode(args, id);\n        this.parent.expandedId = null;\n        if (this.renameParent) {\n            this.renameParent = null;\n        }\n        else {\n            // eslint-disable-next-line\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                var nData = new DataManager(this.treeObj.getTreeData()).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.renameText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('_fm_pId', 'equal', id, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.isRenameParent = true;\n                var id_1 = getValue(this.treeObj.fields.id, resultData[0]);\n                this.treeObj.selectedNodes = [id_1];\n                this.treeObj.dataBind();\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onRenameEnd = function (args) {\n        if (this.parent.breadcrumbbarModule.searchObj.element.value === '' && !this.parent.isFiltered) {\n            this.updateTree(args);\n        }\n        else {\n            // eslint-disable-next-line\n            var data = this.treeObj.getTreeData();\n            // eslint-disable-next-line\n            var resultData = [];\n            if (this.parent.hasId) {\n                resultData = new DataManager(data).\n                    executeLocal(new Query().where('id', 'equal', this.parent.renamedId, false));\n            }\n            else {\n                // eslint-disable-next-line\n                var nData = new DataManager(data).\n                    executeLocal(new Query().where(this.treeObj.fields.text, 'equal', this.parent.currentItemText, false));\n                if (nData.length > 0) {\n                    resultData = new DataManager(nData).\n                        executeLocal(new Query().where('filterPath', 'equal', this.parent.filterPath, false));\n                }\n            }\n            if (resultData.length > 0) {\n                this.renameParent = getValue(this.treeObj.fields.parentID, resultData[0]);\n                this.parent.expandedId = this.renameParent;\n                this.parent.itemData = this.getTreeData(this.renameParent);\n                read(this.parent, events.renameEndParent, this.parent.filterPath.replace(/\\\\/g, '/'));\n            }\n        }\n    };\n    NavigationPane.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'allowDragAndDrop':\n                    this.addDragDrop();\n                    break;\n                case 'navigationPaneSettings':\n                    read(this.parent, events.finalizeEnd, '/');\n                    if (e.oldProp.navigationPaneSettings.sortOrder !== e.newProp.navigationPaneSettings.sortOrder) {\n                        this.treeObj.sortOrder = e.newProp.navigationPaneSettings.sortOrder;\n                    }\n                    break;\n            }\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDownLoadInit = function () {\n        this.doDownload();\n    };\n    NavigationPane.prototype.onSelectionChanged = function (e) {\n        this.treeObj.selectedNodes = [e.selectedNode];\n    };\n    NavigationPane.prototype.onClearPathInit = function (e) {\n        this.removeChildNodes(e.selectedNode);\n    };\n    NavigationPane.prototype.onDragEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchDrag) {\n            moveNames = this.getMoveNames(args.files, this.parent.isSearchDrag, this.parent.dragPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.getMoveNames = function (files, flag, path) {\n        var moveNames = [];\n        for (var i = 0; i < files.length; i++) {\n            if (!files[i].isFile) {\n                if (!this.parent.hasId) {\n                    var name_2 = (files[i].previousName);\n                    if (flag) {\n                        path = path + files[i].previousName;\n                        var index = path.lastIndexOf('/');\n                        name_2 = path.substring(index + 1);\n                        path = path.substring(0, index + 1);\n                    }\n                    // eslint-disable-next-line\n                    var resultData = new DataManager(this.treeObj.getTreeData()).\n                        executeLocal(new Query().where(this.treeObj.fields.text, 'equal', name_2, false));\n                    for (var j = 0; j < resultData.length; j++) {\n                        var fPath = getValue('filterPath', resultData[j]);\n                        fPath = fPath.replace(/\\\\/g, '/');\n                        if (fPath === path) {\n                            moveNames.push(getValue(this.treeObj.fields.id, resultData[j]));\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return moveNames;\n    };\n    NavigationPane.prototype.onCutEnd = function (args) {\n        var moveNames = [];\n        if (this.parent.isPasteError || this.parent.isSearchCut) {\n            this.moveNames = this.getMoveNames(args.files, this.parent.isSearchCut, this.parent.targetPath);\n        }\n        else {\n            moveNames = this.moveNames;\n        }\n        this.treeObj.removeNodes(moveNames);\n    };\n    /* istanbul ignore next */\n    // eslint-disable-next-line\n    NavigationPane.prototype.selectResultNode = function (resultObj) {\n        if (!this.parent.hasId) {\n            var path = getValue('filterPath', resultObj);\n            var itemname = getValue('name', resultObj);\n            // eslint-disable-next-line\n            var data = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', itemname, false));\n            if (data.length > 0) {\n                // eslint-disable-next-line\n                var resultData = new DataManager(data).\n                    executeLocal(new Query().where('filterPath', 'equal', path, false));\n                if (resultData.length > 0) {\n                    var id = getValue(this.treeObj.fields.id, resultData[0]);\n                    this.treeObj.selectedNodes = [id];\n                    this.treeObj.dataBind();\n                }\n            }\n        }\n        else {\n            this.treeObj.selectedNodes = [getValue('_fm_id', resultObj)];\n            this.treeObj.dataBind();\n        }\n    };\n    NavigationPane.prototype.onDropPath = function (args) {\n        this.onpasteEnd(args);\n        this.selectResultNode(this.parent.dropData);\n        this.parent.isDropEnd = !this.parent.isPasteError;\n    };\n    NavigationPane.prototype.onpasteEnd = function (args) {\n        // eslint-disable-next-line\n        var resultData = [];\n        if (this.parent.hasId) {\n            resultData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where('id', 'equal', getValue('id', args.cwd), false));\n        }\n        else {\n            // eslint-disable-next-line\n            var nData = new DataManager(this.treeObj.getTreeData()).\n                executeLocal(new Query().where(this.treeObj.fields.text, 'equal', getValue('name', args.cwd), false));\n            if (nData.length > 0) {\n                resultData = new DataManager(nData).\n                    executeLocal(new Query().where('filterPath', 'equal', getValue('filterPath', args.cwd), false));\n            }\n        }\n        if (resultData.length > 0) {\n            var id = getValue(this.treeObj.fields.id, resultData[0]);\n            var toExpand = this.treeObj.expandedNodes.indexOf(id) === -1;\n            this.removeChildNodes(id);\n            this.addChild(args.files, id, toExpand);\n        }\n        this.parent.expandedId = null;\n        this.onPathChanged(args);\n        if (this.parent.isDragDrop) {\n            this.checkDropPath(args);\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.checkDropPath = function (args) {\n        if (this.parent.hasId) {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n            readDropPath(this.parent);\n            return;\n        }\n        if ((this.parent.dropPath.indexOf(getDirectoryPath(this.parent, args)) === -1)) {\n            this.parent.isDropEnd = false;\n            readDropPath(this.parent);\n        }\n        else {\n            this.parent.isDropEnd = !this.parent.isPasteError;\n        }\n    };\n    NavigationPane.prototype.onpasteInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.updateItemData();\n        }\n        this.moveNames = [];\n        // eslint-disable-next-line\n        var obj = this.parent.isDragDrop ? this.parent.dragData : this.parent.actionRecords;\n        for (var i = 0; i < obj.length; i++) {\n            if (getValue('isFile', obj[i]) === false) {\n                this.moveNames.push(getValue('_fm_id', obj[i]));\n            }\n        }\n    };\n    NavigationPane.prototype.oncutCopyInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            this.parent.activeRecords = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.activeElements = [this.activeNode];\n        }\n    };\n    NavigationPane.prototype.addEventListener = function () {\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.parent.on(events.downloadInit, this.onDownLoadInit, this);\n        this.parent.on(events.initialEnd, this.onInitialEnd, this);\n        this.parent.on(events.finalizeEnd, this.onFinalizeEnd, this);\n        this.parent.on(events.pathChanged, this.onPathChanged, this);\n        this.parent.on(events.pasteEnd, this.onpasteEnd, this);\n        this.parent.on(events.cutEnd, this.onCutEnd, this);\n        this.parent.on(events.pasteInit, this.onpasteInit, this);\n        this.parent.on(events.nodeExpand, this.onNodeExpanded, this);\n        this.parent.on(events.createEnd, this.onCreateEnd, this);\n        this.parent.on(events.selectedData, this.onSelectedData, this);\n        this.parent.on(events.deleteInit, this.onDeleteInit, this);\n        this.parent.on(events.deleteEnd, this.onDeleteEnd, this);\n        this.parent.on(events.refreshEnd, this.onRefreshEnd, this);\n        this.parent.on(events.updateTreeSelection, this.onSelectionChanged, this);\n        this.parent.on(events.openInit, this.onOpenInit, this);\n        this.parent.on(events.openEnd, this.onOpenEnd, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.renameInit, this.onRenameInit, this);\n        this.parent.on(events.renameEnd, this.onRenameEnd, this);\n        this.parent.on(events.renameEndParent, this.onRenameEndParent, this);\n        this.parent.on(events.clearPathInit, this.onClearPathInit, this);\n        this.parent.on(events.cutCopyInit, this.oncutCopyInit, this);\n        this.parent.on(events.dropInit, this.onDropInit, this);\n        this.parent.on(events.menuItemData, this.onMenuItemData, this);\n        this.parent.on(events.dragEnd, this.onDragEnd, this);\n        this.parent.on(events.dragging, this.onDragging, this);\n        this.parent.on(events.dropPath, this.onDropPath, this);\n        this.parent.on(events.detailsInit, this.onDetailsInit, this);\n        this.parent.on(events.pathDrag, this.onPathDrag, this);\n    };\n    NavigationPane.prototype.removeEventListener = function () {\n        this.parent.off(events.initialEnd, this.onInitialEnd);\n        this.parent.off(events.downloadInit, this.onDownLoadInit);\n        this.parent.off(events.finalizeEnd, this.onFinalizeEnd);\n        this.parent.off(events.selectedData, this.onSelectedData);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.parent.off(events.pathChanged, this.onPathChanged);\n        this.parent.off(events.pasteEnd, this.onpasteEnd);\n        this.parent.off(events.cutEnd, this.onCutEnd);\n        this.parent.off(events.pasteInit, this.onpasteInit);\n        this.parent.off(events.updateTreeSelection, this.onSelectionChanged);\n        this.parent.off(events.nodeExpand, this.onNodeExpanded);\n        this.parent.off(events.createEnd, this.onCreateEnd);\n        this.parent.off(events.refreshEnd, this.onRefreshEnd);\n        this.parent.off(events.openInit, this.onOpenInit);\n        this.parent.off(events.openEnd, this.onOpenEnd);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.renameInit, this.onRenameInit);\n        this.parent.off(events.renameEnd, this.onRenameEnd);\n        this.parent.off(events.renameEndParent, this.onRenameEndParent);\n        this.parent.off(events.clearPathInit, this.onClearPathInit);\n        this.parent.off(events.deleteInit, this.onDeleteInit);\n        this.parent.off(events.deleteEnd, this.onDeleteEnd);\n        this.parent.off(events.cutCopyInit, this.oncutCopyInit);\n        this.parent.off(events.dropInit, this.onDropInit);\n        this.parent.off(events.dragEnd, this.onDragEnd);\n        this.parent.off(events.dragging, this.onDragging);\n        this.parent.off(events.dropPath, this.onDropPath);\n        this.parent.off(events.detailsInit, this.onDetailsInit);\n        this.parent.off(events.menuItemData, this.onMenuItemData);\n        this.parent.off(events.pathDrag, this.onPathDrag);\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDetailsInit = function () {\n        if (this.parent.activeModule === this.getModuleName()) {\n            // eslint-disable-next-line\n            var dataobj = this.getTreeData(this.treeObj.selectedNodes[0]);\n            this.parent.itemData = dataobj;\n        }\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.onMenuItemData = function (args) {\n        if (this.parent.activeModule === this.getModuleName()) {\n            var liEle = closest(args.target, 'li');\n            this.parent.itemData = this.getTreeData(liEle.getAttribute('data-uid'));\n        }\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.onDragging = function (args) {\n        var ele = closest(args.target, 'li');\n        if (ele.classList.contains('e-node-collapsed')) {\n            this.isDrag = true;\n            var level = parseInt(ele.getAttribute('aria-level'), 10);\n            this.treeObj.expandAll([ele.getAttribute('data-uid')], level + 1);\n            this.isDrag = false;\n        }\n    };\n    NavigationPane.prototype.onDropInit = function (args) {\n        if (this.parent.targetModule === this.getModuleName()) {\n            var dropLi = closest(args.target, 'li');\n            this.parent.dropData = this.getTreeData(dropLi)[0];\n            this.parent.dropPath = this.getDropPath(dropLi, getValue('name', this.parent.dropData));\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    NavigationPane.prototype.getModuleName = function () {\n        return 'navigationpane';\n    };\n    NavigationPane.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        if (this.treeObj) {\n            this.unWireEvents();\n            this.treeObj.destroy();\n        }\n    };\n    NavigationPane.prototype.wireEvents = function () {\n        this.keyboardModule = new KeyboardEvents(this.treeObj.element, {\n            keyAction: this.keyDown.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    NavigationPane.prototype.unWireEvents = function () {\n        this.keyboardModule.destroy();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.keyDown = function (e) {\n        var action = e.action;\n        switch (action) {\n            case 'altEnter':\n                this.parent.notify(events.detailsInit, {});\n                GetDetails(this.parent, [], this.parent.path, 'details');\n                break;\n            case 'esc':\n                removeActive(this.parent);\n                break;\n            case 'del':\n                if (this.parent.pathId[0] !== this.activeNode.getAttribute('data-uid')) {\n                    this.updateItemData();\n                    if (!hasEditAccess(this.parent.itemData[0])) {\n                        createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionEdit);\n                    }\n                    else {\n                        this.removeNodes = [];\n                        createDialog(this.parent, 'Delete');\n                    }\n                }\n                break;\n            case 'ctrlC':\n                copyFiles(this.parent);\n                break;\n            case 'ctrlV':\n                this.parent.folderPath = '';\n                pasteHandler(this.parent);\n                break;\n            case 'ctrlX':\n                cutFiles(this.parent);\n                break;\n            case 'shiftF10':\n                this.updateItemData();\n                if (!hasDownloadAccess(this.parent.itemData[0])) {\n                    createDeniedDialog(this.parent, this.parent.itemData[0], events.permissionDownload);\n                    return;\n                }\n                if (this.parent.selectedItems.length !== 0) {\n                    this.doDownload();\n                }\n                break;\n            case 'f2':\n                if (this.parent.selectedItems.length === 0) {\n                    // eslint-disable-next-line\n                    var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n                    if (!hasEditAccess(data)) {\n                        createDeniedDialog(this.parent, data, events.permissionEdit);\n                    }\n                    else {\n                        this.updateRenameData();\n                        createDialog(this.parent, 'Rename');\n                    }\n                }\n                break;\n        }\n    };\n    // eslint-disable-next-line\n    NavigationPane.prototype.getTreeData = function (args) {\n        // eslint-disable-next-line\n        var data = this.treeObj.getTreeData(args);\n        for (var i = 0; i < data.length; i++) {\n            if (isNOU(getValue('hasChild', data[i]))) {\n                setValue('hasChild', false, data[i]);\n            }\n        }\n        return data;\n    };\n    NavigationPane.prototype.updateRenameData = function () {\n        this.updateItemData();\n        this.parent.currentItemText = getValue('name', this.parent.itemData[0]);\n    };\n    NavigationPane.prototype.updateItemData = function () {\n        // eslint-disable-next-line\n        var data = this.getTreeData(this.treeObj.selectedNodes[0])[0];\n        this.parent.itemData = [data];\n        this.parent.isFile = false;\n    };\n    NavigationPane.prototype.updateActionData = function () {\n        this.updateItemData();\n        var newPath = getParentPath(this.parent.path);\n        this.parent.setProperties({ path: newPath }, true);\n        this.parent.pathId.pop();\n        this.parent.pathNames.pop();\n    };\n    /* istanbul ignore next */\n    NavigationPane.prototype.doDownload = function () {\n        var newPath = getParentPath(this.parent.path);\n        var itemId = this.treeObj.selectedNodes[0];\n        var name = (itemId === this.parent.pathId[0]) ? '' : getValue('name', this.parent.itemData[0]);\n        Download(this.parent, newPath, [name]);\n    };\n    return NavigationPane;\n}());\nexport { NavigationPane };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}