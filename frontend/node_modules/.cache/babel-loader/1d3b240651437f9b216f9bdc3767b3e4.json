{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, closest, remove, removeClass } from '@syncfusion/ej2-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Inline Edit interactions\n */\n\nvar InlineEdit =\n/** @class */\nfunction () {\n  function InlineEdit(parent) {\n    this.parent = parent;\n    this.parent.on(events.inlineClick, this.inlineEdit, this);\n  }\n\n  InlineEdit.prototype.inlineEdit = function (args) {\n    if (this.parent.quickPopup) {\n      this.parent.quickPopup.quickPopupHide();\n    }\n\n    if (args.type === 'Cell') {\n      var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n\n      if (moreWrapper && moreWrapper.classList.contains(cls.POPUP_OPEN)) {\n        this.parent.quickPopup.morePopup.hide();\n      }\n\n      this.removeInlineAppointmentElement();\n      this.cellEdit(args);\n    } else {\n      if (this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS) !== args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n        this.removeInlineAppointmentElement();\n      }\n\n      this.eventEdit(args);\n    }\n  };\n\n  InlineEdit.prototype.cellEdit = function (args) {\n    var saveObj = this.generateEventData();\n    var cellIndex = args.element.cellIndex;\n    var count = this.getEventDaysCount(saveObj);\n\n    if (count > 1) {\n      count = Math.round(count);\n      count--;\n      cellIndex = cellIndex - count;\n    }\n\n    var start = util.resetTime(new Date('' + saveObj[this.parent.eventFields.startTime])).getTime();\n    var end = util.resetTime(new Date('' + saveObj[this.parent.eventFields.endTime])).getTime();\n    var resIndex = args.groupIndex || 0;\n\n    if (this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n      var dayIndex = saveObj[this.parent.eventFields.startTime].getDay();\n      this.createVerticalViewInline(saveObj, dayIndex, resIndex, cellIndex);\n    } else if (this.parent.currentView === 'Month') {\n      this.createMonthViewInline(saveObj, resIndex, start, end);\n    } else {\n      this.createTimelineViewInline(saveObj, start, end, resIndex);\n    }\n\n    var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n\n    if (inlineSubject) {\n      inlineSubject.focus();\n    }\n  };\n\n  InlineEdit.prototype.eventEdit = function (args) {\n    var inlineSubject = args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    var subject;\n\n    if (inlineSubject) {\n      subject = inlineSubject.value;\n    } else {\n      var subEle = args.element.querySelector('.' + cls.SUBJECT_CLASS);\n      var timeEle = args.element.querySelector('.' + cls.APPOINTMENT_TIME);\n      subject = subEle.innerText;\n      inlineSubject = createElement('input', {\n        className: cls.INLINE_SUBJECT_CLASS,\n        attrs: {\n          value: subject\n        }\n      });\n      addClass([subEle], cls.DISABLE_CLASS);\n\n      if (closest(args.element, '.' + cls.MORE_POPUP_WRAPPER_CLASS)) {\n        args.element.insertBefore(inlineSubject, subEle);\n      } else if (['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n        var subjectWrap = args.element.querySelector('.' + cls.SUBJECT_WRAP);\n        subjectWrap.insertBefore(inlineSubject, subjectWrap.firstChild);\n      } else {\n        var elementSelector = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth'].indexOf(this.parent.currentView) > -1 ? '.e-inner-wrap' : '.e-appointment-details';\n        args.element.querySelector(elementSelector).insertBefore(inlineSubject, timeEle);\n      }\n\n      inlineSubject.focus();\n    }\n\n    inlineSubject.setSelectionRange(subject.length, subject.length);\n  };\n\n  InlineEdit.prototype.createVerticalViewInline = function (saveObj, dayIndex, resIndex, daysCount) {\n    var _a;\n\n    var count = this.getEventDaysCount(saveObj);\n    var verticalEvent = new VerticalEvent(this.parent);\n    verticalEvent.initializeValues();\n    var index = verticalEvent.dateRender[resIndex].map(function (date) {\n      return date.getDay();\n    }).indexOf(dayIndex);\n\n    if (count >= 1) {\n      verticalEvent.allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n\n      (_a = verticalEvent.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) {\n        return +date;\n      }));\n\n      var allDayElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_APPOINTMENT_CLASS));\n      var allDayLevel = 0;\n\n      if (allDayElements.length > 0) {\n        allDayLevel = Math.floor(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).getBoundingClientRect().height / allDayElements[0].offsetHeight) - 1;\n      }\n\n      verticalEvent.allDayLevel = allDayLevel;\n      verticalEvent.renderAllDayEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n    } else {\n      verticalEvent.renderNormalEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n    }\n  };\n\n  InlineEdit.prototype.createMonthViewInline = function (saveObj, index, start, end) {\n    var count = this.getEventDaysCount(saveObj);\n    var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n    var monthEvent = new MonthEvent(this.parent);\n    monthEvent.dateRender = this.parent.activeView.renderDates;\n    monthEvent.inlineValue = this.parent.allowInline;\n    var renderDates = this.parent.activeView.renderDates;\n    var workDays = this.parent.activeViewOptions.workDays;\n    var monthCellSelector = '.' + cls.WORK_CELLS_CLASS;\n\n    if (this.parent.activeViewOptions.group.resources.length > 0) {\n      monthCellSelector += '[data-group-index=\"' + index + '\"]';\n      var resourceData = this.parent.resourceBase.lastResourceLevel[index];\n      renderDates = resourceData.renderDates;\n      workDays = resourceData.workDays;\n    }\n\n    monthEvent.workCells = [].slice.call(this.parent.element.querySelectorAll(monthCellSelector));\n    monthEvent.cellWidth = monthEvent.workCells[0].offsetWidth;\n    monthEvent.cellHeight = monthEvent.workCells[0].offsetHeight;\n    monthEvent.eventHeight = util.getElementHeightFromClass(this.parent.monthModule.element, cls.APPOINTMENT_CLASS);\n    monthEvent.getSlotDates(workDays);\n    var filteredDates = monthEvent.getRenderedDates(renderDates);\n    var spannedEvents = monthEvent.splitEvent(saveObject, filteredDates || renderDates);\n\n    for (var _i = 0, spannedEvents_1 = spannedEvents; _i < spannedEvents_1.length; _i++) {\n      var eventData = spannedEvents_1[_i];\n      monthEvent.renderEvents(eventData, index);\n    }\n\n    var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    inlineSubject.focus();\n  };\n\n  InlineEdit.prototype.createTimelineViewInline = function (saveObj, start, end, resIndex) {\n    var count = this.getEventDaysCount(saveObj);\n    var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n    var timelineView = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n    timelineView.dateRender = this.parent.activeView.renderDates;\n    timelineView.eventContainers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n    var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n    timelineView.inlineValue = this.parent.allowInline;\n    timelineView.cellWidth = workCell.offsetWidth;\n    timelineView.cellHeight = workCell.offsetHeight;\n    var dayLength = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr').length === 0 ? 0 : this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr')[0].children.length;\n    timelineView.slotsPerDay = dayLength / timelineView.dateRender.length;\n    timelineView.eventHeight = util.getElementHeightFromClass(timelineView.element, cls.APPOINTMENT_CLASS);\n    timelineView.renderEvents(saveObject, resIndex);\n  };\n\n  InlineEdit.prototype.getEventDaysCount = function (saveObj) {\n    var startDate = saveObj[this.parent.eventFields.startTime];\n    var endDate = saveObj[this.parent.eventFields.endTime];\n    var daysCount = Math.abs(endDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n    return daysCount;\n  };\n\n  InlineEdit.prototype.generateEventData = function (target) {\n    var inlineElement = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n    var subject = inlineElement ? inlineElement.value : target ? target.innerHTML : '';\n    var saveObj = {};\n    saveObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n    saveObj[this.parent.eventFields.subject] = subject;\n    saveObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n    saveObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n    saveObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n    this.parent.eventWindow.setDefaultValueToObject(saveObj);\n\n    if (this.parent.resourceBase) {\n      this.parent.resourceBase.setResourceValues(saveObj, this.parent.activeCellsData.groupIndex);\n    }\n\n    return saveObj;\n  };\n\n  InlineEdit.prototype.documentClick = function () {\n    var target = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n\n    if (target && target.value !== '') {\n      this.inlineCrudActions(target);\n    } else {\n      this.removeInlineAppointmentElement();\n    }\n  };\n\n  InlineEdit.prototype.inlineCrudActions = function (target) {\n    if (closest(target, '.' + cls.INLINE_APPOINTMENT_CLASS)) {\n      var saveObj = this.generateEventData(target);\n      this.parent.addEvent(saveObj);\n    } else {\n      var eventTarget = closest(target, '.' + cls.APPOINTMENT_CLASS);\n      var eventDetails = this.parent.getEventDetails(eventTarget);\n      eventDetails[this.parent.eventFields.subject] = target.value;\n      var currentAction = void 0;\n\n      if (eventDetails[this.parent.eventFields.id] === eventDetails[this.parent.eventFields.recurrenceID]) {\n        currentAction = 'EditOccurrence';\n        eventDetails[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n      }\n\n      this.parent.saveEvent(eventDetails, currentAction);\n    }\n\n    this.removeInlineAppointmentElement();\n  };\n\n  InlineEdit.prototype.createInlineAppointmentElement = function (inlineData) {\n    var inlineAppointmentElement = createElement('div', {\n      className: cls.APPOINTMENT_CLASS + ' ' + cls.INLINE_APPOINTMENT_CLASS\n    });\n    var inlineDetails = createElement('div', {\n      className: cls.APPOINTMENT_DETAILS\n    });\n    inlineAppointmentElement.appendChild(inlineDetails);\n    var inline = createElement('input', {\n      className: cls.INLINE_SUBJECT_CLASS\n    });\n    inlineDetails.appendChild(inline);\n\n    if (inlineData) {\n      this.parent.eventBase.applyResourceColor(inlineAppointmentElement, inlineData, 'backgroundColor');\n    }\n\n    return inlineAppointmentElement;\n  };\n\n  InlineEdit.prototype.removeInlineAppointmentElement = function () {\n    var inlineAppointment = [].slice.call(this.parent.element.querySelectorAll('.' + cls.INLINE_APPOINTMENT_CLASS));\n\n    if (inlineAppointment.length > 0) {\n      inlineAppointment.forEach(function (node) {\n        return remove(node);\n      });\n    }\n\n    var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n\n    if (inlineSubject) {\n      var appointmentSubject = closest(inlineSubject, '.' + cls.APPOINTMENT_CLASS);\n      removeClass([appointmentSubject.querySelector('.' + cls.SUBJECT_CLASS)], cls.DISABLE_CLASS);\n      remove(inlineSubject);\n    }\n  };\n\n  InlineEdit.prototype.destroy = function () {\n    this.parent.off(events.inlineClick, this.inlineEdit);\n  };\n\n  return InlineEdit;\n}();\n\nexport { InlineEdit };","map":{"version":3,"names":["addClass","createElement","closest","remove","removeClass","VerticalEvent","MonthEvent","TimelineEvent","cls","events","util","InlineEdit","parent","on","inlineClick","inlineEdit","prototype","args","quickPopup","quickPopupHide","type","moreWrapper","element","querySelector","MORE_POPUP_WRAPPER_CLASS","classList","contains","POPUP_OPEN","morePopup","hide","removeInlineAppointmentElement","cellEdit","INLINE_SUBJECT_CLASS","eventEdit","saveObj","generateEventData","cellIndex","count","getEventDaysCount","Math","round","start","resetTime","Date","eventFields","startTime","getTime","end","endTime","resIndex","groupIndex","currentView","dayIndex","getDay","createVerticalViewInline","createMonthViewInline","createTimelineViewInline","inlineSubject","focus","subject","value","subEle","SUBJECT_CLASS","timeEle","APPOINTMENT_TIME","innerText","className","attrs","DISABLE_CLASS","insertBefore","indexOf","subjectWrap","SUBJECT_WRAP","firstChild","elementSelector","setSelectionRange","length","daysCount","_a","verticalEvent","initializeValues","index","dateRender","map","date","allDayElement","slice","call","querySelectorAll","ALLDAY_CELLS_CLASS","slots","push","apply","activeView","renderDates","allDayElements","ALLDAY_APPOINTMENT_CLASS","allDayLevel","floor","ALLDAY_ROW_CLASS","getBoundingClientRect","height","offsetHeight","renderAllDayEvents","allowInline","renderNormalEvents","saveObject","eventBase","cloneEventObject","monthEvent","inlineValue","workDays","activeViewOptions","monthCellSelector","WORK_CELLS_CLASS","group","resources","resourceData","resourceBase","lastResourceLevel","workCells","cellWidth","offsetWidth","cellHeight","eventHeight","getElementHeightFromClass","monthModule","APPOINTMENT_CLASS","getSlotDates","filteredDates","getRenderedDates","spannedEvents","splitEvent","_i","spannedEvents_1","eventData","renderEvents","timelineView","timeScale","enable","eventContainers","APPOINTMENT_CONTAINER_CLASS","workCell","dayLength","CONTENT_TABLE_CLASS","children","slotsPerDay","startDate","endDate","abs","MS_PER_DAY","target","inlineElement","innerHTML","id","getEventMaxID","activeCellsData","isAllDay","eventWindow","setDefaultValueToObject","setResourceValues","documentClick","inlineCrudActions","INLINE_APPOINTMENT_CLASS","addEvent","eventTarget","eventDetails","getEventDetails","currentAction","recurrenceID","saveEvent","createInlineAppointmentElement","inlineData","inlineAppointmentElement","inlineDetails","APPOINTMENT_DETAILS","appendChild","inline","applyResourceColor","inlineAppointment","forEach","node","appointmentSubject","destroy","off"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-schedule/src/schedule/event-renderer/inline-edit.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { addClass, createElement, closest, remove, removeClass } from '@syncfusion/ej2-base';\nimport { VerticalEvent } from '../event-renderer/vertical-view';\nimport { MonthEvent } from '../event-renderer/month';\nimport { TimelineEvent } from '../event-renderer/timeline-view';\nimport * as cls from '../base/css-constant';\nimport * as events from '../base/constant';\nimport * as util from '../base/util';\n/**\n * Inline Edit interactions\n */\nvar InlineEdit = /** @class */ (function () {\n    function InlineEdit(parent) {\n        this.parent = parent;\n        this.parent.on(events.inlineClick, this.inlineEdit, this);\n    }\n    InlineEdit.prototype.inlineEdit = function (args) {\n        if (this.parent.quickPopup) {\n            this.parent.quickPopup.quickPopupHide();\n        }\n        if (args.type === 'Cell') {\n            var moreWrapper = this.parent.element.querySelector('.' + cls.MORE_POPUP_WRAPPER_CLASS);\n            if (moreWrapper && moreWrapper.classList.contains(cls.POPUP_OPEN)) {\n                this.parent.quickPopup.morePopup.hide();\n            }\n            this.removeInlineAppointmentElement();\n            this.cellEdit(args);\n        }\n        else {\n            if (this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS) !==\n                args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS)) {\n                this.removeInlineAppointmentElement();\n            }\n            this.eventEdit(args);\n        }\n    };\n    InlineEdit.prototype.cellEdit = function (args) {\n        var saveObj = this.generateEventData();\n        var cellIndex = args.element.cellIndex;\n        var count = this.getEventDaysCount(saveObj);\n        if (count > 1) {\n            count = Math.round(count);\n            count--;\n            cellIndex = cellIndex - count;\n        }\n        var start = util.resetTime(new Date('' + saveObj[this.parent.eventFields.startTime])).getTime();\n        var end = util.resetTime(new Date('' + saveObj[this.parent.eventFields.endTime])).getTime();\n        var resIndex = args.groupIndex || 0;\n        if (this.parent.currentView === 'Day' || this.parent.currentView === 'Week' || this.parent.currentView === 'WorkWeek') {\n            var dayIndex = saveObj[this.parent.eventFields.startTime].getDay();\n            this.createVerticalViewInline(saveObj, dayIndex, resIndex, cellIndex);\n        }\n        else if (this.parent.currentView === 'Month') {\n            this.createMonthViewInline(saveObj, resIndex, start, end);\n        }\n        else {\n            this.createTimelineViewInline(saveObj, start, end, resIndex);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (inlineSubject) {\n            inlineSubject.focus();\n        }\n    };\n    InlineEdit.prototype.eventEdit = function (args) {\n        var inlineSubject = args.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject;\n        if (inlineSubject) {\n            subject = inlineSubject.value;\n        }\n        else {\n            var subEle = args.element.querySelector('.' + cls.SUBJECT_CLASS);\n            var timeEle = args.element.querySelector('.' + cls.APPOINTMENT_TIME);\n            subject = subEle.innerText;\n            inlineSubject = createElement('input', { className: cls.INLINE_SUBJECT_CLASS, attrs: { value: subject } });\n            addClass([subEle], cls.DISABLE_CLASS);\n            if (closest(args.element, '.' + cls.MORE_POPUP_WRAPPER_CLASS)) {\n                args.element.insertBefore(inlineSubject, subEle);\n            }\n            else if (['Agenda', 'MonthAgenda'].indexOf(this.parent.currentView) > -1) {\n                var subjectWrap = args.element.querySelector('.' + cls.SUBJECT_WRAP);\n                subjectWrap.insertBefore(inlineSubject, subjectWrap.firstChild);\n            }\n            else {\n                var elementSelector = ['TimelineDay', 'TimelineWeek', 'TimelineWorkWeek', 'TimelineMonth'].indexOf(this.parent.currentView) > -1 ?\n                    '.e-inner-wrap' : '.e-appointment-details';\n                args.element.querySelector(elementSelector).insertBefore(inlineSubject, timeEle);\n            }\n            inlineSubject.focus();\n        }\n        inlineSubject.setSelectionRange(subject.length, subject.length);\n    };\n    InlineEdit.prototype.createVerticalViewInline = function (saveObj, dayIndex, resIndex, daysCount) {\n        var _a;\n        var count = this.getEventDaysCount(saveObj);\n        var verticalEvent = new VerticalEvent(this.parent);\n        verticalEvent.initializeValues();\n        var index = verticalEvent.dateRender[resIndex].map(function (date) { return date.getDay(); }).indexOf(dayIndex);\n        if (count >= 1) {\n            verticalEvent.allDayElement = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_CELLS_CLASS));\n            (_a = verticalEvent.slots).push.apply(_a, this.parent.activeView.renderDates.map(function (date) { return +date; }));\n            var allDayElements = [].slice.call(this.parent.element.querySelectorAll('.' + cls.ALLDAY_APPOINTMENT_CLASS));\n            var allDayLevel = 0;\n            if (allDayElements.length > 0) {\n                allDayLevel = Math.floor(this.parent.element.querySelector('.' + cls.ALLDAY_ROW_CLASS).getBoundingClientRect().height /\n                    allDayElements[0].offsetHeight) - 1;\n            }\n            verticalEvent.allDayLevel = allDayLevel;\n            verticalEvent.renderAllDayEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n        }\n        else {\n            verticalEvent.renderNormalEvents(saveObj, index, resIndex, daysCount, this.parent.allowInline);\n        }\n    };\n    InlineEdit.prototype.createMonthViewInline = function (saveObj, index, start, end) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var monthEvent = new MonthEvent(this.parent);\n        monthEvent.dateRender = this.parent.activeView.renderDates;\n        monthEvent.inlineValue = this.parent.allowInline;\n        var renderDates = this.parent.activeView.renderDates;\n        var workDays = this.parent.activeViewOptions.workDays;\n        var monthCellSelector = '.' + cls.WORK_CELLS_CLASS;\n        if (this.parent.activeViewOptions.group.resources.length > 0) {\n            monthCellSelector += '[data-group-index=\"' + index + '\"]';\n            var resourceData = this.parent.resourceBase.lastResourceLevel[index];\n            renderDates = resourceData.renderDates;\n            workDays = resourceData.workDays;\n        }\n        monthEvent.workCells = [].slice.call(this.parent.element.querySelectorAll(monthCellSelector));\n        monthEvent.cellWidth = monthEvent.workCells[0].offsetWidth;\n        monthEvent.cellHeight = monthEvent.workCells[0].offsetHeight;\n        monthEvent.eventHeight = util.getElementHeightFromClass(this.parent.monthModule.element, cls.APPOINTMENT_CLASS);\n        monthEvent.getSlotDates(workDays);\n        var filteredDates = monthEvent.getRenderedDates(renderDates);\n        var spannedEvents = monthEvent.splitEvent(saveObject, filteredDates || renderDates);\n        for (var _i = 0, spannedEvents_1 = spannedEvents; _i < spannedEvents_1.length; _i++) {\n            var eventData = spannedEvents_1[_i];\n            monthEvent.renderEvents(eventData, index);\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        inlineSubject.focus();\n    };\n    InlineEdit.prototype.createTimelineViewInline = function (saveObj, start, end, resIndex) {\n        var count = this.getEventDaysCount(saveObj);\n        var saveObject = this.parent.eventBase.cloneEventObject(saveObj, start, end, count, false, false);\n        var timelineView = new TimelineEvent(this.parent, this.parent.activeViewOptions.timeScale.enable ? 'hour' : 'day');\n        timelineView.dateRender = this.parent.activeView.renderDates;\n        timelineView.eventContainers = [].slice.call(this.parent.element.querySelectorAll('.' + cls.APPOINTMENT_CONTAINER_CLASS));\n        var workCell = this.parent.element.querySelector('.' + cls.WORK_CELLS_CLASS);\n        timelineView.inlineValue = this.parent.allowInline;\n        timelineView.cellWidth = workCell.offsetWidth;\n        timelineView.cellHeight = workCell.offsetHeight;\n        var dayLength = this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr').length === 0 ?\n            0 : this.parent.element.querySelectorAll('.' + cls.CONTENT_TABLE_CLASS + ' tbody tr')[0].children.length;\n        timelineView.slotsPerDay = dayLength / timelineView.dateRender.length;\n        timelineView.eventHeight = util.getElementHeightFromClass(timelineView.element, cls.APPOINTMENT_CLASS);\n        timelineView.renderEvents(saveObject, resIndex);\n    };\n    InlineEdit.prototype.getEventDaysCount = function (saveObj) {\n        var startDate = saveObj[this.parent.eventFields.startTime];\n        var endDate = saveObj[this.parent.eventFields.endTime];\n        var daysCount = Math.abs(endDate.getTime() - startDate.getTime()) / util.MS_PER_DAY;\n        return daysCount;\n    };\n    InlineEdit.prototype.generateEventData = function (target) {\n        var inlineElement = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        var subject = inlineElement ? inlineElement.value : target ? target.innerHTML : '';\n        var saveObj = {};\n        saveObj[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n        saveObj[this.parent.eventFields.subject] = subject;\n        saveObj[this.parent.eventFields.startTime] = this.parent.activeCellsData.startTime;\n        saveObj[this.parent.eventFields.endTime] = this.parent.activeCellsData.endTime;\n        saveObj[this.parent.eventFields.isAllDay] = this.parent.activeCellsData.isAllDay;\n        this.parent.eventWindow.setDefaultValueToObject(saveObj);\n        if (this.parent.resourceBase) {\n            this.parent.resourceBase.setResourceValues(saveObj, this.parent.activeCellsData.groupIndex);\n        }\n        return saveObj;\n    };\n    InlineEdit.prototype.documentClick = function () {\n        var target = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (target && target.value !== '') {\n            this.inlineCrudActions(target);\n        }\n        else {\n            this.removeInlineAppointmentElement();\n        }\n    };\n    InlineEdit.prototype.inlineCrudActions = function (target) {\n        if (closest(target, '.' + cls.INLINE_APPOINTMENT_CLASS)) {\n            var saveObj = this.generateEventData(target);\n            this.parent.addEvent(saveObj);\n        }\n        else {\n            var eventTarget = closest(target, '.' + cls.APPOINTMENT_CLASS);\n            var eventDetails = this.parent.getEventDetails(eventTarget);\n            eventDetails[this.parent.eventFields.subject] = target.value;\n            var currentAction = void 0;\n            if (eventDetails[this.parent.eventFields.id] === eventDetails[this.parent.eventFields.recurrenceID]) {\n                currentAction = 'EditOccurrence';\n                eventDetails[this.parent.eventFields.id] = this.parent.eventBase.getEventMaxID();\n            }\n            this.parent.saveEvent(eventDetails, currentAction);\n        }\n        this.removeInlineAppointmentElement();\n    };\n    InlineEdit.prototype.createInlineAppointmentElement = function (inlineData) {\n        var inlineAppointmentElement = createElement('div', {\n            className: cls.APPOINTMENT_CLASS + ' ' + cls.INLINE_APPOINTMENT_CLASS\n        });\n        var inlineDetails = createElement('div', { className: cls.APPOINTMENT_DETAILS });\n        inlineAppointmentElement.appendChild(inlineDetails);\n        var inline = createElement('input', { className: cls.INLINE_SUBJECT_CLASS });\n        inlineDetails.appendChild(inline);\n        if (inlineData) {\n            this.parent.eventBase.applyResourceColor(inlineAppointmentElement, inlineData, 'backgroundColor');\n        }\n        return inlineAppointmentElement;\n    };\n    InlineEdit.prototype.removeInlineAppointmentElement = function () {\n        var inlineAppointment = [].slice.call(this.parent.element.querySelectorAll('.' + cls.INLINE_APPOINTMENT_CLASS));\n        if (inlineAppointment.length > 0) {\n            inlineAppointment.forEach(function (node) { return remove(node); });\n        }\n        var inlineSubject = this.parent.element.querySelector('.' + cls.INLINE_SUBJECT_CLASS);\n        if (inlineSubject) {\n            var appointmentSubject = closest(inlineSubject, '.' + cls.APPOINTMENT_CLASS);\n            removeClass([appointmentSubject.querySelector('.' + cls.SUBJECT_CLASS)], cls.DISABLE_CLASS);\n            remove(inlineSubject);\n        }\n    };\n    InlineEdit.prototype.destroy = function () {\n        this.parent.off(events.inlineClick, this.inlineEdit);\n    };\n    return InlineEdit;\n}());\nexport { InlineEdit };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}