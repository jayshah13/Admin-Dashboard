{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\n\nvar SummaryModelGenerator =\n/** @class */\nfunction () {\n  /**\n   * Constructor for Summary row model generator\n   *\n   * @param {IGrid} parent - specifies the IGrid\n   */\n  function SummaryModelGenerator(parent) {\n    this.parent = parent;\n  }\n\n  SummaryModelGenerator.prototype.getData = function () {\n    var _this = this;\n\n    var rows = [];\n    var row = this.parent.aggregates.slice();\n\n    for (var i = 0; i < row.length; i++) {\n      var columns = row[i].columns.filter(function (column) {\n        return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate) || _this.columnSelector(column);\n      });\n\n      if (columns.length) {\n        rows.push({\n          columns: columns\n        });\n      }\n    }\n\n    return rows;\n  };\n\n  SummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.footerTemplate !== undefined;\n  };\n\n  SummaryModelGenerator.prototype.getColumns = function (start, end) {\n    var columns = [];\n\n    if (this.parent.allowGrouping) {\n      for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n        columns.push(new Column({}));\n      }\n    }\n\n    if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n      columns.push(new Column({}));\n    }\n\n    if (this.parent.isRowDragable() && !start) {\n      columns.push(new Column({}));\n    }\n\n    columns.push.apply(columns, this.parent.getColumns());\n    end = end && !start ? end + this.parent.getIndentCount() : end;\n    return isNullOrUndefined(start) ? columns : columns.slice(start, end);\n  };\n\n  SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n    if (input.length === 0) {\n      if (args === undefined || !args.count) {\n        return [];\n      }\n    }\n\n    var data = this.buildSummaryData(input, args);\n    var rows = [];\n    var row = this.getData();\n\n    for (var i = 0; i < row.length; i++) {\n      rows.push(this.getGeneratedRow(row[i], data[i], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n    }\n\n    return rows;\n  };\n\n  SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n    var tmp = [];\n    var indents = this.getIndentByLevel();\n    var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n    var indentLength = !start ? this.parent.getIndentCount() : 0;\n\n    if (this.parent.isRowDragable() && !start) {\n      indents = ['e-indentcelltop'];\n    }\n\n    var values = columns ? columns : this.getColumns(start, end);\n\n    for (var i = 0; i < values.length; i++) {\n      tmp.push(this.getGeneratedCell(values[i], summaryRow, i >= indentLength ? this.getCellType() : i < this.parent.groupSettings.columns.length ? CellType.Indent : CellType.DetailFooterIntent, indents[i], isDetailGridAlone));\n    }\n\n    var row = new Row({\n      data: data,\n      attributes: {\n        class: 'e-summaryrow'\n      }\n    });\n    row.cells = tmp;\n    row.uid = getUid('grid-row');\n    row.parentUid = parentUid;\n    row.isAggregateRow = true;\n    row.visible = tmp.some(function (cell) {\n      return cell.isDataCell && cell.visible;\n    });\n    return row;\n  };\n\n  SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n    //Get the summary column by display\n    var sColumn = summaryRow.columns.filter(function (scolumn) {\n      return scolumn.columnName === column.field;\n    })[0];\n    var attrs = {\n      'style': {\n        'textAlign': column.textAlign\n      },\n      'e-mappinguid': column.uid,\n      index: column.index\n    };\n\n    if (indent) {\n      attrs.class = indent;\n    }\n\n    if (isNullOrUndefined(indent) && isDetailGridAlone) {\n      attrs.class = 'e-detailindentcelltop';\n    }\n\n    var opt = {\n      'visible': column.visible,\n      'isDataCell': !isNullOrUndefined(sColumn),\n      'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n      'column': sColumn || {},\n      'attributes': attrs,\n      'cellType': cellType\n    };\n    opt.column.headerText = column.headerText;\n    return new Cell(opt);\n  };\n\n  SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n    var dummy = [];\n    var summaryRows = this.getData();\n    var single = {};\n\n    for (var i = 0; i < summaryRows.length; i++) {\n      single = {};\n      var column = summaryRows[i].columns;\n\n      for (var j = 0; j < column.length; j++) {\n        single = this.setTemplate(column[j], args && args.aggregates ? args : data, single);\n      }\n\n      dummy.push(single);\n    }\n\n    return dummy;\n  };\n\n  SummaryModelGenerator.prototype.getIndentByLevel = function () {\n    return this.parent.groupSettings.columns.map(function () {\n      return 'e-indentcelltop';\n    });\n  };\n\n  SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n    var types = column.type;\n    var helper = {};\n\n    var formatFn = column.getFormatter() || function () {\n      return function (a) {\n        return a;\n      };\n    }();\n\n    var group = data;\n\n    if (!(types instanceof Array)) {\n      types = [column.type];\n    }\n\n    for (var i = 0; i < types.length; i++) {\n      var key = column.field + ' - ' + types[i].toLowerCase();\n      var disp = column.columnName;\n      var val = types[i] !== 'Custom' && group.aggregates && key in group.aggregates ? group.aggregates[key] : calculateAggregate(types[i], group.aggregates ? group : data, column, this.parent);\n      single[disp] = single[disp] || {};\n      single[disp][key] = val;\n      single[disp][types[i]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n\n      if (group.field) {\n        single[disp].field = group.field;\n        single[disp].key = group.key;\n      }\n    }\n\n    helper.format = column.getFormatter();\n    column.setTemplate(helper);\n    return single;\n  };\n\n  SummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.Summary;\n  };\n\n  return SummaryModelGenerator;\n}();\n\nexport { SummaryModelGenerator };\n\nvar GroupSummaryModelGenerator =\n/** @class */\nfunction (_super) {\n  __extends(GroupSummaryModelGenerator, _super);\n\n  function GroupSummaryModelGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.groupFooterTemplate !== undefined;\n  };\n\n  GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n    if (level === void 0) {\n      level = this.parent.groupSettings.columns.length;\n    }\n\n    return this.parent.groupSettings.columns.map(function (v, indx) {\n      return indx <= level - 1 ? '' : 'e-indentcelltop';\n    });\n  };\n\n  GroupSummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.GroupSummary;\n  };\n\n  return GroupSummaryModelGenerator;\n}(SummaryModelGenerator);\n\nexport { GroupSummaryModelGenerator };\n\nvar CaptionSummaryModelGenerator =\n/** @class */\nfunction (_super) {\n  __extends(CaptionSummaryModelGenerator, _super);\n\n  function CaptionSummaryModelGenerator() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n    return column.groupCaptionTemplate !== undefined;\n  };\n\n  CaptionSummaryModelGenerator.prototype.getData = function () {\n    var initVal = {\n      columns: []\n    };\n    return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n      prev.columns = prev.columns.concat(cur.columns);\n      return prev;\n    }, initVal)];\n  };\n\n  CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n    return (this.getData()[0].columns || []).length === 0;\n  };\n\n  CaptionSummaryModelGenerator.prototype.getCellType = function () {\n    return CellType.CaptionSummary;\n  };\n\n  return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator);\n\nexport { CaptionSummaryModelGenerator };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","Row","Column","isNullOrUndefined","calculateAggregate","getUid","CellType","Cell","SummaryModelGenerator","parent","getData","_this","rows","row","aggregates","slice","i","length","columns","filter","column","footerTemplate","groupFooterTemplate","groupCaptionTemplate","columnSelector","push","undefined","getColumns","start","end","allowGrouping","groupSettings","detailTemplate","childGrid","isRowDragable","apply","getIndentCount","generateRows","input","args","count","data","buildSummaryData","getGeneratedRow","level","parentUid","summaryRow","raw","tmp","indents","getIndentByLevel","isDetailGridAlone","indentLength","values","getGeneratedCell","getCellType","Indent","DetailFooterIntent","attributes","class","cells","uid","isAggregateRow","visible","some","cell","isDataCell","cellType","indent","sColumn","scolumn","columnName","field","attrs","textAlign","index","opt","headerText","dummy","summaryRows","single","j","setTemplate","map","types","type","helper","formatFn","getFormatter","a","group","key","toLowerCase","disp","val","format","Summary","GroupSummaryModelGenerator","_super","arguments","v","indx","GroupSummary","CaptionSummaryModelGenerator","initVal","call","reduce","prev","cur","concat","isEmpty","CaptionSummary"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Admin Dashboard/Frontend/node_modules/@syncfusion/ej2-grids/src/grid/services/summary-model-generator.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Row } from '../models/row';\nimport { Column } from '../models/column';\nimport { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { calculateAggregate, getUid } from '../base/util';\nimport { CellType } from '../base/enum';\nimport { Cell } from '../models/cell';\n/**\n * Summary row model generator\n *\n * @hidden\n */\nvar SummaryModelGenerator = /** @class */ (function () {\n    /**\n     * Constructor for Summary row model generator\n     *\n     * @param {IGrid} parent - specifies the IGrid\n     */\n    function SummaryModelGenerator(parent) {\n        this.parent = parent;\n    }\n    SummaryModelGenerator.prototype.getData = function () {\n        var _this = this;\n        var rows = [];\n        var row = this.parent.aggregates.slice();\n        for (var i = 0; i < row.length; i++) {\n            var columns = row[i].columns.filter(function (column) {\n                return !(column.footerTemplate || column.groupFooterTemplate || column.groupCaptionTemplate)\n                    || _this.columnSelector(column);\n            });\n            if (columns.length) {\n                rows.push({ columns: columns });\n            }\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.footerTemplate !== undefined;\n    };\n    SummaryModelGenerator.prototype.getColumns = function (start, end) {\n        var columns = [];\n        if (this.parent.allowGrouping) {\n            for (var i = 0; i < this.parent.groupSettings.columns.length; i++) {\n                columns.push(new Column({}));\n            }\n        }\n        if (this.parent.detailTemplate || !isNullOrUndefined(this.parent.childGrid)) {\n            columns.push(new Column({}));\n        }\n        if (this.parent.isRowDragable() && !start) {\n            columns.push(new Column({}));\n        }\n        columns.push.apply(columns, this.parent.getColumns());\n        end = end && !start ? end + this.parent.getIndentCount() : end;\n        return isNullOrUndefined(start) ? columns : columns.slice(start, end);\n    };\n    SummaryModelGenerator.prototype.generateRows = function (input, args, start, end, columns) {\n        if (input.length === 0) {\n            if (args === undefined || !args.count) {\n                return [];\n            }\n        }\n        var data = this.buildSummaryData(input, args);\n        var rows = [];\n        var row = this.getData();\n        for (var i = 0; i < row.length; i++) {\n            rows.push(this.getGeneratedRow(row[i], data[i], args ? args.level : undefined, start, end, args ? args.parentUid : undefined, columns));\n        }\n        return rows;\n    };\n    SummaryModelGenerator.prototype.getGeneratedRow = function (summaryRow, data, raw, start, end, parentUid, columns) {\n        var tmp = [];\n        var indents = this.getIndentByLevel();\n        var isDetailGridAlone = !isNullOrUndefined(this.parent.childGrid);\n        var indentLength = !start ? this.parent.getIndentCount() : 0;\n        if (this.parent.isRowDragable() && !start) {\n            indents = ['e-indentcelltop'];\n        }\n        var values = columns ? columns : this.getColumns(start, end);\n        for (var i = 0; i < values.length; i++) {\n            tmp.push(this.getGeneratedCell(values[i], summaryRow, i >= indentLength ? this.getCellType() :\n                i < this.parent.groupSettings.columns.length ? CellType.Indent : CellType.DetailFooterIntent, indents[i], isDetailGridAlone));\n        }\n        var row = new Row({ data: data, attributes: { class: 'e-summaryrow' } });\n        row.cells = tmp;\n        row.uid = getUid('grid-row');\n        row.parentUid = parentUid;\n        row.isAggregateRow = true;\n        row.visible = tmp.some(function (cell) { return cell.isDataCell && cell.visible; });\n        return row;\n    };\n    SummaryModelGenerator.prototype.getGeneratedCell = function (column, summaryRow, cellType, indent, isDetailGridAlone) {\n        //Get the summary column by display\n        var sColumn = summaryRow.columns.filter(function (scolumn) { return scolumn.columnName === column.field; })[0];\n        var attrs = {\n            'style': { 'textAlign': column.textAlign },\n            'e-mappinguid': column.uid, index: column.index\n        };\n        if (indent) {\n            attrs.class = indent;\n        }\n        if (isNullOrUndefined(indent) && isDetailGridAlone) {\n            attrs.class = 'e-detailindentcelltop';\n        }\n        var opt = {\n            'visible': column.visible,\n            'isDataCell': !isNullOrUndefined(sColumn),\n            'isTemplate': sColumn && !isNullOrUndefined(sColumn.footerTemplate\n                || sColumn.groupFooterTemplate || sColumn.groupCaptionTemplate),\n            'column': sColumn || {},\n            'attributes': attrs,\n            'cellType': cellType\n        };\n        opt.column.headerText = column.headerText;\n        return new Cell(opt);\n    };\n    SummaryModelGenerator.prototype.buildSummaryData = function (data, args) {\n        var dummy = [];\n        var summaryRows = this.getData();\n        var single = {};\n        for (var i = 0; i < summaryRows.length; i++) {\n            single = {};\n            var column = summaryRows[i].columns;\n            for (var j = 0; j < column.length; j++) {\n                single = this.setTemplate(column[j], (args && args.aggregates) ? args : data, single);\n            }\n            dummy.push(single);\n        }\n        return dummy;\n    };\n    SummaryModelGenerator.prototype.getIndentByLevel = function () {\n        return this.parent.groupSettings.columns.map(function () { return 'e-indentcelltop'; });\n    };\n    SummaryModelGenerator.prototype.setTemplate = function (column, data, single) {\n        var types = column.type;\n        var helper = {};\n        var formatFn = column.getFormatter() || (function () { return function (a) { return a; }; })();\n        var group = data;\n        if (!(types instanceof Array)) {\n            types = [column.type];\n        }\n        for (var i = 0; i < types.length; i++) {\n            var key = column.field + ' - ' + types[i].toLowerCase();\n            var disp = column.columnName;\n            var val = types[i] !== 'Custom' && group.aggregates && key in group.aggregates ? group.aggregates[key] :\n                calculateAggregate(types[i], group.aggregates ? group : data, column, this.parent);\n            single[disp] = single[disp] || {};\n            single[disp][key] = val;\n            single[disp][types[i]] = !isNullOrUndefined(val) ? formatFn(val) : ' ';\n            if (group.field) {\n                single[disp].field = group.field;\n                single[disp].key = group.key;\n            }\n        }\n        helper.format = column.getFormatter();\n        column.setTemplate(helper);\n        return single;\n    };\n    SummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.Summary;\n    };\n    return SummaryModelGenerator;\n}());\nexport { SummaryModelGenerator };\nvar GroupSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(GroupSummaryModelGenerator, _super);\n    function GroupSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupFooterTemplate !== undefined;\n    };\n    GroupSummaryModelGenerator.prototype.getIndentByLevel = function (level) {\n        if (level === void 0) { level = this.parent.groupSettings.columns.length; }\n        return this.parent.groupSettings.columns.map(function (v, indx) { return indx <= level - 1 ? '' : 'e-indentcelltop'; });\n    };\n    GroupSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.GroupSummary;\n    };\n    return GroupSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { GroupSummaryModelGenerator };\nvar CaptionSummaryModelGenerator = /** @class */ (function (_super) {\n    __extends(CaptionSummaryModelGenerator, _super);\n    function CaptionSummaryModelGenerator() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CaptionSummaryModelGenerator.prototype.columnSelector = function (column) {\n        return column.groupCaptionTemplate !== undefined;\n    };\n    CaptionSummaryModelGenerator.prototype.getData = function () {\n        var initVal = { columns: [] };\n        return [_super.prototype.getData.call(this).reduce(function (prev, cur) {\n                prev.columns = prev.columns.concat(cur.columns);\n                return prev;\n            }, initVal)];\n    };\n    CaptionSummaryModelGenerator.prototype.isEmpty = function () {\n        return (this.getData()[0].columns || []).length === 0;\n    };\n    CaptionSummaryModelGenerator.prototype.getCellType = function () {\n        return CellType.CaptionSummary;\n    };\n    return CaptionSummaryModelGenerator;\n}(SummaryModelGenerator));\nexport { CaptionSummaryModelGenerator };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}