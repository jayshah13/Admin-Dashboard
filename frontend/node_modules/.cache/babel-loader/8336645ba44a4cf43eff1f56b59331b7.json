{"ast":null,"code":"import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function updatePath(node, data, instance) {\n  var text = getValue('name', data);\n  var id = node.getAttribute('data-id');\n  var newText = isNOU(id) ? text : id;\n  instance.setProperties({\n    path: getPath(node, newText, instance.hasId)\n  }, true);\n  instance.pathId = getPathId(node);\n  instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\n\nexport function getPath(element, text, hasId) {\n  var matched = getParents(element, text, false, hasId);\n  var path = hasId ? '' : '/';\n  var len = matched.length - (hasId ? 1 : 2);\n\n  for (var i = len; i >= 0; i--) {\n    path += matched[i] + '/';\n  }\n\n  return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\n\nexport function getPathId(node) {\n  var matched = getParents(node, node.getAttribute('data-uid'), true);\n  var ids = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    ids.push(matched[i]);\n  }\n\n  return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\n\nexport function getPathNames(element, text) {\n  var matched = getParents(element, text, false);\n  var names = [];\n\n  for (var i = matched.length - 1; i >= 0; i--) {\n    names.push(matched[i]);\n  }\n\n  return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\n\nexport function getParents(element, text, isId, hasId) {\n  var matched = [text];\n  var el = element.parentNode;\n\n  while (!isNOU(el)) {\n    if (matches(el, '.' + CLS.LIST_ITEM)) {\n      var parentText = isId ? el.getAttribute('data-uid') : hasId ? el.getAttribute('data-id') : select('.' + CLS.LIST_TEXT, el).textContent;\n      matched.push(parentText);\n    }\n\n    el = el.parentNode;\n\n    if (el.classList.contains(CLS.TREE_VIEW)) {\n      break;\n    }\n  }\n\n  return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function generatePath(parent) {\n  var key = parent.hasId ? 'id' : 'name';\n  var newPath = parent.hasId ? '' : '/';\n  var i = parent.hasId ? 0 : 1;\n\n  for (i; i < parent.pathId.length; i++) {\n    // eslint-disable-next-line\n    var data = getValue(parent.pathId[i], parent.feParent);\n    newPath += getValue(key, data) + '/';\n  }\n\n  parent.setProperties({\n    path: newPath\n  }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function removeActive(parent) {\n  if (parent.isCut) {\n    removeBlur(parent);\n    parent.selectedNodes = [];\n    parent.actionRecords = [];\n    parent.enablePaste = false;\n    parent.notify(events.hidePaste, {});\n  }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\n\nexport function activeElement(action, parent) {\n  parent.isSearchCut = false;\n  parent.actionRecords = [];\n  parent.activeElements = [];\n  parent.notify(events.cutCopyInit, {});\n\n  if (parent.activeElements.length === 0) {\n    return false;\n  }\n\n  removeBlur(parent);\n  var blurEle = parent.activeElements;\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.targetPath = parent.path;\n  } else {\n    parent.targetPath = getParentPath(parent.path);\n  }\n\n  var i = 0;\n\n  if (blurEle) {\n    getModule(parent, blurEle[0]);\n\n    if (action === 'cut') {\n      while (i < blurEle.length) {\n        addBlur(blurEle[i]);\n        i++;\n      }\n    }\n  }\n\n  i = 0;\n  parent.selectedNodes = [];\n  parent.enablePaste = true;\n  parent.notify(events.showPaste, {});\n\n  while (i < parent.activeRecords.length) {\n    parent.actionRecords.push(parent.activeRecords[i]);\n    parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n    i++;\n  }\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && parent.activeModule !== 'navigationpane') {\n    parent.selectedNodes = [];\n    parent.isSearchCut = true;\n    var i_1 = 0;\n\n    while (i_1 < parent.selectedItems.length) {\n      parent.selectedNodes.push(parent.selectedItems[i_1]);\n      i_1++;\n    }\n  }\n\n  return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\n\nexport function addBlur(nodes) {\n  nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\n\nexport function removeBlur(parent, hover) {\n  var blurEle = !hover ? parent.element.querySelectorAll('.' + CLS.BLUR) : parent.element.querySelectorAll('.' + CLS.HOVER);\n  var i = 0;\n\n  while (i < blurEle.length) {\n    blurEle[i].classList.remove(!hover ? CLS.BLUR : CLS.HOVER);\n    i++;\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\nexport function getModule(parent, element) {\n  if (element) {\n    if (element.classList.contains(CLS.ROW)) {\n      parent.activeModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICON)) {\n      parent.activeModule = 'largeiconsview';\n    } else {\n      parent.activeModule = 'navigationpane';\n    }\n  }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\n\nexport function searchWordHandler(parent, value, isLayoutChange) {\n  var searchWord;\n\n  if (value.length === 0 && !parent.isFiltered) {\n    parent.notify(events.pathColumn, {\n      args: parent\n    });\n  }\n\n  if (parent.searchSettings.filterType === 'startsWith') {\n    searchWord = value + '*';\n  } else if (parent.searchSettings.filterType === 'endsWith') {\n    searchWord = '*' + value;\n  } else {\n    searchWord = '*' + value + '*';\n  }\n\n  parent.searchWord = searchWord;\n  parent.itemData = [getPathObject(parent)];\n\n  if (value.length > 0) {\n    var caseSensitive = parent.searchSettings.ignoreCase;\n    var hiddenItems = parent.showHiddenItems;\n    Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n  } else {\n    if (!parent.isFiltered) {\n      if (parent.isSortByClicked) {\n        parent.notify(events.layoutChange, {\n          files: parent.largeiconsviewModule.items\n        });\n        parent.isSortByClicked = false;\n      } else {\n        read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n      }\n    } else {\n      filter(parent, events.layoutChange);\n    }\n  }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\n\nexport function updateLayout(parent, view) {\n  parent.setProperties({\n    view: view\n  }, true);\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n    parent.layoutSelectedItems = parent.selectedItems;\n  }\n\n  var searchWord = '';\n\n  if (parent.breadcrumbbarModule.searchObj.element.value) {\n    searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n  }\n\n  parent.isLayoutChange = true;\n  searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\n\nexport function getTargetModule(parent, element) {\n  var tartgetModule = '';\n\n  if (element) {\n    if (closest(element, '.' + CLS.ROOT + '.' + CLS.CONTROL + ' .' + CLS.GRID_CONTENT)) {\n      tartgetModule = 'detailsview';\n    } else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n      tartgetModule = 'largeiconsview';\n    } else if (element.classList.contains('e-fullrow') || element.classList.contains('e-icon-expandable')) {\n      tartgetModule = 'navigationpane';\n    } else if (closest(element, '.e-address-list-item')) {\n      tartgetModule = 'breadcrumbbar';\n    } else {\n      tartgetModule = '';\n    }\n  }\n\n  parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function refresh(parent) {\n  parent.itemData = [getPathObject(parent)];\n\n  if (!hasReadAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n  } else {\n    read(parent, events.refreshEnd, parent.path);\n  }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function openAction(parent) {\n  read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getPathObject(parent) {\n  return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function copyFiles(parent) {\n  if (!activeElement('copy', parent)) {\n    return;\n  } else {\n    parent.fileAction = 'copy';\n  }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function cutFiles(parent) {\n  if (!activeElement('cut', parent)) {\n    return;\n  } else {\n    parent.isCut = true;\n    parent.fileAction = 'move';\n  }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\n\nexport function fileType(file) {\n  var isFile = getValue('isFile', file);\n\n  if (!isFile) {\n    return CLS.FOLDER;\n  }\n\n  var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n  var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n  var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n  var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc', 'xlsx', 'xls', 'xml', 'rtf', 'php'];\n  var filetype = getValue('type', file);\n  filetype = filetype.toLowerCase();\n\n  if (filetype.indexOf('.') !== -1) {\n    filetype = filetype.split('.').join('');\n  }\n\n  var iconType;\n\n  if (imageFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_IMAGE;\n  } else if (audioFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_MUSIC;\n  } else if (videoFormat.indexOf(filetype) !== -1) {\n    iconType = CLS.ICON_VIDEO;\n  } else if (knownFormat.indexOf(filetype) !== -1) {\n    iconType = 'e-fe-' + filetype;\n  } else {\n    iconType = 'e-fe-unknown e-fe-' + filetype;\n  }\n\n  return iconType;\n}\n/* istanbul ignore next */\n\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getImageUrl(parent, item) {\n  var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n  var imgUrl;\n  var fileName = encodeURIComponent(getValue('name', item));\n  var fPath = getValue('filterPath', item);\n\n  if (parent.hasId) {\n    var imgId = getValue('id', item);\n    imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n  } else if (!isNOU(fPath)) {\n    imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n  } else {\n    imgUrl = baseUrl + '?path=' + parent.path + fileName;\n  }\n\n  imgUrl = imgUrl + '&time=' + new Date().getTime().toString();\n  var eventArgs = {\n    fileDetails: [item],\n    imageUrl: imgUrl\n  };\n  parent.trigger('beforeImageLoad', eventArgs);\n  return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getFullPath(parent, data, path) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n\n  if (!isNOU(fPath)) {\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return path + filePath;\n  }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getName(parent, data) {\n  var name = getValue('name', data);\n  var fPath = getValue('filterPath', data);\n\n  if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n    fPath = fPath.replace(/\\\\/g, '/');\n    name = fPath.replace(parent.path, '') + name;\n  }\n\n  return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getSortedData(parent, items) {\n  if (items.length === 0) {\n    return items;\n  }\n\n  var query;\n\n  if (parent.sortOrder !== 'None') {\n    query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n  } else {\n    query = new Query().group('isFile');\n  } // eslint-disable-next-line\n\n\n  var lists = new DataManager(items).executeLocal(query);\n  return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getObject(parent, key, value) {\n  // eslint-disable-next-line\n  var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n  var query = new Query().where(key, 'equal', value); // eslint-disable-next-line\n\n  var lists = new DataManager(currFiles).executeLocal(query);\n  return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\n\nexport function createEmptyElement(parent, element, args) {\n  var top;\n  var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n  var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n  top = layoutElement.offsetHeight - addressBarHeight;\n\n  if (parent.view === 'Details') {\n    top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n  }\n\n  if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n    var emptyDiv = createElement('div', {\n      className: CLS.EMPTY\n    });\n    var emptyFolder = createElement('div', {\n      className: CLS.LARGE_EMPTY_FOLDER\n    });\n    var emptyEle = createElement('div', {\n      className: CLS.EMPTY_CONTENT\n    });\n    var dragFile = createElement('div', {\n      className: CLS.EMPTY_INNER_CONTENT\n    });\n\n    if (parent.view === 'Details') {\n      element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n    } else {\n      element.appendChild(emptyDiv);\n    }\n\n    emptyDiv.appendChild(emptyFolder);\n    emptyDiv.appendChild(emptyEle);\n    emptyDiv.appendChild(dragFile);\n  }\n\n  if (element.querySelector('.' + CLS.EMPTY)) {\n    if (!isNOU(args.error)) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n    } else if (parent.isFiltered) {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n    } else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n    } else {\n      element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n      element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n    }\n  }\n\n  var eDiv = select('.' + CLS.EMPTY, element);\n  top = (top - eDiv.offsetHeight) / 2;\n  eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getDirectories(files) {\n  return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\n\nexport function setNodeId(result, rootId) {\n  // eslint-disable-next-line\n  var dirs = getDirectories(result.files);\n\n  for (var i = 0, len = dirs.length; i < len; i++) {\n    setValue('_fm_id', rootId + '_' + i, dirs[i]);\n  }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function setDateObject(args) {\n  for (var i = 0; i < args.length; i++) {\n    setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n    setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n  }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\n\nexport function getLocaleText(parent, text) {\n  var locale = parent.localeObj.getConstant(text);\n  return locale === '' ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\n\nexport function getCssClass(parent, css) {\n  var cssClass = parent.cssClass;\n  cssClass = isNOU(cssClass) || cssClass === '' ? css : cssClass + ' ' + css;\n  return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\n\nexport function sortbyClickHandler(parent, args) {\n  var tick;\n  parent.isSortByClicked = true;\n\n  if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n    tick = true;\n  } else {\n    tick = false;\n  }\n\n  if (!tick) {\n    parent.sortBy = getSortField(args.item.id);\n  } else {\n    parent.sortOrder = getSortField(args.item.id);\n  }\n\n  parent.itemData = [getPathObject(parent)];\n\n  if (parent.view === 'Details') {\n    if (parent.isMobile) {\n      updateLayout(parent, 'Details');\n    } else {\n      parent.notify(events.sortColumn, {\n        module: 'detailsview'\n      });\n    }\n  }\n\n  if (parent.view === 'LargeIcons') {\n    updateLayout(parent, 'LargeIcons');\n  }\n\n  parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\n\nexport function getSortField(id) {\n  var text = id.substring(id.lastIndexOf('_') + 1);\n  var field = text;\n\n  switch (text) {\n    case 'date':\n      field = '_fm_modified';\n      break;\n\n    case 'ascending':\n      field = 'Ascending';\n      break;\n\n    case 'descending':\n      field = 'Descending';\n      break;\n\n    case 'none':\n      field = 'None';\n      break;\n  }\n\n  return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\n\nexport function setNextPath(parent, path) {\n  var currfolders = path.split('/');\n  var folders = parent.originalPath.split('/'); // eslint-disable-next-line\n\n  var root = getValue(parent.pathId[0], parent.feParent);\n  var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n\n  for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n    var eventName = folders[i + 1] === '' ? events.finalizeEnd : events.initialEnd;\n    var newPath = folders[i] === '' ? '/' : parent.path + folders[i] + '/'; // eslint-disable-next-line\n\n    var data = getObject(parent, key, folders[i]);\n    var id = getValue('_fm_id', data);\n    parent.setProperties({\n      path: newPath\n    }, true);\n    parent.pathId.push(id);\n    parent.itemData = [data];\n    parent.pathNames.push(getValue('name', data));\n    read(parent, eventName, parent.path);\n    break;\n  }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function openSearchFolder(parent, data) {\n  parent.notify(events.clearPathInit, {\n    selectedNode: parent.pathId[parent.pathId.length - 1]\n  });\n  parent.originalPath = getFullPath(parent, data, parent.path);\n  read(parent, parent.path !== parent.originalPath ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function pasteHandler(parent) {\n  parent.isDragDrop = false;\n\n  if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n    var path = parent.folderPath === '' ? parent.path : parent.folderPath; // eslint-disable-next-line\n\n    var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n\n    if (!subFolder) {\n      if (parent.fileAction === 'move' && parent.targetPath !== path || parent.fileAction === 'copy') {\n        parent.notify(events.pasteInit, {});\n        paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n      } else {\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n        removeBlur(parent);\n      }\n    }\n  }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\n\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n  var subFolder = false;\n\n  for (var i = 0; i < data.length; i++) {\n    if (!getValue('isFile', data[i])) {\n      var tempTarget = getFullPath(parent, data[i], dragPath);\n\n      if (dropPath.indexOf(tempTarget) === 0) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Sub-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    } else {\n      var srcData = parent.dragNodes[i];\n      var len = 0;\n\n      if (srcData) {\n        len = srcData.lastIndexOf('/');\n      }\n\n      var path = '';\n\n      if (len > 0) {\n        path = dragPath + srcData.substring(0, len + 1);\n      }\n\n      if (path === dropPath) {\n        var result = {\n          files: null,\n          error: {\n            code: '402',\n            message: getLocaleText(parent, 'Same-Folder-Error'),\n            fileExists: null\n          }\n        };\n        createDialog(parent, 'Error', result);\n        subFolder = true;\n        break;\n      }\n    }\n  }\n\n  return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\n\nexport function dropHandler(parent) {\n  parent.isDragDrop = true;\n\n  if (parent.dragData.length !== 0) {\n    parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n    parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n    var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n\n    if (!subFolder && parent.dragPath !== parent.dropPath) {\n      parent.itemData = [parent.dropData];\n      paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n      parent.notify(events.pasteInit, {});\n    }\n  }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\n\nexport function getParentPath(oldPath) {\n  var path = oldPath.split('/');\n  var newPath = path[0] + '/';\n\n  for (var i = 1; i < path.length - 2; i++) {\n    newPath += path[i] + '/';\n  }\n\n  return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\n\nexport function getDirectoryPath(parent, args) {\n  var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n  var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n\n  if (!isNOU(fPath)) {\n    if (fPath === '') {\n      return parent.hasId ? filePath : '/';\n    }\n\n    return fPath.replace(/\\\\/g, '/') + filePath;\n  } else {\n    return parent.path + filePath;\n  }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\n\nexport function doPasteUpdate(parent, operation, result) {\n  if (operation === 'move') {\n    if (!parent.isDragDrop) {\n      parent.enablePaste = false;\n      parent.notify(events.hidePaste, {});\n      parent.notify(events.cutEnd, result);\n    } else {\n      parent.notify(events.dragEnd, result);\n    }\n  }\n\n  if (parent.duplicateItems.length === 0) {\n    parent.pasteNodes = [];\n  }\n\n  var flag = false;\n\n  for (var count = 0; count < result.files.length && !flag; count++) {\n    parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n\n    if (parent.isDragDrop) {\n      parent.droppedObjects.push(result.files[count]);\n    }\n  }\n\n  parent.duplicateItems = [];\n  parent.duplicateRecords = [];\n\n  if (parent.isDragDrop && !parent.isPasteError) {\n    parent.isDropEnd = true;\n  } else {\n    parent.isDropEnd = false;\n  }\n\n  if (!parent.isDragDrop || parent.path === parent.dragPath || parent.path === parent.dropPath || parent.isSearchDrag) {\n    parent.isPathDrag = false;\n    read(parent, events.pasteEnd, parent.path);\n  } else {\n    readDropPath(parent);\n  }\n\n  parent.trigger('success', {\n    action: operation,\n    result: result\n  });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function readDropPath(parent) {\n  var pathId = getValue('_fm_id', parent.dropData);\n  parent.expandedId = pathId;\n  parent.itemData = [parent.dropData];\n\n  if (parent.isPathDrag) {\n    parent.notify(events.pathDrag, parent.itemData);\n  } else {\n    if (parent.navigationpaneModule) {\n      var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n      updatePath(node, parent.dropData, parent);\n    }\n\n    read(parent, events.dropPath, parent.dropPath);\n  }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getDuplicateData(parent, name) {\n  // eslint-disable-next-line\n  var data = null; // eslint-disable-next-line\n\n  var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n\n  for (var i = 0; i < records.length; i++) {\n    if (getValue('name', records[i]) === name) {\n      data = records[i];\n      break;\n    }\n  }\n\n  return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function createVirtualDragElement(parent) {\n  parent.isSearchDrag = false;\n\n  if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n    parent.isSearchDrag = true;\n  }\n\n  if (parent.activeModule !== 'navigationpane') {\n    parent.dragNodes = [];\n    var i = 0;\n\n    while (i < parent.selectedItems.length) {\n      parent.dragNodes.push(parent.selectedItems[i]);\n      i++;\n    }\n\n    if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n      parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n    }\n  }\n\n  var cloneIcon = parent.createElement('div', {\n    className: 'e-fe-icon ' + fileType(parent.dragData[0])\n  });\n  var cloneName = parent.createElement('div', {\n    className: 'e-fe-name',\n    innerHTML: parent.dragData[0].name\n  });\n  var virtualEle = parent.createElement('div', {\n    className: 'e-fe-content'\n  });\n  virtualEle.appendChild(cloneIcon);\n  virtualEle.appendChild(cloneName);\n  var ele = parent.createElement('div', {\n    className: CLS.CLONE\n  });\n  ele.appendChild(virtualEle);\n\n  if (parent.dragNodes.length > 1) {\n    var badge = parent.createElement('span', {\n      className: 'e-fe-count',\n      innerHTML: parent.dragNodes.length.toString(10)\n    });\n    ele.appendChild(badge);\n  }\n\n  parent.virtualDragElement = ele;\n  parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\nexport function dragStopHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeDropTarget(parent);\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  removeBlur(parent);\n  parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n\n  getTargetModule(parent, args.target);\n  parent.notify(events.dropInit, args);\n  removeBlur(parent, 'hover');\n  dragArgs.fileDetails = parent.dragData;\n  parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n    if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n      dropHandler(parent);\n    }\n\n    parent.dragCount = 0;\n  });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\n\nexport function dragStartHandler(parent, args, dragObj) {\n  var dragArgs = args;\n  dragArgs.cancel = false;\n  dragArgs.fileDetails = parent.dragData;\n  parent.dragCount = 0;\n  parent.droppedObjects = [];\n\n  if (!parent.allowDragAndDrop || parent.activeModule === 'navigationpane' && closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]) {\n    dragArgs.cancel = true;\n  }\n\n  if (parent.activeModule === 'navigationpane' && parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1) {\n    parent.isPathDrag = true;\n  } else {\n    parent.isPathDrag = false;\n  }\n\n  removeBlur(parent);\n\n  if (dragArgs.cancel) {\n    dragObj.intDestroy(args.event);\n    dragCancel(parent);\n  } else if (!dragArgs.cancel) {\n    var i = 0;\n\n    while (i < parent.activeElements.length) {\n      addBlur(parent.activeElements[i]);\n      i++;\n    }\n\n    parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n      if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n      } else {\n        parent.uploadObj.dropArea = null;\n      }\n    });\n  }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function dragCancel(parent) {\n  removeBlur(parent);\n  var virtualEle = select('.' + CLS.CLONE, parent.element);\n\n  if (virtualEle) {\n    detach(virtualEle);\n  }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function removeDropTarget(parent) {\n  removeItemClass(parent, CLS.DROP_FOLDER);\n  removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\n\nexport function removeItemClass(parent, value) {\n  var ele = parent.element.querySelectorAll('.' + value);\n\n  for (var i = 0; i < ele.length; i++) {\n    ele[i].classList.remove(value);\n  }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\n\nexport function draggingHandler(parent, args) {\n  var dragArgs = args;\n  dragArgs.fileDetails = parent.dragData;\n  var canDrop = false;\n  getTargetModule(parent, args.target);\n  removeDropTarget(parent);\n\n  if (parent.treeExpandTimer != null) {\n    window.clearTimeout(parent.treeExpandTimer);\n    parent.treeExpandTimer = null;\n  }\n\n  removeBlur(parent, 'hover');\n  var node = null;\n\n  if (parent.targetModule === 'navigationpane') {\n    node = closest(args.target, 'li');\n    node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    canDrop = true;\n    /* istanbul ignore next */\n\n    parent.treeExpandTimer = window.setTimeout(function () {\n      parent.notify(events.dragging, args);\n    }, 800);\n  } else if (parent.targetModule === 'detailsview') {\n    node = closest(args.target, 'tr');\n\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FOLDER);\n    } else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.DROP_FILE);\n    }\n\n    canDrop = true;\n  } else if (parent.targetModule === 'largeiconsview') {\n    node = closest(args.target, 'li');\n\n    if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n      node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n    }\n\n    canDrop = true;\n    /* istanbul ignore next */\n  } else if (parent.targetModule === 'breadcrumbbar') {\n    canDrop = true;\n  }\n\n  parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n  parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n  parent.dragCount = parent.dragCount + 1;\n  parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\n\nexport function objectToString(data) {\n  var str = '';\n  var keys = Object.keys(data);\n\n  for (var i = 0; i < keys.length; i++) {\n    if (keys[i] !== 'message') {\n      str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n    }\n  }\n\n  return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getItemName(parent, data) {\n  if (parent.hasId) {\n    return getValue('id', data);\n  }\n\n  return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function updateRenamingData(parent, data) {\n  parent.itemData = [data];\n  parent.currentItemText = getValue('name', data);\n  parent.isFile = getValue('isFile', data);\n  parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function doRename(parent) {\n  if (!hasEditAccess(parent.itemData[0])) {\n    createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n  } else {\n    createDialog(parent, 'Rename');\n  }\n}\n/* istanbul ignore next */\n\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function doDownload(parent) {\n  // eslint-disable-next-line\n  var items = parent.itemData;\n\n  for (var i = 0; i < items.length; i++) {\n    if (!hasDownloadAccess(items[i])) {\n      createDeniedDialog(parent, items[i], events.permissionDownload);\n      return;\n    }\n  }\n\n  if (parent.selectedItems.length > 0) {\n    Download(parent, parent.path, parent.selectedItems);\n  }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function doDeleteFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasEditAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionEdit);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n  Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function doDownloadFiles(parent, data, newIds) {\n  for (var i = 0; i < data.length; i++) {\n    if (!hasDownloadAccess(data[i])) {\n      createDeniedDialog(parent, data[i], events.permissionDownload);\n      return;\n    }\n  }\n\n  parent.itemData = data;\n\n  if (newIds.length > 0) {\n    Download(parent, parent.path, newIds);\n  }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\n\nexport function createDeniedDialog(parent, data, action) {\n  var message = getValue('message', getValue('permission', data));\n\n  if (message === '') {\n    message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n  }\n\n  var response = {\n    error: {\n      code: '401',\n      fileExists: null,\n      message: message\n    }\n  };\n  createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\n\nexport function getAccessClass(data) {\n  return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasReadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission && !getValue('read', permission) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasEditAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('write', permission) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasContentAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('writeContents', permission) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasUploadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('upload', permission) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\n\nexport function hasDownloadAccess(data) {\n  // eslint-disable-next-line\n  var permission = getValue('permission', data);\n  return permission ? getValue('read', permission) && getValue('download', permission) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function createNewFolder(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasContentAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionEditContents);\n  } else {\n    createDialog(parent, 'NewFolder');\n  }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\n\nexport function uploadItem(parent) {\n  // eslint-disable-next-line\n  var details = parent.itemData[0];\n\n  if (!hasUploadAccess(details)) {\n    createDeniedDialog(parent, details, events.permissionUpload);\n  } else {\n    var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n    var uploadEle = document.querySelector(eleId);\n    uploadEle.click();\n  }\n}","map":{"version":3,"names":["CLS","events","read","paste","Search","filter","Download","Delete","getValue","setValue","isNullOrUndefined","isNOU","matches","select","createElement","closest","detach","DataManager","Query","createDialog","updatePath","node","data","instance","text","id","getAttribute","newText","setProperties","path","getPath","hasId","pathId","getPathId","pathNames","getPathNames","element","matched","getParents","len","length","i","ids","push","names","isId","el","parentNode","LIST_ITEM","parentText","LIST_TEXT","textContent","classList","contains","TREE_VIEW","generatePath","parent","key","newPath","feParent","removeActive","isCut","removeBlur","selectedNodes","actionRecords","enablePaste","notify","hidePaste","activeElement","action","isSearchCut","activeElements","cutCopyInit","blurEle","activeModule","targetPath","getParentPath","getModule","addBlur","showPaste","activeRecords","breadcrumbbarModule","searchObj","value","isFiltered","i_1","selectedItems","nodes","add","BLUR","hover","querySelectorAll","HOVER","remove","ROW","LARGE_ICON","searchWordHandler","isLayoutChange","searchWord","pathColumn","args","searchSettings","filterType","itemData","getPathObject","caseSensitive","ignoreCase","hiddenItems","showHiddenItems","layoutChange","search","isSortByClicked","files","largeiconsviewModule","items","updateLayout","view","layoutSelectedItems","getTargetModule","tartgetModule","ROOT","CONTROL","GRID_CONTENT","LARGE_ICONS","targetModule","refresh","hasReadAccess","createDeniedDialog","permissionRead","refreshEnd","openAction","openEnd","copyFiles","fileAction","cutFiles","fileType","file","isFile","FOLDER","imageFormat","audioFormat","videoFormat","knownFormat","filetype","toLowerCase","indexOf","split","join","iconType","ICON_IMAGE","ICON_MUSIC","ICON_VIDEO","getImageUrl","item","baseUrl","ajaxSettings","url","imgUrl","fileName","encodeURIComponent","fPath","imgId","replace","Date","getTime","toString","eventArgs","fileDetails","imageUrl","trigger","getFullPath","filePath","getName","name","getSortedData","query","sortOrder","sortBy","group","lists","executeLocal","getObject","currFiles","feFiles","where","createEmptyElement","top","layoutElement","LAYOUT_ID","addressBarHeight","BREADCRUMBBAR_ID","offsetHeight","GRID_HEADER","querySelector","EMPTY","emptyDiv","className","emptyFolder","LARGE_EMPTY_FOLDER","emptyEle","EMPTY_CONTENT","dragFile","EMPTY_INNER_CONTENT","GRID_VIEW","appendChild","error","innerHTML","getLocaleText","eDiv","style","marginTop","getDirectories","setNodeId","result","rootId","dirs","setDateObject","locale","localeObj","getConstant","getCssClass","css","cssClass","sortbyClickHandler","tick","getSortField","isMobile","sortColumn","module","sortByChange","substring","lastIndexOf","field","setNextPath","currfolders","folders","originalPath","root","eventName","finalizeEnd","initialEnd","openSearchFolder","clearPathInit","selectedNode","pasteHandler","isDragDrop","folderPath","subFolder","validateSubFolder","pasteInit","dropPath","dragPath","tempTarget","code","message","fileExists","srcData","dragNodes","dropHandler","dragData","dropData","oldPath","getDirectoryPath","cwd","doPasteUpdate","operation","cutEnd","dragEnd","duplicateItems","pasteNodes","flag","count","droppedObjects","duplicateRecords","isPasteError","isDropEnd","isSearchDrag","isPathDrag","pasteEnd","readDropPath","expandedId","pathDrag","navigationpaneModule","treeObj","getDuplicateData","records","createVirtualDragElement","getItemName","cloneIcon","cloneName","virtualEle","ele","CLONE","badge","virtualDragElement","dragStopHandler","dragArgs","cancel","treeExpandTimer","window","clearTimeout","removeDropTarget","uploadObj","dropArea","CONTENT_ID","target","dropInit","dragCount","dragStartHandler","dragObj","allowDragAndDrop","intDestroy","event","dragCancel","removeItemClass","DROP_FOLDER","DROP_FILE","draggingHandler","canDrop","setTimeout","dragging","objectToString","str","keys","Object","updateRenamingData","currentItemText","filterPath","doRename","hasEditAccess","permissionEdit","doDownload","hasDownloadAccess","permissionDownload","doDeleteFiles","newIds","doDownloadFiles","response","getAccessClass","permission","hasContentAccess","hasUploadAccess","createNewFolder","details","permissionEditContents","uploadItem","permissionUpload","eleId","UPLOAD_ID","uploadEle","document","click"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-filemanager/src/file-manager/common/utility.js"],"sourcesContent":["import * as CLS from '../base/classes';\nimport * as events from '../base/constant';\nimport { read, paste, Search, filter, Download, Delete } from '../common/operations';\nimport { getValue, setValue, isNullOrUndefined as isNOU, matches, select, createElement } from '@syncfusion/ej2-base';\nimport { closest, detach } from '@syncfusion/ej2-base';\nimport { DataManager, Query } from '@syncfusion/ej2-data';\nimport { createDialog } from '../pop-up/dialog';\n/**\n * Utility file for common actions\n *\n * @param {HTMLLIElement} node - specifies the node.\n * @param {Object} data - specifies the data.\n * @param {IFileManager} instance - specifies the control instance.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updatePath(node, data, instance) {\n    var text = getValue('name', data);\n    var id = node.getAttribute('data-id');\n    var newText = isNOU(id) ? text : id;\n    instance.setProperties({ path: getPath(node, newText, instance.hasId) }, true);\n    instance.pathId = getPathId(node);\n    instance.pathNames = getPathNames(node, text);\n}\n/**\n * Functions for get path in FileManager\n *\n * @param {Element | Node} element - specifies the element.\n * @param {string} text - specifies the text.\n * @param {boolean} hasId - specifies the id.\n * @returns {string} returns the path.\n * @private\n */\nexport function getPath(element, text, hasId) {\n    var matched = getParents(element, text, false, hasId);\n    var path = hasId ? '' : '/';\n    var len = matched.length - (hasId ? 1 : 2);\n    for (var i = len; i >= 0; i--) {\n        path += matched[i] + '/';\n    }\n    return path;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} node - specifies the node element.\n * @returns {string[]} returns the path ids.\n * @private\n */\nexport function getPathId(node) {\n    var matched = getParents(node, node.getAttribute('data-uid'), true);\n    var ids = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        ids.push(matched[i]);\n    }\n    return ids;\n}\n/**\n * Functions for get path names in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @returns {string[]} returns the path names.\n * @private\n */\nexport function getPathNames(element, text) {\n    var matched = getParents(element, text, false);\n    var names = [];\n    for (var i = matched.length - 1; i >= 0; i--) {\n        names.push(matched[i]);\n    }\n    return names;\n}\n/**\n * Functions for get path id in FileManager\n *\n * @param {Element} element - specifies the node element.\n * @param {string} text - specifies the text.\n * @param {boolean} isId - specifies the id.\n * @param {boolean} hasId - checks the id exists.\n * @returns {string[]} returns parent element.\n * @private\n */\nexport function getParents(element, text, isId, hasId) {\n    var matched = [text];\n    var el = element.parentNode;\n    while (!isNOU(el)) {\n        if (matches(el, '.' + CLS.LIST_ITEM)) {\n            var parentText = isId ? el.getAttribute('data-uid') : (hasId ? el.getAttribute('data-id') :\n                select('.' + CLS.LIST_TEXT, el).textContent);\n            matched.push(parentText);\n        }\n        el = el.parentNode;\n        if (el.classList.contains(CLS.TREE_VIEW)) {\n            break;\n        }\n    }\n    return matched;\n}\n/**\n * Functions for generate path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function generatePath(parent) {\n    var key = parent.hasId ? 'id' : 'name';\n    var newPath = parent.hasId ? '' : '/';\n    var i = parent.hasId ? 0 : 1;\n    for (i; i < parent.pathId.length; i++) {\n        // eslint-disable-next-line\n        var data = getValue(parent.pathId[i], parent.feParent);\n        newPath += getValue(key, data) + '/';\n    }\n    parent.setProperties({ path: newPath }, true);\n}\n/**\n * Functions for remove active element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function removeActive(parent) {\n    if (parent.isCut) {\n        removeBlur(parent);\n        parent.selectedNodes = [];\n        parent.actionRecords = [];\n        parent.enablePaste = false;\n        parent.notify(events.hidePaste, {});\n    }\n}\n/**\n * Selects active element in File Manager\n *\n * @param {string} action - specifies the action.\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {boolean} - returns active element.\n * @private\n */\nexport function activeElement(action, parent) {\n    parent.isSearchCut = false;\n    parent.actionRecords = [];\n    parent.activeElements = [];\n    parent.notify(events.cutCopyInit, {});\n    if (parent.activeElements.length === 0) {\n        return false;\n    }\n    removeBlur(parent);\n    var blurEle = parent.activeElements;\n    if (parent.activeModule !== 'navigationpane') {\n        parent.targetPath = parent.path;\n    }\n    else {\n        parent.targetPath = getParentPath(parent.path);\n    }\n    var i = 0;\n    if (blurEle) {\n        getModule(parent, blurEle[0]);\n        if (action === 'cut') {\n            while (i < blurEle.length) {\n                addBlur(blurEle[i]);\n                i++;\n            }\n        }\n    }\n    i = 0;\n    parent.selectedNodes = [];\n    parent.enablePaste = true;\n    parent.notify(events.showPaste, {});\n    while (i < parent.activeRecords.length) {\n        parent.actionRecords.push(parent.activeRecords[i]);\n        parent.selectedNodes.push(getValue('name', parent.activeRecords[i]));\n        i++;\n    }\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) &&\n        parent.activeModule !== 'navigationpane') {\n        parent.selectedNodes = [];\n        parent.isSearchCut = true;\n        var i_1 = 0;\n        while (i_1 < parent.selectedItems.length) {\n            parent.selectedNodes.push(parent.selectedItems[i_1]);\n            i_1++;\n        }\n    }\n    return true;\n}\n/**\n * Adds blur to the elements\n *\n * @param {Element} nodes - specifies the nodes.\n * @returns {void}\n * @private\n */\nexport function addBlur(nodes) {\n    nodes.classList.add(CLS.BLUR);\n}\n/**\n * Removes blur from elements\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} hover - specifies the hover string.\n * @returns {void}\n * @private\n */\nexport function removeBlur(parent, hover) {\n    var blurEle = (!hover) ? parent.element.querySelectorAll('.' + CLS.BLUR) :\n        parent.element.querySelectorAll('.' + CLS.HOVER);\n    var i = 0;\n    while (i < blurEle.length) {\n        blurEle[i].classList.remove((!hover) ? CLS.BLUR : CLS.HOVER);\n        i++;\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getModule(parent, element) {\n    if (element) {\n        if (element.classList.contains(CLS.ROW)) {\n            parent.activeModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICON)) {\n            parent.activeModule = 'largeiconsview';\n        }\n        else {\n            parent.activeModule = 'navigationpane';\n        }\n    }\n}\n/**\n * Gets module name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} value - specifies the value.\n * @param {boolean} isLayoutChange - specifies the layout change.\n * @returns {void}\n * @private\n */\nexport function searchWordHandler(parent, value, isLayoutChange) {\n    var searchWord;\n    if (value.length === 0 && !parent.isFiltered) {\n        parent.notify(events.pathColumn, { args: parent });\n    }\n    if (parent.searchSettings.filterType === 'startsWith') {\n        searchWord = value + '*';\n    }\n    else if (parent.searchSettings.filterType === 'endsWith') {\n        searchWord = '*' + value;\n    }\n    else {\n        searchWord = '*' + value + '*';\n    }\n    parent.searchWord = searchWord;\n    parent.itemData = [getPathObject(parent)];\n    if (value.length > 0) {\n        var caseSensitive = parent.searchSettings.ignoreCase;\n        var hiddenItems = parent.showHiddenItems;\n        Search(parent, isLayoutChange ? events.layoutChange : events.search, parent.path, searchWord, hiddenItems, !caseSensitive);\n    }\n    else {\n        if (!parent.isFiltered) {\n            if (parent.isSortByClicked) {\n                parent.notify(events.layoutChange, { files: parent.largeiconsviewModule.items });\n                parent.isSortByClicked = false;\n            }\n            else {\n                read(parent, isLayoutChange ? events.layoutChange : events.search, parent.path);\n            }\n        }\n        else {\n            filter(parent, events.layoutChange);\n        }\n    }\n}\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} view - specifies the view.\n * @returns {void}\n * @private\n */\nexport function updateLayout(parent, view) {\n    parent.setProperties({ view: view }, true);\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) {\n        parent.layoutSelectedItems = parent.selectedItems;\n    }\n    var searchWord = '';\n    if (parent.breadcrumbbarModule.searchObj.element.value) {\n        searchWord = parent.breadcrumbbarModule.searchObj.element.value;\n    }\n    parent.isLayoutChange = true;\n    searchWordHandler(parent, searchWord, true);\n}\n/* istanbul ignore next */\n/**\n * Gets updated layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Element} element - specifies the element.\n * @returns {void}\n * @private\n */\nexport function getTargetModule(parent, element) {\n    var tartgetModule = '';\n    if (element) {\n        if (closest(element, '.' + CLS.ROOT + '.' + CLS.CONTROL + ' .' + CLS.GRID_CONTENT)) {\n            tartgetModule = 'detailsview';\n        }\n        else if (closest(element, '.' + CLS.LARGE_ICONS)) {\n            tartgetModule = 'largeiconsview';\n        }\n        else if (element.classList.contains('e-fullrow') ||\n            element.classList.contains('e-icon-expandable')) {\n            tartgetModule = 'navigationpane';\n        }\n        else if (closest(element, '.e-address-list-item')) {\n            tartgetModule = 'breadcrumbbar';\n        }\n        else {\n            tartgetModule = '';\n        }\n    }\n    parent.targetModule = tartgetModule;\n}\n/* istanbul ignore next */\n/**\n * refresh the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function refresh(parent) {\n    parent.itemData = [getPathObject(parent)];\n    if (!hasReadAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionRead);\n    }\n    else {\n        read(parent, events.refreshEnd, parent.path);\n    }\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function openAction(parent) {\n    read(parent, events.openEnd, parent.path);\n}\n/**\n * open action in the layout\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {Object} - returns the path data.\n * @private\n */\n// eslint-disable-next-line\nexport function getPathObject(parent) {\n    return getValue(parent.pathId[parent.pathId.length - 1], parent.feParent);\n}\n/**\n * Copy files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function copyFiles(parent) {\n    if (!activeElement('copy', parent)) {\n        return;\n    }\n    else {\n        parent.fileAction = 'copy';\n    }\n}\n/**\n * Cut files\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function cutFiles(parent) {\n    if (!activeElement('cut', parent)) {\n        return;\n    }\n    else {\n        parent.isCut = true;\n        parent.fileAction = 'move';\n    }\n}\n/**\n * To add class for fileType\n *\n * @param {Object} file - specifies the file.\n * @returns {string} - returns the file type.\n * @private\n */\n// eslint-disable-next-line\nexport function fileType(file) {\n    var isFile = getValue('isFile', file);\n    if (!isFile) {\n        return CLS.FOLDER;\n    }\n    var imageFormat = ['bmp', 'dib', 'jpg', 'jpeg', 'jpe', 'jfif', 'gif', 'tif', 'tiff', 'png', 'ico'];\n    var audioFormat = ['mp3', 'wav', 'aac', 'ogg', 'wma', 'aif', 'fla', 'm4a'];\n    var videoFormat = ['webm', 'mkv', 'flv', 'vob', 'ogv', 'ogg', 'avi', 'wmv', 'mp4', '3gp'];\n    var knownFormat = ['css', 'exe', 'html', 'js', 'msi', 'pdf', 'pptx', 'ppt', 'rar', 'zip', 'txt', 'docx', 'doc',\n        'xlsx', 'xls', 'xml', 'rtf', 'php'];\n    var filetype = getValue('type', file);\n    filetype = filetype.toLowerCase();\n    if (filetype.indexOf('.') !== -1) {\n        filetype = filetype.split('.').join('');\n    }\n    var iconType;\n    if (imageFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_IMAGE;\n    }\n    else if (audioFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_MUSIC;\n    }\n    else if (videoFormat.indexOf(filetype) !== -1) {\n        iconType = CLS.ICON_VIDEO;\n    }\n    else if (knownFormat.indexOf(filetype) !== -1) {\n        iconType = 'e-fe-' + filetype;\n    }\n    else {\n        iconType = 'e-fe-unknown e-fe-' + filetype;\n    }\n    return iconType;\n}\n/* istanbul ignore next */\n/**\n * To get the image URL\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} item - specifies the item.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getImageUrl(parent, item) {\n    var baseUrl = parent.ajaxSettings.getImageUrl ? parent.ajaxSettings.getImageUrl : parent.ajaxSettings.url;\n    var imgUrl;\n    var fileName = encodeURIComponent(getValue('name', item));\n    var fPath = getValue('filterPath', item);\n    if (parent.hasId) {\n        var imgId = getValue('id', item);\n        imgUrl = baseUrl + '?path=' + parent.path + '&id=' + imgId;\n    }\n    else if (!isNOU(fPath)) {\n        imgUrl = baseUrl + '?path=' + fPath.replace(/\\\\/g, '/') + fileName;\n    }\n    else {\n        imgUrl = baseUrl + '?path=' + parent.path + fileName;\n    }\n    imgUrl = imgUrl + '&time=' + (new Date().getTime()).toString();\n    var eventArgs = {\n        fileDetails: [item],\n        imageUrl: imgUrl\n    };\n    parent.trigger('beforeImageLoad', eventArgs);\n    return eventArgs.imageUrl;\n}\n/* istanbul ignore next */\n/**\n * Gets the full path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @param {string} path - specifies the path.\n * @returns {string} - returns the image url.\n * @private\n */\n// eslint-disable-next-line\nexport function getFullPath(parent, data, path) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', data) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', data);\n    if (!isNOU(fPath)) {\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return path + filePath;\n    }\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data.\n * @returns {string} - returns the name.\n * @private\n */\n// eslint-disable-next-line\nexport function getName(parent, data) {\n    var name = getValue('name', data);\n    var fPath = getValue('filterPath', data);\n    if ((parent.breadcrumbbarModule.searchObj.element.value !== '' || parent.isFiltered) && !isNOU(fPath)) {\n        fPath = fPath.replace(/\\\\/g, '/');\n        name = fPath.replace(parent.path, '') + name;\n    }\n    return name;\n}\n/**\n * Gets the name\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object[]} items - specifies the item elements.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getSortedData(parent, items) {\n    if (items.length === 0) {\n        return items;\n    }\n    var query;\n    if (parent.sortOrder !== 'None') {\n        query = new Query().sortBy(parent.sortBy, parent.sortOrder.toLowerCase(), true).group('isFile');\n    }\n    else {\n        query = new Query().group('isFile');\n    }\n    // eslint-disable-next-line\n    var lists = new DataManager(items).executeLocal(query);\n    return getValue('records', lists);\n}\n/**\n * Gets the data object\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} key - specifies the key.\n * @param {string} value - specifies the value.\n * @returns {Object} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getObject(parent, key, value) {\n    // eslint-disable-next-line\n    var currFiles = getValue(parent.pathId[parent.pathId.length - 1], parent.feFiles);\n    var query = new Query().where(key, 'equal', value);\n    // eslint-disable-next-line\n    var lists = new DataManager(currFiles).executeLocal(query);\n    return lists[0];\n}\n/**\n * Creates empty element\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {HTMLElement} element - specifies the element.\n * @param {ReadArgs | SearchArgs} args - specifies the args.\n * @returns {void}\n * @private\n */\nexport function createEmptyElement(parent, element, args) {\n    var top;\n    var layoutElement = select('#' + parent.element.id + CLS.LAYOUT_ID, parent.element);\n    var addressBarHeight = select('#' + parent.element.id + CLS.BREADCRUMBBAR_ID, layoutElement).offsetHeight;\n    top = layoutElement.offsetHeight - addressBarHeight;\n    if (parent.view === 'Details') {\n        top = top - select('.' + CLS.GRID_HEADER, layoutElement).offsetHeight;\n    }\n    if (isNOU(element.querySelector('.' + CLS.EMPTY))) {\n        var emptyDiv = createElement('div', { className: CLS.EMPTY });\n        var emptyFolder = createElement('div', { className: CLS.LARGE_EMPTY_FOLDER });\n        var emptyEle = createElement('div', { className: CLS.EMPTY_CONTENT });\n        var dragFile = createElement('div', { className: CLS.EMPTY_INNER_CONTENT });\n        if (parent.view === 'Details') {\n            element.querySelector('.' + CLS.GRID_VIEW).appendChild(emptyDiv);\n        }\n        else {\n            element.appendChild(emptyDiv);\n        }\n        emptyDiv.appendChild(emptyFolder);\n        emptyDiv.appendChild(emptyEle);\n        emptyDiv.appendChild(dragFile);\n    }\n    if (element.querySelector('.' + CLS.EMPTY)) {\n        if (!isNOU(args.error)) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Access-Denied');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Access-Details');\n        }\n        else if (parent.isFiltered) {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Filter-Key');\n        }\n        else if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Search-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'Search-Key');\n        }\n        else {\n            element.querySelector('.' + CLS.EMPTY_CONTENT).innerHTML = getLocaleText(parent, 'Folder-Empty');\n            element.querySelector('.' + CLS.EMPTY_INNER_CONTENT).innerHTML = getLocaleText(parent, 'File-Upload');\n        }\n    }\n    var eDiv = select('.' + CLS.EMPTY, element);\n    top = (top - eDiv.offsetHeight) / 2;\n    eDiv.style.marginTop = top + 'px';\n}\n/**\n * Gets the directories\n *\n * @param {Object[]} files - specifies the file object.\n * @returns {Object[]} - returns the sorted data.\n * @private\n */\n// eslint-disable-next-line\nexport function getDirectories(files) {\n    return new DataManager(files).executeLocal(new Query().where(events.isFile, 'equal', false, false));\n}\n/**\n * set the Node ID\n *\n * @param {ReadArgs} result - specifies the result.\n * @param {string} rootId - specifies the rootId.\n * @returns {void}\n * @private\n */\nexport function setNodeId(result, rootId) {\n    // eslint-disable-next-line\n    var dirs = getDirectories(result.files);\n    for (var i = 0, len = dirs.length; i < len; i++) {\n        setValue('_fm_id', rootId + '_' + i, dirs[i]);\n    }\n}\n/**\n * set the date object\n *\n * @param {Object[]} args - specifies the file object.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function setDateObject(args) {\n    for (var i = 0; i < args.length; i++) {\n        setValue('_fm_created', new Date(getValue('dateCreated', args[i])), args[i]);\n        setValue('_fm_modified', new Date(getValue('dateModified', args[i])), args[i]);\n    }\n}\n/**\n * get the locale text\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} text - specifies the text.\n * @returns {string} - returns the locale text.\n * @private\n */\nexport function getLocaleText(parent, text) {\n    var locale = parent.localeObj.getConstant(text);\n    return (locale === '') ? text : locale;\n}\n/**\n * get the CSS class\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} css - specifies the css.\n * @returns {string} - returns the css classes.\n * @private\n */\nexport function getCssClass(parent, css) {\n    var cssClass = parent.cssClass;\n    cssClass = (isNOU(cssClass) || cssClass === '') ? css : (cssClass + ' ' + css);\n    return cssClass;\n}\n/**\n * sort on click\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {MenuEventArgs} args - specifies the menu event arguements.\n * @returns {void}\n * @private\n */\nexport function sortbyClickHandler(parent, args) {\n    var tick;\n    parent.isSortByClicked = true;\n    if (args.item.id.indexOf('ascending') !== -1 || args.item.id.indexOf('descending') !== -1 || args.item.id.indexOf('none') !== -1) {\n        tick = true;\n    }\n    else {\n        tick = false;\n    }\n    if (!tick) {\n        parent.sortBy = getSortField(args.item.id);\n    }\n    else {\n        parent.sortOrder = getSortField(args.item.id);\n    }\n    parent.itemData = [getPathObject(parent)];\n    if (parent.view === 'Details') {\n        if (parent.isMobile) {\n            updateLayout(parent, 'Details');\n        }\n        else {\n            parent.notify(events.sortColumn, { module: 'detailsview' });\n        }\n    }\n    if (parent.view === 'LargeIcons') {\n        updateLayout(parent, 'LargeIcons');\n    }\n    parent.notify(events.sortByChange, {});\n}\n/**\n * Gets the sorted fields\n *\n * @param {string} id - specifies the id.\n * @returns {string} - returns the sorted fields\n * @private\n */\nexport function getSortField(id) {\n    var text = id.substring(id.lastIndexOf('_') + 1);\n    var field = text;\n    switch (text) {\n        case 'date':\n            field = '_fm_modified';\n            break;\n        case 'ascending':\n            field = 'Ascending';\n            break;\n        case 'descending':\n            field = 'Descending';\n            break;\n        case 'none':\n            field = 'None';\n            break;\n    }\n    return field;\n}\n/**\n * Sets the next path\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {string} path - specifies the path.\n * @returns {void}\n * @private\n */\nexport function setNextPath(parent, path) {\n    var currfolders = path.split('/');\n    var folders = parent.originalPath.split('/');\n    // eslint-disable-next-line\n    var root = getValue(parent.pathId[0], parent.feParent);\n    var key = isNOU(getValue('id', root)) ? 'name' : 'id';\n    for (var i = currfolders.length - 1, len = folders.length - 1; i < len; i++) {\n        var eventName = (folders[i + 1] === '') ? events.finalizeEnd : events.initialEnd;\n        var newPath = (folders[i] === '') ? '/' : (parent.path + folders[i] + '/');\n        // eslint-disable-next-line\n        var data = getObject(parent, key, folders[i]);\n        var id = getValue('_fm_id', data);\n        parent.setProperties({ path: newPath }, true);\n        parent.pathId.push(id);\n        parent.itemData = [data];\n        parent.pathNames.push(getValue('name', data));\n        read(parent, eventName, parent.path);\n        break;\n    }\n}\n/**\n * Opens the searched folder\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {Object} data - specifies the data\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function openSearchFolder(parent, data) {\n    parent.notify(events.clearPathInit, { selectedNode: parent.pathId[parent.pathId.length - 1] });\n    parent.originalPath = getFullPath(parent, data, parent.path);\n    read(parent, (parent.path !== parent.originalPath) ? events.initialEnd : events.finalizeEnd, parent.path);\n}\n/**\n * Paste handling function\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function pasteHandler(parent) {\n    parent.isDragDrop = false;\n    if (parent.selectedNodes.length !== 0 && parent.enablePaste) {\n        var path = (parent.folderPath === '') ? parent.path : parent.folderPath;\n        // eslint-disable-next-line\n        var subFolder = validateSubFolder(parent, parent.actionRecords, path, parent.path);\n        if (!subFolder) {\n            if ((parent.fileAction === 'move' && parent.targetPath !== path) || parent.fileAction === 'copy') {\n                parent.notify(events.pasteInit, {});\n                paste(parent, parent.targetPath, parent.selectedNodes, path, parent.fileAction, [], parent.actionRecords);\n            }\n            else {\n                parent.enablePaste = false;\n                parent.notify(events.hidePaste, {});\n                removeBlur(parent);\n            }\n        }\n    }\n}\n/**\n * Validates the sub folders\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @param {'{ [key: string]: Object; }[]'} data - specifies the data.\n * @param {string} dropPath - specifies the drop path.\n * @param {string} dragPath - specifies the drag path.\n * @returns {boolean} - returns the validated sub folder.\n * @private\n */\n// eslint-disable-next-line\nexport function validateSubFolder(parent, data, dropPath, dragPath) {\n    var subFolder = false;\n    for (var i = 0; i < data.length; i++) {\n        if (!getValue('isFile', data[i])) {\n            var tempTarget = getFullPath(parent, data[i], dragPath);\n            if (dropPath.indexOf(tempTarget) === 0) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Sub-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n        else {\n            var srcData = parent.dragNodes[i];\n            var len = 0;\n            if (srcData) {\n                len = srcData.lastIndexOf('/');\n            }\n            var path = '';\n            if (len > 0) {\n                path = dragPath + srcData.substring(0, len + 1);\n            }\n            if (path === dropPath) {\n                var result = {\n                    files: null,\n                    error: {\n                        code: '402',\n                        message: getLocaleText(parent, 'Same-Folder-Error'),\n                        fileExists: null\n                    }\n                };\n                createDialog(parent, 'Error', result);\n                subFolder = true;\n                break;\n            }\n        }\n    }\n    return subFolder;\n}\n/**\n * Validates the drop handler\n *\n * @param {IFileManager} parent - specifies the parent element.\n * @returns {void}\n * @private\n */\nexport function dropHandler(parent) {\n    parent.isDragDrop = true;\n    if (parent.dragData.length !== 0) {\n        parent.dragPath = parent.dragPath.replace(/\\\\/g, '/');\n        parent.dropPath = parent.dropPath.replace(/\\\\/g, '/');\n        var subFolder = validateSubFolder(parent, parent.dragData, parent.dropPath, parent.dragPath);\n        if (!subFolder && (parent.dragPath !== parent.dropPath)) {\n            parent.itemData = [parent.dropData];\n            paste(parent, parent.dragPath, parent.dragNodes, parent.dropPath, 'move', [], parent.dragData);\n            parent.notify(events.pasteInit, {});\n        }\n    }\n}\n/**\n * Gets the parent path\n *\n * @param {string} oldPath - specifies the old path.\n * @returns {string} - returns the parent path.\n * @private\n */\nexport function getParentPath(oldPath) {\n    var path = oldPath.split('/');\n    var newPath = path[0] + '/';\n    for (var i = 1; i < path.length - 2; i++) {\n        newPath += path[i] + '/';\n    }\n    return newPath;\n}\n/**\n * Gets the directory path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {ReadArgs} args - returns the read arguements.\n * @returns {string} - returns the directory path\n * @private\n */\nexport function getDirectoryPath(parent, args) {\n    var filePath = getValue(parent.hasId ? 'id' : 'name', args.cwd) + '/';\n    var fPath = getValue(parent.hasId ? 'filterId' : 'filterPath', args.cwd);\n    if (!isNOU(fPath)) {\n        if (fPath === '') {\n            return parent.hasId ? filePath : '/';\n        }\n        return fPath.replace(/\\\\/g, '/') + filePath;\n    }\n    else {\n        return parent.path + filePath;\n    }\n}\n/**\n * Gets the do paste path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} operation - specifies the operations.\n * @param {ReadArgs} result - returns the result.\n * @returns {void}\n * @private\n */\nexport function doPasteUpdate(parent, operation, result) {\n    if (operation === 'move') {\n        if (!parent.isDragDrop) {\n            parent.enablePaste = false;\n            parent.notify(events.hidePaste, {});\n            parent.notify(events.cutEnd, result);\n        }\n        else {\n            parent.notify(events.dragEnd, result);\n        }\n    }\n    if (parent.duplicateItems.length === 0) {\n        parent.pasteNodes = [];\n    }\n    var flag = false;\n    for (var count = 0; (count < result.files.length) && !flag; count++) {\n        parent.pasteNodes.push(result.files[count][parent.hasId ? 'id' : 'name']);\n        if (parent.isDragDrop) {\n            parent.droppedObjects.push(result.files[count]);\n        }\n    }\n    parent.duplicateItems = [];\n    parent.duplicateRecords = [];\n    if (parent.isDragDrop && !parent.isPasteError) {\n        parent.isDropEnd = true;\n    }\n    else {\n        parent.isDropEnd = false;\n    }\n    if (!parent.isDragDrop || (parent.path === parent.dragPath) || (parent.path === parent.dropPath)\n        || parent.isSearchDrag) {\n        parent.isPathDrag = false;\n        read(parent, events.pasteEnd, parent.path);\n    }\n    else {\n        readDropPath(parent);\n    }\n    parent.trigger('success', { action: operation, result: result });\n}\n/**\n * Reads the drop path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function readDropPath(parent) {\n    var pathId = getValue('_fm_id', parent.dropData);\n    parent.expandedId = pathId;\n    parent.itemData = [parent.dropData];\n    if (parent.isPathDrag) {\n        parent.notify(events.pathDrag, parent.itemData);\n    }\n    else {\n        if (parent.navigationpaneModule) {\n            var node = select('[data-uid=\"' + pathId + '\"]', parent.navigationpaneModule.treeObj.element);\n            updatePath(node, parent.dropData, parent);\n        }\n        read(parent, events.dropPath, parent.dropPath);\n    }\n}\n/**\n * Gets the duplicated path\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} name - specifies the name.\n * @returns {object} - returns the duplicated path.\n * @private\n */\n// eslint-disable-next-line\nexport function getDuplicateData(parent, name) {\n    // eslint-disable-next-line\n    var data = null;\n    // eslint-disable-next-line\n    var records = parent.isDragDrop ? parent.dragData : parent.actionRecords;\n    for (var i = 0; i < records.length; i++) {\n        if (getValue('name', records[i]) === name) {\n            data = records[i];\n            break;\n        }\n    }\n    return data;\n}\n/**\n * Gets the create the virtual drag element\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createVirtualDragElement(parent) {\n    parent.isSearchDrag = false;\n    if (parent.breadcrumbbarModule.searchObj.element.value !== '') {\n        parent.isSearchDrag = true;\n    }\n    if (parent.activeModule !== 'navigationpane') {\n        parent.dragNodes = [];\n        var i = 0;\n        while (i < parent.selectedItems.length) {\n            parent.dragNodes.push(parent.selectedItems[i]);\n            i++;\n        }\n        if (parent.selectedItems.length === 0 && parent.dragData && parent.dragData.length === 1) {\n            parent.dragNodes.push(getItemName(parent, parent.dragData[0]));\n        }\n    }\n    var cloneIcon = parent.createElement('div', {\n        className: 'e-fe-icon ' + fileType(parent.dragData[0])\n    });\n    var cloneName = parent.createElement('div', {\n        className: 'e-fe-name',\n        innerHTML: parent.dragData[0].name\n    });\n    var virtualEle = parent.createElement('div', {\n        className: 'e-fe-content'\n    });\n    virtualEle.appendChild(cloneIcon);\n    virtualEle.appendChild(cloneName);\n    var ele = parent.createElement('div', {\n        className: CLS.CLONE\n    });\n    ele.appendChild(virtualEle);\n    if (parent.dragNodes.length > 1) {\n        var badge = parent.createElement('span', {\n            className: 'e-fe-count',\n            innerHTML: (parent.dragNodes.length).toString(10)\n        });\n        ele.appendChild(badge);\n    }\n    parent.virtualDragElement = ele;\n    parent.element.appendChild(parent.virtualDragElement);\n}\n/**\n * Drops the stop handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStopHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeDropTarget(parent);\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    removeBlur(parent);\n    parent.uploadObj.dropArea = select('#' + parent.element.id + CLS.CONTENT_ID, parent.element);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n    getTargetModule(parent, args.target);\n    parent.notify(events.dropInit, args);\n    removeBlur(parent, 'hover');\n    dragArgs.fileDetails = parent.dragData;\n    parent.trigger('fileDragStop', dragArgs, function (dragArgs) {\n        if (!dragArgs.cancel && !isNOU(parent.targetModule) && parent.targetModule !== '' && parent.dragCount > 2) {\n            dropHandler(parent);\n        }\n        parent.dragCount = 0;\n    });\n}\n/**\n * Drag the start handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {'DragEventArgs'} args - specifies the drag event arguements.\n * @param {Draggable} dragObj - specifies the drag event arguements.\n * @returns {void}\n * @private\n */\nexport function dragStartHandler(parent, args, dragObj) {\n    var dragArgs = args;\n    dragArgs.cancel = false;\n    dragArgs.fileDetails = parent.dragData;\n    parent.dragCount = 0;\n    parent.droppedObjects = [];\n    if (!parent.allowDragAndDrop || ((parent.activeModule === 'navigationpane') &&\n        (closest(args.element, 'li').getAttribute('data-uid') === parent.pathId[0]))) {\n        dragArgs.cancel = true;\n    }\n    if ((parent.activeModule === 'navigationpane') &&\n        (parent.pathId.indexOf(closest(args.element, 'li').getAttribute('data-uid')) !== -1)) {\n        parent.isPathDrag = true;\n    }\n    else {\n        parent.isPathDrag = false;\n    }\n    removeBlur(parent);\n    if (dragArgs.cancel) {\n        dragObj.intDestroy(args.event);\n        dragCancel(parent);\n    }\n    else if (!dragArgs.cancel) {\n        var i = 0;\n        while (i < parent.activeElements.length) {\n            addBlur(parent.activeElements[i]);\n            i++;\n        }\n        parent.trigger('fileDragStart', dragArgs, function (dragArgs) {\n            if (dragArgs.cancel) {\n                dragObj.intDestroy(args.event);\n                dragCancel(parent);\n            }\n            else {\n                parent.uploadObj.dropArea = null;\n            }\n        });\n    }\n}\n/**\n * Drag the cancel handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function dragCancel(parent) {\n    removeBlur(parent);\n    var virtualEle = select('.' + CLS.CLONE, parent.element);\n    if (virtualEle) {\n        detach(virtualEle);\n    }\n}\n/**\n * Remove drop target handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function removeDropTarget(parent) {\n    removeItemClass(parent, CLS.DROP_FOLDER);\n    removeItemClass(parent, CLS.DROP_FILE);\n}\n/**\n * Remove item class handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {string} value - specifies the value.\n * @returns {void}\n * @private\n */\nexport function removeItemClass(parent, value) {\n    var ele = parent.element.querySelectorAll('.' + value);\n    for (var i = 0; i < ele.length; i++) {\n        ele[i].classList.remove(value);\n    }\n}\n/**\n * Dragging handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {DragEventArgs} args - specifies the arguements.\n * @returns {void}\n * @private\n */\nexport function draggingHandler(parent, args) {\n    var dragArgs = args;\n    dragArgs.fileDetails = parent.dragData;\n    var canDrop = false;\n    getTargetModule(parent, args.target);\n    removeDropTarget(parent);\n    if (parent.treeExpandTimer != null) {\n        window.clearTimeout(parent.treeExpandTimer);\n        parent.treeExpandTimer = null;\n    }\n    removeBlur(parent, 'hover');\n    var node = null;\n    if (parent.targetModule === 'navigationpane') {\n        node = closest(args.target, 'li');\n        node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        canDrop = true;\n        /* istanbul ignore next */\n        parent.treeExpandTimer = window.setTimeout(function () { parent.notify(events.dragging, args); }, 800);\n    }\n    else if (parent.targetModule === 'detailsview') {\n        node = closest(args.target, 'tr');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FOLDER);\n        }\n        else if (node && !node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.DROP_FILE);\n        }\n        canDrop = true;\n    }\n    else if (parent.targetModule === 'largeiconsview') {\n        node = closest(args.target, 'li');\n        if (node && node.querySelector('.' + CLS.FOLDER) && !node.classList.contains(CLS.BLUR)) {\n            node.classList.add(CLS.HOVER, CLS.DROP_FOLDER);\n        }\n        canDrop = true;\n        /* istanbul ignore next */\n    }\n    else if (parent.targetModule === 'breadcrumbbar') {\n        canDrop = true;\n    }\n    parent.element.classList.remove('e-fe-drop', 'e-no-drop');\n    parent.element.classList.add(canDrop ? 'e-fe-drop' : 'e-no-drop');\n    parent.dragCount = parent.dragCount + 1;\n    parent.trigger('fileDragging', dragArgs);\n}\n/**\n * Object to string handler\n *\n * @param {Object} data - specifies the data.\n * @returns {string} returns string converted from Object.\n * @private\n */\n// Ignored the message key value in permission object\n// eslint-disable-next-line\nexport function objectToString(data) {\n    var str = '';\n    var keys = Object.keys(data);\n    for (var i = 0; i < keys.length; i++) {\n        if (keys[i] !== 'message') {\n            str += (i === 0 ? '' : ', ') + keys[i] + ': ' + getValue(keys[i], data);\n        }\n    }\n    return str;\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {string} returns the item name.\n * @private\n */\n// eslint-disable-next-line\nexport function getItemName(parent, data) {\n    if (parent.hasId) {\n        return getValue('id', data);\n    }\n    return getName(parent, data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function updateRenamingData(parent, data) {\n    parent.itemData = [data];\n    parent.currentItemText = getValue('name', data);\n    parent.isFile = getValue('isFile', data);\n    parent.filterPath = getValue('filterPath', data);\n}\n/**\n * Get item name handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doRename(parent) {\n    if (!hasEditAccess(parent.itemData[0])) {\n        createDeniedDialog(parent, parent.itemData[0], events.permissionEdit);\n    }\n    else {\n        createDialog(parent, 'Rename');\n    }\n}\n/* istanbul ignore next */\n/**\n * Download handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function doDownload(parent) {\n    // eslint-disable-next-line\n    var items = parent.itemData;\n    for (var i = 0; i < items.length; i++) {\n        if (!hasDownloadAccess(items[i])) {\n            createDeniedDialog(parent, items[i], events.permissionDownload);\n            return;\n        }\n    }\n    if (parent.selectedItems.length > 0) {\n        Download(parent, parent.path, parent.selectedItems);\n    }\n}\n/**\n * Delete Files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDeleteFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasEditAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionEdit);\n            return;\n        }\n    }\n    parent.itemData = data;\n    Delete(parent, newIds, parent.path, 'delete');\n}\n/* istanbul ignore next */\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object[]} data - specifies the data.\n * @param {string[]} newIds - specifies the new Ids.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function doDownloadFiles(parent, data, newIds) {\n    for (var i = 0; i < data.length; i++) {\n        if (!hasDownloadAccess(data[i])) {\n            createDeniedDialog(parent, data[i], events.permissionDownload);\n            return;\n        }\n    }\n    parent.itemData = data;\n    if (newIds.length > 0) {\n        Download(parent, parent.path, newIds);\n    }\n}\n/**\n * Download files handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @param {Object} data - specifies the data.\n * @param {string} action - specifies the actions.\n * @returns {void}\n * @private\n */\n// eslint-disable-next-line\nexport function createDeniedDialog(parent, data, action) {\n    var message = getValue('message', getValue('permission', data));\n    if (message === '') {\n        message = getLocaleText(parent, 'Access-Message').replace('{0}', getValue('name', data)).replace('{1}', action);\n    }\n    var response = {\n        error: {\n            code: '401',\n            fileExists: null,\n            message: message\n        }\n    };\n    createDialog(parent, 'Error', response);\n}\n/**\n * Get Access Classes\n *\n * @param {Object} data - specifies the data.\n * @returns {string} - returns accesses classes.\n * @private\n */\n// eslint-disable-next-line\nexport function getAccessClass(data) {\n    return !hasReadAccess(data) ? 'e-fe-locked e-fe-hidden' : 'e-fe-locked';\n}\n/**\n * Check read access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns read access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasReadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return (permission && !getValue('read', permission)) ? false : true;\n}\n/**\n * Check edit access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns edit access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasEditAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('write', permission))) : true;\n}\n/**\n * Check content access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns content access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasContentAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('writeContents', permission))) : true;\n}\n/**\n * Check upload access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns upload access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasUploadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('upload', permission))) : true;\n}\n/**\n * Check download access handler\n *\n * @param {Object} data - specifies the data.\n * @returns {boolean} - returns download access.\n * @private\n */\n// eslint-disable-next-line\nexport function hasDownloadAccess(data) {\n    // eslint-disable-next-line\n    var permission = getValue('permission', data);\n    return permission ? ((getValue('read', permission) && getValue('download', permission))) : true;\n}\n/**\n * Create new folder handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function createNewFolder(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasContentAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionEditContents);\n    }\n    else {\n        createDialog(parent, 'NewFolder');\n    }\n}\n/**\n * Upload item handler\n *\n * @param {IFileManager} parent - specifies the parent.\n * @returns {void}\n * @private\n */\nexport function uploadItem(parent) {\n    // eslint-disable-next-line\n    var details = parent.itemData[0];\n    if (!hasUploadAccess(details)) {\n        createDeniedDialog(parent, details, events.permissionUpload);\n    }\n    else {\n        var eleId = '#' + parent.element.id + CLS.UPLOAD_ID;\n        var uploadEle = document.querySelector(eleId);\n        uploadEle.click();\n    }\n}\n"],"mappings":"AAAA,OAAO,KAAKA,GAAZ,MAAqB,iBAArB;AACA,OAAO,KAAKC,MAAZ,MAAwB,kBAAxB;AACA,SAASC,IAAT,EAAeC,KAAf,EAAsBC,MAAtB,EAA8BC,MAA9B,EAAsCC,QAAtC,EAAgDC,MAAhD,QAA8D,sBAA9D;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,iBAAiB,IAAIC,KAAlD,EAAyDC,OAAzD,EAAkEC,MAAlE,EAA0EC,aAA1E,QAA+F,sBAA/F;AACA,SAASC,OAAT,EAAkBC,MAAlB,QAAgC,sBAAhC;AACA,SAASC,WAAT,EAAsBC,KAAtB,QAAmC,sBAAnC;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,UAAT,CAAoBC,IAApB,EAA0BC,IAA1B,EAAgCC,QAAhC,EAA0C;EAC7C,IAAIC,IAAI,GAAGhB,QAAQ,CAAC,MAAD,EAASc,IAAT,CAAnB;EACA,IAAIG,EAAE,GAAGJ,IAAI,CAACK,YAAL,CAAkB,SAAlB,CAAT;EACA,IAAIC,OAAO,GAAGhB,KAAK,CAACc,EAAD,CAAL,GAAYD,IAAZ,GAAmBC,EAAjC;EACAF,QAAQ,CAACK,aAAT,CAAuB;IAAEC,IAAI,EAAEC,OAAO,CAACT,IAAD,EAAOM,OAAP,EAAgBJ,QAAQ,CAACQ,KAAzB;EAAf,CAAvB,EAAyE,IAAzE;EACAR,QAAQ,CAACS,MAAT,GAAkBC,SAAS,CAACZ,IAAD,CAA3B;EACAE,QAAQ,CAACW,SAAT,GAAqBC,YAAY,CAACd,IAAD,EAAOG,IAAP,CAAjC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,OAAT,CAAiBM,OAAjB,EAA0BZ,IAA1B,EAAgCO,KAAhC,EAAuC;EAC1C,IAAIM,OAAO,GAAGC,UAAU,CAACF,OAAD,EAAUZ,IAAV,EAAgB,KAAhB,EAAuBO,KAAvB,CAAxB;EACA,IAAIF,IAAI,GAAGE,KAAK,GAAG,EAAH,GAAQ,GAAxB;EACA,IAAIQ,GAAG,GAAGF,OAAO,CAACG,MAAR,IAAkBT,KAAK,GAAG,CAAH,GAAO,CAA9B,CAAV;;EACA,KAAK,IAAIU,CAAC,GAAGF,GAAb,EAAkBE,CAAC,IAAI,CAAvB,EAA0BA,CAAC,EAA3B,EAA+B;IAC3BZ,IAAI,IAAIQ,OAAO,CAACI,CAAD,CAAP,GAAa,GAArB;EACH;;EACD,OAAOZ,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,SAAT,CAAmBZ,IAAnB,EAAyB;EAC5B,IAAIgB,OAAO,GAAGC,UAAU,CAACjB,IAAD,EAAOA,IAAI,CAACK,YAAL,CAAkB,UAAlB,CAAP,EAAsC,IAAtC,CAAxB;EACA,IAAIgB,GAAG,GAAG,EAAV;;EACA,KAAK,IAAID,CAAC,GAAGJ,OAAO,CAACG,MAAR,GAAiB,CAA9B,EAAiCC,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;IAC1CC,GAAG,CAACC,IAAJ,CAASN,OAAO,CAACI,CAAD,CAAhB;EACH;;EACD,OAAOC,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASP,YAAT,CAAsBC,OAAtB,EAA+BZ,IAA/B,EAAqC;EACxC,IAAIa,OAAO,GAAGC,UAAU,CAACF,OAAD,EAAUZ,IAAV,EAAgB,KAAhB,CAAxB;EACA,IAAIoB,KAAK,GAAG,EAAZ;;EACA,KAAK,IAAIH,CAAC,GAAGJ,OAAO,CAACG,MAAR,GAAiB,CAA9B,EAAiCC,CAAC,IAAI,CAAtC,EAAyCA,CAAC,EAA1C,EAA8C;IAC1CG,KAAK,CAACD,IAAN,CAAWN,OAAO,CAACI,CAAD,CAAlB;EACH;;EACD,OAAOG,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASN,UAAT,CAAoBF,OAApB,EAA6BZ,IAA7B,EAAmCqB,IAAnC,EAAyCd,KAAzC,EAAgD;EACnD,IAAIM,OAAO,GAAG,CAACb,IAAD,CAAd;EACA,IAAIsB,EAAE,GAAGV,OAAO,CAACW,UAAjB;;EACA,OAAO,CAACpC,KAAK,CAACmC,EAAD,CAAb,EAAmB;IACf,IAAIlC,OAAO,CAACkC,EAAD,EAAK,MAAM9C,GAAG,CAACgD,SAAf,CAAX,EAAsC;MAClC,IAAIC,UAAU,GAAGJ,IAAI,GAAGC,EAAE,CAACpB,YAAH,CAAgB,UAAhB,CAAH,GAAkCK,KAAK,GAAGe,EAAE,CAACpB,YAAH,CAAgB,SAAhB,CAAH,GACxDb,MAAM,CAAC,MAAMb,GAAG,CAACkD,SAAX,EAAsBJ,EAAtB,CAAN,CAAgCK,WADpC;MAEAd,OAAO,CAACM,IAAR,CAAaM,UAAb;IACH;;IACDH,EAAE,GAAGA,EAAE,CAACC,UAAR;;IACA,IAAID,EAAE,CAACM,SAAH,CAAaC,QAAb,CAAsBrD,GAAG,CAACsD,SAA1B,CAAJ,EAA0C;MACtC;IACH;EACJ;;EACD,OAAOjB,OAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkB,YAAT,CAAsBC,MAAtB,EAA8B;EACjC,IAAIC,GAAG,GAAGD,MAAM,CAACzB,KAAP,GAAe,IAAf,GAAsB,MAAhC;EACA,IAAI2B,OAAO,GAAGF,MAAM,CAACzB,KAAP,GAAe,EAAf,GAAoB,GAAlC;EACA,IAAIU,CAAC,GAAGe,MAAM,CAACzB,KAAP,GAAe,CAAf,GAAmB,CAA3B;;EACA,KAAKU,CAAL,EAAQA,CAAC,GAAGe,MAAM,CAACxB,MAAP,CAAcQ,MAA1B,EAAkCC,CAAC,EAAnC,EAAuC;IACnC;IACA,IAAInB,IAAI,GAAGd,QAAQ,CAACgD,MAAM,CAACxB,MAAP,CAAcS,CAAd,CAAD,EAAmBe,MAAM,CAACG,QAA1B,CAAnB;IACAD,OAAO,IAAIlD,QAAQ,CAACiD,GAAD,EAAMnC,IAAN,CAAR,GAAsB,GAAjC;EACH;;EACDkC,MAAM,CAAC5B,aAAP,CAAqB;IAAEC,IAAI,EAAE6B;EAAR,CAArB,EAAwC,IAAxC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,YAAT,CAAsBJ,MAAtB,EAA8B;EACjC,IAAIA,MAAM,CAACK,KAAX,EAAkB;IACdC,UAAU,CAACN,MAAD,CAAV;IACAA,MAAM,CAACO,aAAP,GAAuB,EAAvB;IACAP,MAAM,CAACQ,aAAP,GAAuB,EAAvB;IACAR,MAAM,CAACS,WAAP,GAAqB,KAArB;IACAT,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACkE,SAArB,EAAgC,EAAhC;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBC,MAAvB,EAA+Bb,MAA/B,EAAuC;EAC1CA,MAAM,CAACc,WAAP,GAAqB,KAArB;EACAd,MAAM,CAACQ,aAAP,GAAuB,EAAvB;EACAR,MAAM,CAACe,cAAP,GAAwB,EAAxB;EACAf,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACuE,WAArB,EAAkC,EAAlC;;EACA,IAAIhB,MAAM,CAACe,cAAP,CAAsB/B,MAAtB,KAAiC,CAArC,EAAwC;IACpC,OAAO,KAAP;EACH;;EACDsB,UAAU,CAACN,MAAD,CAAV;EACA,IAAIiB,OAAO,GAAGjB,MAAM,CAACe,cAArB;;EACA,IAAIf,MAAM,CAACkB,YAAP,KAAwB,gBAA5B,EAA8C;IAC1ClB,MAAM,CAACmB,UAAP,GAAoBnB,MAAM,CAAC3B,IAA3B;EACH,CAFD,MAGK;IACD2B,MAAM,CAACmB,UAAP,GAAoBC,aAAa,CAACpB,MAAM,CAAC3B,IAAR,CAAjC;EACH;;EACD,IAAIY,CAAC,GAAG,CAAR;;EACA,IAAIgC,OAAJ,EAAa;IACTI,SAAS,CAACrB,MAAD,EAASiB,OAAO,CAAC,CAAD,CAAhB,CAAT;;IACA,IAAIJ,MAAM,KAAK,KAAf,EAAsB;MAClB,OAAO5B,CAAC,GAAGgC,OAAO,CAACjC,MAAnB,EAA2B;QACvBsC,OAAO,CAACL,OAAO,CAAChC,CAAD,CAAR,CAAP;QACAA,CAAC;MACJ;IACJ;EACJ;;EACDA,CAAC,GAAG,CAAJ;EACAe,MAAM,CAACO,aAAP,GAAuB,EAAvB;EACAP,MAAM,CAACS,WAAP,GAAqB,IAArB;EACAT,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAAC8E,SAArB,EAAgC,EAAhC;;EACA,OAAOtC,CAAC,GAAGe,MAAM,CAACwB,aAAP,CAAqBxC,MAAhC,EAAwC;IACpCgB,MAAM,CAACQ,aAAP,CAAqBrB,IAArB,CAA0Ba,MAAM,CAACwB,aAAP,CAAqBvC,CAArB,CAA1B;IACAe,MAAM,CAACO,aAAP,CAAqBpB,IAArB,CAA0BnC,QAAQ,CAAC,MAAD,EAASgD,MAAM,CAACwB,aAAP,CAAqBvC,CAArB,CAAT,CAAlC;IACAA,CAAC;EACJ;;EACD,IAAI,CAACe,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA7C,KAAuD,EAAvD,IAA6D3B,MAAM,CAAC4B,UAArE,KACA5B,MAAM,CAACkB,YAAP,KAAwB,gBAD5B,EAC8C;IAC1ClB,MAAM,CAACO,aAAP,GAAuB,EAAvB;IACAP,MAAM,CAACc,WAAP,GAAqB,IAArB;IACA,IAAIe,GAAG,GAAG,CAAV;;IACA,OAAOA,GAAG,GAAG7B,MAAM,CAAC8B,aAAP,CAAqB9C,MAAlC,EAA0C;MACtCgB,MAAM,CAACO,aAAP,CAAqBpB,IAArB,CAA0Ba,MAAM,CAAC8B,aAAP,CAAqBD,GAArB,CAA1B;MACAA,GAAG;IACN;EACJ;;EACD,OAAO,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASP,OAAT,CAAiBS,KAAjB,EAAwB;EAC3BA,KAAK,CAACnC,SAAN,CAAgBoC,GAAhB,CAAoBxF,GAAG,CAACyF,IAAxB;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS3B,UAAT,CAAoBN,MAApB,EAA4BkC,KAA5B,EAAmC;EACtC,IAAIjB,OAAO,GAAI,CAACiB,KAAF,GAAWlC,MAAM,CAACpB,OAAP,CAAeuD,gBAAf,CAAgC,MAAM3F,GAAG,CAACyF,IAA1C,CAAX,GACVjC,MAAM,CAACpB,OAAP,CAAeuD,gBAAf,CAAgC,MAAM3F,GAAG,CAAC4F,KAA1C,CADJ;EAEA,IAAInD,CAAC,GAAG,CAAR;;EACA,OAAOA,CAAC,GAAGgC,OAAO,CAACjC,MAAnB,EAA2B;IACvBiC,OAAO,CAAChC,CAAD,CAAP,CAAWW,SAAX,CAAqByC,MAArB,CAA6B,CAACH,KAAF,GAAW1F,GAAG,CAACyF,IAAf,GAAsBzF,GAAG,CAAC4F,KAAtD;IACAnD,CAAC;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoC,SAAT,CAAmBrB,MAAnB,EAA2BpB,OAA3B,EAAoC;EACvC,IAAIA,OAAJ,EAAa;IACT,IAAIA,OAAO,CAACgB,SAAR,CAAkBC,QAAlB,CAA2BrD,GAAG,CAAC8F,GAA/B,CAAJ,EAAyC;MACrCtC,MAAM,CAACkB,YAAP,GAAsB,aAAtB;IACH,CAFD,MAGK,IAAI3D,OAAO,CAACqB,OAAD,EAAU,MAAMpC,GAAG,CAAC+F,UAApB,CAAX,EAA4C;MAC7CvC,MAAM,CAACkB,YAAP,GAAsB,gBAAtB;IACH,CAFI,MAGA;MACDlB,MAAM,CAACkB,YAAP,GAAsB,gBAAtB;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASsB,iBAAT,CAA2BxC,MAA3B,EAAmC2B,KAAnC,EAA0Cc,cAA1C,EAA0D;EAC7D,IAAIC,UAAJ;;EACA,IAAIf,KAAK,CAAC3C,MAAN,KAAiB,CAAjB,IAAsB,CAACgB,MAAM,CAAC4B,UAAlC,EAA8C;IAC1C5B,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACkG,UAArB,EAAiC;MAAEC,IAAI,EAAE5C;IAAR,CAAjC;EACH;;EACD,IAAIA,MAAM,CAAC6C,cAAP,CAAsBC,UAAtB,KAAqC,YAAzC,EAAuD;IACnDJ,UAAU,GAAGf,KAAK,GAAG,GAArB;EACH,CAFD,MAGK,IAAI3B,MAAM,CAAC6C,cAAP,CAAsBC,UAAtB,KAAqC,UAAzC,EAAqD;IACtDJ,UAAU,GAAG,MAAMf,KAAnB;EACH,CAFI,MAGA;IACDe,UAAU,GAAG,MAAMf,KAAN,GAAc,GAA3B;EACH;;EACD3B,MAAM,CAAC0C,UAAP,GAAoBA,UAApB;EACA1C,MAAM,CAAC+C,QAAP,GAAkB,CAACC,aAAa,CAAChD,MAAD,CAAd,CAAlB;;EACA,IAAI2B,KAAK,CAAC3C,MAAN,GAAe,CAAnB,EAAsB;IAClB,IAAIiE,aAAa,GAAGjD,MAAM,CAAC6C,cAAP,CAAsBK,UAA1C;IACA,IAAIC,WAAW,GAAGnD,MAAM,CAACoD,eAAzB;IACAxG,MAAM,CAACoD,MAAD,EAASyC,cAAc,GAAGhG,MAAM,CAAC4G,YAAV,GAAyB5G,MAAM,CAAC6G,MAAvD,EAA+DtD,MAAM,CAAC3B,IAAtE,EAA4EqE,UAA5E,EAAwFS,WAAxF,EAAqG,CAACF,aAAtG,CAAN;EACH,CAJD,MAKK;IACD,IAAI,CAACjD,MAAM,CAAC4B,UAAZ,EAAwB;MACpB,IAAI5B,MAAM,CAACuD,eAAX,EAA4B;QACxBvD,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAAC4G,YAArB,EAAmC;UAAEG,KAAK,EAAExD,MAAM,CAACyD,oBAAP,CAA4BC;QAArC,CAAnC;QACA1D,MAAM,CAACuD,eAAP,GAAyB,KAAzB;MACH,CAHD,MAIK;QACD7G,IAAI,CAACsD,MAAD,EAASyC,cAAc,GAAGhG,MAAM,CAAC4G,YAAV,GAAyB5G,MAAM,CAAC6G,MAAvD,EAA+DtD,MAAM,CAAC3B,IAAtE,CAAJ;MACH;IACJ,CARD,MASK;MACDxB,MAAM,CAACmD,MAAD,EAASvD,MAAM,CAAC4G,YAAhB,CAAN;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,YAAT,CAAsB3D,MAAtB,EAA8B4D,IAA9B,EAAoC;EACvC5D,MAAM,CAAC5B,aAAP,CAAqB;IAAEwF,IAAI,EAAEA;EAAR,CAArB,EAAqC,IAArC;;EACA,IAAI5D,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA7C,KAAuD,EAAvD,IAA6D3B,MAAM,CAAC4B,UAAxE,EAAoF;IAChF5B,MAAM,CAAC6D,mBAAP,GAA6B7D,MAAM,CAAC8B,aAApC;EACH;;EACD,IAAIY,UAAU,GAAG,EAAjB;;EACA,IAAI1C,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAAjD,EAAwD;IACpDe,UAAU,GAAG1C,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA1D;EACH;;EACD3B,MAAM,CAACyC,cAAP,GAAwB,IAAxB;EACAD,iBAAiB,CAACxC,MAAD,EAAS0C,UAAT,EAAqB,IAArB,CAAjB;AACH;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoB,eAAT,CAAyB9D,MAAzB,EAAiCpB,OAAjC,EAA0C;EAC7C,IAAImF,aAAa,GAAG,EAApB;;EACA,IAAInF,OAAJ,EAAa;IACT,IAAIrB,OAAO,CAACqB,OAAD,EAAU,MAAMpC,GAAG,CAACwH,IAAV,GAAiB,GAAjB,GAAuBxH,GAAG,CAACyH,OAA3B,GAAqC,IAArC,GAA4CzH,GAAG,CAAC0H,YAA1D,CAAX,EAAoF;MAChFH,aAAa,GAAG,aAAhB;IACH,CAFD,MAGK,IAAIxG,OAAO,CAACqB,OAAD,EAAU,MAAMpC,GAAG,CAAC2H,WAApB,CAAX,EAA6C;MAC9CJ,aAAa,GAAG,gBAAhB;IACH,CAFI,MAGA,IAAInF,OAAO,CAACgB,SAAR,CAAkBC,QAAlB,CAA2B,WAA3B,KACLjB,OAAO,CAACgB,SAAR,CAAkBC,QAAlB,CAA2B,mBAA3B,CADC,EACgD;MACjDkE,aAAa,GAAG,gBAAhB;IACH,CAHI,MAIA,IAAIxG,OAAO,CAACqB,OAAD,EAAU,sBAAV,CAAX,EAA8C;MAC/CmF,aAAa,GAAG,eAAhB;IACH,CAFI,MAGA;MACDA,aAAa,GAAG,EAAhB;IACH;EACJ;;EACD/D,MAAM,CAACoE,YAAP,GAAsBL,aAAtB;AACH;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,OAAT,CAAiBrE,MAAjB,EAAyB;EAC5BA,MAAM,CAAC+C,QAAP,GAAkB,CAACC,aAAa,CAAChD,MAAD,CAAd,CAAlB;;EACA,IAAI,CAACsE,aAAa,CAACtE,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAD,CAAlB,EAAwC;IACpCwB,kBAAkB,CAACvE,MAAD,EAASA,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAT,EAA6BtG,MAAM,CAAC+H,cAApC,CAAlB;EACH,CAFD,MAGK;IACD9H,IAAI,CAACsD,MAAD,EAASvD,MAAM,CAACgI,UAAhB,EAA4BzE,MAAM,CAAC3B,IAAnC,CAAJ;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASqG,UAAT,CAAoB1E,MAApB,EAA4B;EAC/BtD,IAAI,CAACsD,MAAD,EAASvD,MAAM,CAACkI,OAAhB,EAAyB3E,MAAM,CAAC3B,IAAhC,CAAJ;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2E,aAAT,CAAuBhD,MAAvB,EAA+B;EAClC,OAAOhD,QAAQ,CAACgD,MAAM,CAACxB,MAAP,CAAcwB,MAAM,CAACxB,MAAP,CAAcQ,MAAd,GAAuB,CAArC,CAAD,EAA0CgB,MAAM,CAACG,QAAjD,CAAf;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyE,SAAT,CAAmB5E,MAAnB,EAA2B;EAC9B,IAAI,CAACY,aAAa,CAAC,MAAD,EAASZ,MAAT,CAAlB,EAAoC;IAChC;EACH,CAFD,MAGK;IACDA,MAAM,CAAC6E,UAAP,GAAoB,MAApB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,QAAT,CAAkB9E,MAAlB,EAA0B;EAC7B,IAAI,CAACY,aAAa,CAAC,KAAD,EAAQZ,MAAR,CAAlB,EAAmC;IAC/B;EACH,CAFD,MAGK;IACDA,MAAM,CAACK,KAAP,GAAe,IAAf;IACAL,MAAM,CAAC6E,UAAP,GAAoB,MAApB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,QAAT,CAAkBC,IAAlB,EAAwB;EAC3B,IAAIC,MAAM,GAAGjI,QAAQ,CAAC,QAAD,EAAWgI,IAAX,CAArB;;EACA,IAAI,CAACC,MAAL,EAAa;IACT,OAAOzI,GAAG,CAAC0I,MAAX;EACH;;EACD,IAAIC,WAAW,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,MAAtB,EAA8B,KAA9B,EAAqC,MAArC,EAA6C,KAA7C,EAAoD,KAApD,EAA2D,MAA3D,EAAmE,KAAnE,EAA0E,KAA1E,CAAlB;EACA,IAAIC,WAAW,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,KAAf,EAAsB,KAAtB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,KAA3C,EAAkD,KAAlD,CAAlB;EACA,IAAIC,WAAW,GAAG,CAAC,MAAD,EAAS,KAAT,EAAgB,KAAhB,EAAuB,KAAvB,EAA8B,KAA9B,EAAqC,KAArC,EAA4C,KAA5C,EAAmD,KAAnD,EAA0D,KAA1D,EAAiE,KAAjE,CAAlB;EACA,IAAIC,WAAW,GAAG,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf,EAAuB,IAAvB,EAA6B,KAA7B,EAAoC,KAApC,EAA2C,MAA3C,EAAmD,KAAnD,EAA0D,KAA1D,EAAiE,KAAjE,EAAwE,KAAxE,EAA+E,MAA/E,EAAuF,KAAvF,EACd,MADc,EACN,KADM,EACC,KADD,EACQ,KADR,EACe,KADf,CAAlB;EAEA,IAAIC,QAAQ,GAAGvI,QAAQ,CAAC,MAAD,EAASgI,IAAT,CAAvB;EACAO,QAAQ,GAAGA,QAAQ,CAACC,WAAT,EAAX;;EACA,IAAID,QAAQ,CAACE,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;IAC9BF,QAAQ,GAAGA,QAAQ,CAACG,KAAT,CAAe,GAAf,EAAoBC,IAApB,CAAyB,EAAzB,CAAX;EACH;;EACD,IAAIC,QAAJ;;EACA,IAAIT,WAAW,CAACM,OAAZ,CAAoBF,QAApB,MAAkC,CAAC,CAAvC,EAA0C;IACtCK,QAAQ,GAAGpJ,GAAG,CAACqJ,UAAf;EACH,CAFD,MAGK,IAAIT,WAAW,CAACK,OAAZ,CAAoBF,QAApB,MAAkC,CAAC,CAAvC,EAA0C;IAC3CK,QAAQ,GAAGpJ,GAAG,CAACsJ,UAAf;EACH,CAFI,MAGA,IAAIT,WAAW,CAACI,OAAZ,CAAoBF,QAApB,MAAkC,CAAC,CAAvC,EAA0C;IAC3CK,QAAQ,GAAGpJ,GAAG,CAACuJ,UAAf;EACH,CAFI,MAGA,IAAIT,WAAW,CAACG,OAAZ,CAAoBF,QAApB,MAAkC,CAAC,CAAvC,EAA0C;IAC3CK,QAAQ,GAAG,UAAUL,QAArB;EACH,CAFI,MAGA;IACDK,QAAQ,GAAG,uBAAuBL,QAAlC;EACH;;EACD,OAAOK,QAAP;AACH;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASI,WAAT,CAAqBhG,MAArB,EAA6BiG,IAA7B,EAAmC;EACtC,IAAIC,OAAO,GAAGlG,MAAM,CAACmG,YAAP,CAAoBH,WAApB,GAAkChG,MAAM,CAACmG,YAAP,CAAoBH,WAAtD,GAAoEhG,MAAM,CAACmG,YAAP,CAAoBC,GAAtG;EACA,IAAIC,MAAJ;EACA,IAAIC,QAAQ,GAAGC,kBAAkB,CAACvJ,QAAQ,CAAC,MAAD,EAASiJ,IAAT,CAAT,CAAjC;EACA,IAAIO,KAAK,GAAGxJ,QAAQ,CAAC,YAAD,EAAeiJ,IAAf,CAApB;;EACA,IAAIjG,MAAM,CAACzB,KAAX,EAAkB;IACd,IAAIkI,KAAK,GAAGzJ,QAAQ,CAAC,IAAD,EAAOiJ,IAAP,CAApB;IACAI,MAAM,GAAGH,OAAO,GAAG,QAAV,GAAqBlG,MAAM,CAAC3B,IAA5B,GAAmC,MAAnC,GAA4CoI,KAArD;EACH,CAHD,MAIK,IAAI,CAACtJ,KAAK,CAACqJ,KAAD,CAAV,EAAmB;IACpBH,MAAM,GAAGH,OAAO,GAAG,QAAV,GAAqBM,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,GAArB,CAArB,GAAiDJ,QAA1D;EACH,CAFI,MAGA;IACDD,MAAM,GAAGH,OAAO,GAAG,QAAV,GAAqBlG,MAAM,CAAC3B,IAA5B,GAAmCiI,QAA5C;EACH;;EACDD,MAAM,GAAGA,MAAM,GAAG,QAAT,GAAqB,IAAIM,IAAJ,GAAWC,OAAX,EAAD,CAAuBC,QAAvB,EAA7B;EACA,IAAIC,SAAS,GAAG;IACZC,WAAW,EAAE,CAACd,IAAD,CADD;IAEZe,QAAQ,EAAEX;EAFE,CAAhB;EAIArG,MAAM,CAACiH,OAAP,CAAe,iBAAf,EAAkCH,SAAlC;EACA,OAAOA,SAAS,CAACE,QAAjB;AACH;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,WAAT,CAAqBlH,MAArB,EAA6BlC,IAA7B,EAAmCO,IAAnC,EAAyC;EAC5C,IAAI8I,QAAQ,GAAGnK,QAAQ,CAACgD,MAAM,CAACzB,KAAP,GAAe,IAAf,GAAsB,MAAvB,EAA+BT,IAA/B,CAAR,GAA+C,GAA9D;EACA,IAAI0I,KAAK,GAAGxJ,QAAQ,CAACgD,MAAM,CAACzB,KAAP,GAAe,UAAf,GAA4B,YAA7B,EAA2CT,IAA3C,CAApB;;EACA,IAAI,CAACX,KAAK,CAACqJ,KAAD,CAAV,EAAmB;IACf,OAAOA,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,GAArB,IAA4BS,QAAnC;EACH,CAFD,MAGK;IACD,OAAO9I,IAAI,GAAG8I,QAAd;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,OAAT,CAAiBpH,MAAjB,EAAyBlC,IAAzB,EAA+B;EAClC,IAAIuJ,IAAI,GAAGrK,QAAQ,CAAC,MAAD,EAASc,IAAT,CAAnB;EACA,IAAI0I,KAAK,GAAGxJ,QAAQ,CAAC,YAAD,EAAec,IAAf,CAApB;;EACA,IAAI,CAACkC,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA7C,KAAuD,EAAvD,IAA6D3B,MAAM,CAAC4B,UAArE,KAAoF,CAACzE,KAAK,CAACqJ,KAAD,CAA9F,EAAuG;IACnGA,KAAK,GAAGA,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,GAArB,CAAR;IACAW,IAAI,GAAGb,KAAK,CAACE,OAAN,CAAc1G,MAAM,CAAC3B,IAArB,EAA2B,EAA3B,IAAiCgJ,IAAxC;EACH;;EACD,OAAOA,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,aAAT,CAAuBtH,MAAvB,EAA+B0D,KAA/B,EAAsC;EACzC,IAAIA,KAAK,CAAC1E,MAAN,KAAiB,CAArB,EAAwB;IACpB,OAAO0E,KAAP;EACH;;EACD,IAAI6D,KAAJ;;EACA,IAAIvH,MAAM,CAACwH,SAAP,KAAqB,MAAzB,EAAiC;IAC7BD,KAAK,GAAG,IAAI7J,KAAJ,GAAY+J,MAAZ,CAAmBzH,MAAM,CAACyH,MAA1B,EAAkCzH,MAAM,CAACwH,SAAP,CAAiBhC,WAAjB,EAAlC,EAAkE,IAAlE,EAAwEkC,KAAxE,CAA8E,QAA9E,CAAR;EACH,CAFD,MAGK;IACDH,KAAK,GAAG,IAAI7J,KAAJ,GAAYgK,KAAZ,CAAkB,QAAlB,CAAR;EACH,CAVwC,CAWzC;;;EACA,IAAIC,KAAK,GAAG,IAAIlK,WAAJ,CAAgBiG,KAAhB,EAAuBkE,YAAvB,CAAoCL,KAApC,CAAZ;EACA,OAAOvK,QAAQ,CAAC,SAAD,EAAY2K,KAAZ,CAAf;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,SAAT,CAAmB7H,MAAnB,EAA2BC,GAA3B,EAAgC0B,KAAhC,EAAuC;EAC1C;EACA,IAAImG,SAAS,GAAG9K,QAAQ,CAACgD,MAAM,CAACxB,MAAP,CAAcwB,MAAM,CAACxB,MAAP,CAAcQ,MAAd,GAAuB,CAArC,CAAD,EAA0CgB,MAAM,CAAC+H,OAAjD,CAAxB;EACA,IAAIR,KAAK,GAAG,IAAI7J,KAAJ,GAAYsK,KAAZ,CAAkB/H,GAAlB,EAAuB,OAAvB,EAAgC0B,KAAhC,CAAZ,CAH0C,CAI1C;;EACA,IAAIgG,KAAK,GAAG,IAAIlK,WAAJ,CAAgBqK,SAAhB,EAA2BF,YAA3B,CAAwCL,KAAxC,CAAZ;EACA,OAAOI,KAAK,CAAC,CAAD,CAAZ;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASM,kBAAT,CAA4BjI,MAA5B,EAAoCpB,OAApC,EAA6CgE,IAA7C,EAAmD;EACtD,IAAIsF,GAAJ;EACA,IAAIC,aAAa,GAAG9K,MAAM,CAAC,MAAM2C,MAAM,CAACpB,OAAP,CAAeX,EAArB,GAA0BzB,GAAG,CAAC4L,SAA/B,EAA0CpI,MAAM,CAACpB,OAAjD,CAA1B;EACA,IAAIyJ,gBAAgB,GAAGhL,MAAM,CAAC,MAAM2C,MAAM,CAACpB,OAAP,CAAeX,EAArB,GAA0BzB,GAAG,CAAC8L,gBAA/B,EAAiDH,aAAjD,CAAN,CAAsEI,YAA7F;EACAL,GAAG,GAAGC,aAAa,CAACI,YAAd,GAA6BF,gBAAnC;;EACA,IAAIrI,MAAM,CAAC4D,IAAP,KAAgB,SAApB,EAA+B;IAC3BsE,GAAG,GAAGA,GAAG,GAAG7K,MAAM,CAAC,MAAMb,GAAG,CAACgM,WAAX,EAAwBL,aAAxB,CAAN,CAA6CI,YAAzD;EACH;;EACD,IAAIpL,KAAK,CAACyB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACkM,KAAhC,CAAD,CAAT,EAAmD;IAC/C,IAAIC,QAAQ,GAAGrL,aAAa,CAAC,KAAD,EAAQ;MAAEsL,SAAS,EAAEpM,GAAG,CAACkM;IAAjB,CAAR,CAA5B;IACA,IAAIG,WAAW,GAAGvL,aAAa,CAAC,KAAD,EAAQ;MAAEsL,SAAS,EAAEpM,GAAG,CAACsM;IAAjB,CAAR,CAA/B;IACA,IAAIC,QAAQ,GAAGzL,aAAa,CAAC,KAAD,EAAQ;MAAEsL,SAAS,EAAEpM,GAAG,CAACwM;IAAjB,CAAR,CAA5B;IACA,IAAIC,QAAQ,GAAG3L,aAAa,CAAC,KAAD,EAAQ;MAAEsL,SAAS,EAAEpM,GAAG,CAAC0M;IAAjB,CAAR,CAA5B;;IACA,IAAIlJ,MAAM,CAAC4D,IAAP,KAAgB,SAApB,EAA+B;MAC3BhF,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAAC2M,SAAhC,EAA2CC,WAA3C,CAAuDT,QAAvD;IACH,CAFD,MAGK;MACD/J,OAAO,CAACwK,WAAR,CAAoBT,QAApB;IACH;;IACDA,QAAQ,CAACS,WAAT,CAAqBP,WAArB;IACAF,QAAQ,CAACS,WAAT,CAAqBL,QAArB;IACAJ,QAAQ,CAACS,WAAT,CAAqBH,QAArB;EACH;;EACD,IAAIrK,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACkM,KAAhC,CAAJ,EAA4C;IACxC,IAAI,CAACvL,KAAK,CAACyF,IAAI,CAACyG,KAAN,CAAV,EAAwB;MACpBzK,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACwM,aAAhC,EAA+CM,SAA/C,GAA2DC,aAAa,CAACvJ,MAAD,EAAS,eAAT,CAAxE;MACApB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAAC0M,mBAAhC,EAAqDI,SAArD,GAAiEC,aAAa,CAACvJ,MAAD,EAAS,gBAAT,CAA9E;IACH,CAHD,MAIK,IAAIA,MAAM,CAAC4B,UAAX,EAAuB;MACxBhD,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACwM,aAAhC,EAA+CM,SAA/C,GAA2DC,aAAa,CAACvJ,MAAD,EAAS,cAAT,CAAxE;MACApB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAAC0M,mBAAhC,EAAqDI,SAArD,GAAiEC,aAAa,CAACvJ,MAAD,EAAS,YAAT,CAA9E;IACH,CAHI,MAIA,IAAIA,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA7C,KAAuD,EAA3D,EAA+D;MAChE/C,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACwM,aAAhC,EAA+CM,SAA/C,GAA2DC,aAAa,CAACvJ,MAAD,EAAS,cAAT,CAAxE;MACApB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAAC0M,mBAAhC,EAAqDI,SAArD,GAAiEC,aAAa,CAACvJ,MAAD,EAAS,YAAT,CAA9E;IACH,CAHI,MAIA;MACDpB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAACwM,aAAhC,EAA+CM,SAA/C,GAA2DC,aAAa,CAACvJ,MAAD,EAAS,cAAT,CAAxE;MACApB,OAAO,CAAC6J,aAAR,CAAsB,MAAMjM,GAAG,CAAC0M,mBAAhC,EAAqDI,SAArD,GAAiEC,aAAa,CAACvJ,MAAD,EAAS,aAAT,CAA9E;IACH;EACJ;;EACD,IAAIwJ,IAAI,GAAGnM,MAAM,CAAC,MAAMb,GAAG,CAACkM,KAAX,EAAkB9J,OAAlB,CAAjB;EACAsJ,GAAG,GAAG,CAACA,GAAG,GAAGsB,IAAI,CAACjB,YAAZ,IAA4B,CAAlC;EACAiB,IAAI,CAACC,KAAL,CAAWC,SAAX,GAAuBxB,GAAG,GAAG,IAA7B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyB,cAAT,CAAwBnG,KAAxB,EAA+B;EAClC,OAAO,IAAI/F,WAAJ,CAAgB+F,KAAhB,EAAuBoE,YAAvB,CAAoC,IAAIlK,KAAJ,GAAYsK,KAAZ,CAAkBvL,MAAM,CAACwI,MAAzB,EAAiC,OAAjC,EAA0C,KAA1C,EAAiD,KAAjD,CAApC,CAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS2E,SAAT,CAAmBC,MAAnB,EAA2BC,MAA3B,EAAmC;EACtC;EACA,IAAIC,IAAI,GAAGJ,cAAc,CAACE,MAAM,CAACrG,KAAR,CAAzB;;EACA,KAAK,IAAIvE,CAAC,GAAG,CAAR,EAAWF,GAAG,GAAGgL,IAAI,CAAC/K,MAA3B,EAAmCC,CAAC,GAAGF,GAAvC,EAA4CE,CAAC,EAA7C,EAAiD;IAC7ChC,QAAQ,CAAC,QAAD,EAAW6M,MAAM,GAAG,GAAT,GAAe7K,CAA1B,EAA6B8K,IAAI,CAAC9K,CAAD,CAAjC,CAAR;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+K,aAAT,CAAuBpH,IAAvB,EAA6B;EAChC,KAAK,IAAI3D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG2D,IAAI,CAAC5D,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;IAClChC,QAAQ,CAAC,aAAD,EAAgB,IAAI0J,IAAJ,CAAS3J,QAAQ,CAAC,aAAD,EAAgB4F,IAAI,CAAC3D,CAAD,CAApB,CAAjB,CAAhB,EAA4D2D,IAAI,CAAC3D,CAAD,CAAhE,CAAR;IACAhC,QAAQ,CAAC,cAAD,EAAiB,IAAI0J,IAAJ,CAAS3J,QAAQ,CAAC,cAAD,EAAiB4F,IAAI,CAAC3D,CAAD,CAArB,CAAjB,CAAjB,EAA8D2D,IAAI,CAAC3D,CAAD,CAAlE,CAAR;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASsK,aAAT,CAAuBvJ,MAAvB,EAA+BhC,IAA/B,EAAqC;EACxC,IAAIiM,MAAM,GAAGjK,MAAM,CAACkK,SAAP,CAAiBC,WAAjB,CAA6BnM,IAA7B,CAAb;EACA,OAAQiM,MAAM,KAAK,EAAZ,GAAkBjM,IAAlB,GAAyBiM,MAAhC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,WAAT,CAAqBpK,MAArB,EAA6BqK,GAA7B,EAAkC;EACrC,IAAIC,QAAQ,GAAGtK,MAAM,CAACsK,QAAtB;EACAA,QAAQ,GAAInN,KAAK,CAACmN,QAAD,CAAL,IAAmBA,QAAQ,KAAK,EAAjC,GAAuCD,GAAvC,GAA8CC,QAAQ,GAAG,GAAX,GAAiBD,GAA1E;EACA,OAAOC,QAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,kBAAT,CAA4BvK,MAA5B,EAAoC4C,IAApC,EAA0C;EAC7C,IAAI4H,IAAJ;EACAxK,MAAM,CAACuD,eAAP,GAAyB,IAAzB;;EACA,IAAIX,IAAI,CAACqD,IAAL,CAAUhI,EAAV,CAAawH,OAAb,CAAqB,WAArB,MAAsC,CAAC,CAAvC,IAA4C7C,IAAI,CAACqD,IAAL,CAAUhI,EAAV,CAAawH,OAAb,CAAqB,YAArB,MAAuC,CAAC,CAApF,IAAyF7C,IAAI,CAACqD,IAAL,CAAUhI,EAAV,CAAawH,OAAb,CAAqB,MAArB,MAAiC,CAAC,CAA/H,EAAkI;IAC9H+E,IAAI,GAAG,IAAP;EACH,CAFD,MAGK;IACDA,IAAI,GAAG,KAAP;EACH;;EACD,IAAI,CAACA,IAAL,EAAW;IACPxK,MAAM,CAACyH,MAAP,GAAgBgD,YAAY,CAAC7H,IAAI,CAACqD,IAAL,CAAUhI,EAAX,CAA5B;EACH,CAFD,MAGK;IACD+B,MAAM,CAACwH,SAAP,GAAmBiD,YAAY,CAAC7H,IAAI,CAACqD,IAAL,CAAUhI,EAAX,CAA/B;EACH;;EACD+B,MAAM,CAAC+C,QAAP,GAAkB,CAACC,aAAa,CAAChD,MAAD,CAAd,CAAlB;;EACA,IAAIA,MAAM,CAAC4D,IAAP,KAAgB,SAApB,EAA+B;IAC3B,IAAI5D,MAAM,CAAC0K,QAAX,EAAqB;MACjB/G,YAAY,CAAC3D,MAAD,EAAS,SAAT,CAAZ;IACH,CAFD,MAGK;MACDA,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACkO,UAArB,EAAiC;QAAEC,MAAM,EAAE;MAAV,CAAjC;IACH;EACJ;;EACD,IAAI5K,MAAM,CAAC4D,IAAP,KAAgB,YAApB,EAAkC;IAC9BD,YAAY,CAAC3D,MAAD,EAAS,YAAT,CAAZ;EACH;;EACDA,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACoO,YAArB,EAAmC,EAAnC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASJ,YAAT,CAAsBxM,EAAtB,EAA0B;EAC7B,IAAID,IAAI,GAAGC,EAAE,CAAC6M,SAAH,CAAa7M,EAAE,CAAC8M,WAAH,CAAe,GAAf,IAAsB,CAAnC,CAAX;EACA,IAAIC,KAAK,GAAGhN,IAAZ;;EACA,QAAQA,IAAR;IACI,KAAK,MAAL;MACIgN,KAAK,GAAG,cAAR;MACA;;IACJ,KAAK,WAAL;MACIA,KAAK,GAAG,WAAR;MACA;;IACJ,KAAK,YAAL;MACIA,KAAK,GAAG,YAAR;MACA;;IACJ,KAAK,MAAL;MACIA,KAAK,GAAG,MAAR;MACA;EAZR;;EAcA,OAAOA,KAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,WAAT,CAAqBjL,MAArB,EAA6B3B,IAA7B,EAAmC;EACtC,IAAI6M,WAAW,GAAG7M,IAAI,CAACqH,KAAL,CAAW,GAAX,CAAlB;EACA,IAAIyF,OAAO,GAAGnL,MAAM,CAACoL,YAAP,CAAoB1F,KAApB,CAA0B,GAA1B,CAAd,CAFsC,CAGtC;;EACA,IAAI2F,IAAI,GAAGrO,QAAQ,CAACgD,MAAM,CAACxB,MAAP,CAAc,CAAd,CAAD,EAAmBwB,MAAM,CAACG,QAA1B,CAAnB;EACA,IAAIF,GAAG,GAAG9C,KAAK,CAACH,QAAQ,CAAC,IAAD,EAAOqO,IAAP,CAAT,CAAL,GAA8B,MAA9B,GAAuC,IAAjD;;EACA,KAAK,IAAIpM,CAAC,GAAGiM,WAAW,CAAClM,MAAZ,GAAqB,CAA7B,EAAgCD,GAAG,GAAGoM,OAAO,CAACnM,MAAR,GAAiB,CAA5D,EAA+DC,CAAC,GAAGF,GAAnE,EAAwEE,CAAC,EAAzE,EAA6E;IACzE,IAAIqM,SAAS,GAAIH,OAAO,CAAClM,CAAC,GAAG,CAAL,CAAP,KAAmB,EAApB,GAA0BxC,MAAM,CAAC8O,WAAjC,GAA+C9O,MAAM,CAAC+O,UAAtE;IACA,IAAItL,OAAO,GAAIiL,OAAO,CAAClM,CAAD,CAAP,KAAe,EAAhB,GAAsB,GAAtB,GAA6Be,MAAM,CAAC3B,IAAP,GAAc8M,OAAO,CAAClM,CAAD,CAArB,GAA2B,GAAtE,CAFyE,CAGzE;;IACA,IAAInB,IAAI,GAAG+J,SAAS,CAAC7H,MAAD,EAASC,GAAT,EAAckL,OAAO,CAAClM,CAAD,CAArB,CAApB;IACA,IAAIhB,EAAE,GAAGjB,QAAQ,CAAC,QAAD,EAAWc,IAAX,CAAjB;IACAkC,MAAM,CAAC5B,aAAP,CAAqB;MAAEC,IAAI,EAAE6B;IAAR,CAArB,EAAwC,IAAxC;IACAF,MAAM,CAACxB,MAAP,CAAcW,IAAd,CAAmBlB,EAAnB;IACA+B,MAAM,CAAC+C,QAAP,GAAkB,CAACjF,IAAD,CAAlB;IACAkC,MAAM,CAACtB,SAAP,CAAiBS,IAAjB,CAAsBnC,QAAQ,CAAC,MAAD,EAASc,IAAT,CAA9B;IACApB,IAAI,CAACsD,MAAD,EAASsL,SAAT,EAAoBtL,MAAM,CAAC3B,IAA3B,CAAJ;IACA;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASoN,gBAAT,CAA0BzL,MAA1B,EAAkClC,IAAlC,EAAwC;EAC3CkC,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACiP,aAArB,EAAoC;IAAEC,YAAY,EAAE3L,MAAM,CAACxB,MAAP,CAAcwB,MAAM,CAACxB,MAAP,CAAcQ,MAAd,GAAuB,CAArC;EAAhB,CAApC;EACAgB,MAAM,CAACoL,YAAP,GAAsBlE,WAAW,CAAClH,MAAD,EAASlC,IAAT,EAAekC,MAAM,CAAC3B,IAAtB,CAAjC;EACA3B,IAAI,CAACsD,MAAD,EAAUA,MAAM,CAAC3B,IAAP,KAAgB2B,MAAM,CAACoL,YAAxB,GAAwC3O,MAAM,CAAC+O,UAA/C,GAA4D/O,MAAM,CAAC8O,WAA5E,EAAyFvL,MAAM,CAAC3B,IAAhG,CAAJ;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASuN,YAAT,CAAsB5L,MAAtB,EAA8B;EACjCA,MAAM,CAAC6L,UAAP,GAAoB,KAApB;;EACA,IAAI7L,MAAM,CAACO,aAAP,CAAqBvB,MAArB,KAAgC,CAAhC,IAAqCgB,MAAM,CAACS,WAAhD,EAA6D;IACzD,IAAIpC,IAAI,GAAI2B,MAAM,CAAC8L,UAAP,KAAsB,EAAvB,GAA6B9L,MAAM,CAAC3B,IAApC,GAA2C2B,MAAM,CAAC8L,UAA7D,CADyD,CAEzD;;IACA,IAAIC,SAAS,GAAGC,iBAAiB,CAAChM,MAAD,EAASA,MAAM,CAACQ,aAAhB,EAA+BnC,IAA/B,EAAqC2B,MAAM,CAAC3B,IAA5C,CAAjC;;IACA,IAAI,CAAC0N,SAAL,EAAgB;MACZ,IAAK/L,MAAM,CAAC6E,UAAP,KAAsB,MAAtB,IAAgC7E,MAAM,CAACmB,UAAP,KAAsB9C,IAAvD,IAAgE2B,MAAM,CAAC6E,UAAP,KAAsB,MAA1F,EAAkG;QAC9F7E,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACwP,SAArB,EAAgC,EAAhC;QACAtP,KAAK,CAACqD,MAAD,EAASA,MAAM,CAACmB,UAAhB,EAA4BnB,MAAM,CAACO,aAAnC,EAAkDlC,IAAlD,EAAwD2B,MAAM,CAAC6E,UAA/D,EAA2E,EAA3E,EAA+E7E,MAAM,CAACQ,aAAtF,CAAL;MACH,CAHD,MAIK;QACDR,MAAM,CAACS,WAAP,GAAqB,KAArB;QACAT,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACkE,SAArB,EAAgC,EAAhC;QACAL,UAAU,CAACN,MAAD,CAAV;MACH;IACJ;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASgM,iBAAT,CAA2BhM,MAA3B,EAAmClC,IAAnC,EAAyCoO,QAAzC,EAAmDC,QAAnD,EAA6D;EAChE,IAAIJ,SAAS,GAAG,KAAhB;;EACA,KAAK,IAAI9M,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,IAAI,CAACkB,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;IAClC,IAAI,CAACjC,QAAQ,CAAC,QAAD,EAAWc,IAAI,CAACmB,CAAD,CAAf,CAAb,EAAkC;MAC9B,IAAImN,UAAU,GAAGlF,WAAW,CAAClH,MAAD,EAASlC,IAAI,CAACmB,CAAD,CAAb,EAAkBkN,QAAlB,CAA5B;;MACA,IAAID,QAAQ,CAACzG,OAAT,CAAiB2G,UAAjB,MAAiC,CAArC,EAAwC;QACpC,IAAIvC,MAAM,GAAG;UACTrG,KAAK,EAAE,IADE;UAET6F,KAAK,EAAE;YACHgD,IAAI,EAAE,KADH;YAEHC,OAAO,EAAE/C,aAAa,CAACvJ,MAAD,EAAS,kBAAT,CAFnB;YAGHuM,UAAU,EAAE;UAHT;QAFE,CAAb;QAQA5O,YAAY,CAACqC,MAAD,EAAS,OAAT,EAAkB6J,MAAlB,CAAZ;QACAkC,SAAS,GAAG,IAAZ;QACA;MACH;IACJ,CAfD,MAgBK;MACD,IAAIS,OAAO,GAAGxM,MAAM,CAACyM,SAAP,CAAiBxN,CAAjB,CAAd;MACA,IAAIF,GAAG,GAAG,CAAV;;MACA,IAAIyN,OAAJ,EAAa;QACTzN,GAAG,GAAGyN,OAAO,CAACzB,WAAR,CAAoB,GAApB,CAAN;MACH;;MACD,IAAI1M,IAAI,GAAG,EAAX;;MACA,IAAIU,GAAG,GAAG,CAAV,EAAa;QACTV,IAAI,GAAG8N,QAAQ,GAAGK,OAAO,CAAC1B,SAAR,CAAkB,CAAlB,EAAqB/L,GAAG,GAAG,CAA3B,CAAlB;MACH;;MACD,IAAIV,IAAI,KAAK6N,QAAb,EAAuB;QACnB,IAAIrC,MAAM,GAAG;UACTrG,KAAK,EAAE,IADE;UAET6F,KAAK,EAAE;YACHgD,IAAI,EAAE,KADH;YAEHC,OAAO,EAAE/C,aAAa,CAACvJ,MAAD,EAAS,mBAAT,CAFnB;YAGHuM,UAAU,EAAE;UAHT;QAFE,CAAb;QAQA5O,YAAY,CAACqC,MAAD,EAAS,OAAT,EAAkB6J,MAAlB,CAAZ;QACAkC,SAAS,GAAG,IAAZ;QACA;MACH;IACJ;EACJ;;EACD,OAAOA,SAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASW,WAAT,CAAqB1M,MAArB,EAA6B;EAChCA,MAAM,CAAC6L,UAAP,GAAoB,IAApB;;EACA,IAAI7L,MAAM,CAAC2M,QAAP,CAAgB3N,MAAhB,KAA2B,CAA/B,EAAkC;IAC9BgB,MAAM,CAACmM,QAAP,GAAkBnM,MAAM,CAACmM,QAAP,CAAgBzF,OAAhB,CAAwB,KAAxB,EAA+B,GAA/B,CAAlB;IACA1G,MAAM,CAACkM,QAAP,GAAkBlM,MAAM,CAACkM,QAAP,CAAgBxF,OAAhB,CAAwB,KAAxB,EAA+B,GAA/B,CAAlB;IACA,IAAIqF,SAAS,GAAGC,iBAAiB,CAAChM,MAAD,EAASA,MAAM,CAAC2M,QAAhB,EAA0B3M,MAAM,CAACkM,QAAjC,EAA2ClM,MAAM,CAACmM,QAAlD,CAAjC;;IACA,IAAI,CAACJ,SAAD,IAAe/L,MAAM,CAACmM,QAAP,KAAoBnM,MAAM,CAACkM,QAA9C,EAAyD;MACrDlM,MAAM,CAAC+C,QAAP,GAAkB,CAAC/C,MAAM,CAAC4M,QAAR,CAAlB;MACAjQ,KAAK,CAACqD,MAAD,EAASA,MAAM,CAACmM,QAAhB,EAA0BnM,MAAM,CAACyM,SAAjC,EAA4CzM,MAAM,CAACkM,QAAnD,EAA6D,MAA7D,EAAqE,EAArE,EAAyElM,MAAM,CAAC2M,QAAhF,CAAL;MACA3M,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACwP,SAArB,EAAgC,EAAhC;IACH;EACJ;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS7K,aAAT,CAAuByL,OAAvB,EAAgC;EACnC,IAAIxO,IAAI,GAAGwO,OAAO,CAACnH,KAAR,CAAc,GAAd,CAAX;EACA,IAAIxF,OAAO,GAAG7B,IAAI,CAAC,CAAD,CAAJ,GAAU,GAAxB;;EACA,KAAK,IAAIY,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGZ,IAAI,CAACW,MAAL,GAAc,CAAlC,EAAqCC,CAAC,EAAtC,EAA0C;IACtCiB,OAAO,IAAI7B,IAAI,CAACY,CAAD,CAAJ,GAAU,GAArB;EACH;;EACD,OAAOiB,OAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS4M,gBAAT,CAA0B9M,MAA1B,EAAkC4C,IAAlC,EAAwC;EAC3C,IAAIuE,QAAQ,GAAGnK,QAAQ,CAACgD,MAAM,CAACzB,KAAP,GAAe,IAAf,GAAsB,MAAvB,EAA+BqE,IAAI,CAACmK,GAApC,CAAR,GAAmD,GAAlE;EACA,IAAIvG,KAAK,GAAGxJ,QAAQ,CAACgD,MAAM,CAACzB,KAAP,GAAe,UAAf,GAA4B,YAA7B,EAA2CqE,IAAI,CAACmK,GAAhD,CAApB;;EACA,IAAI,CAAC5P,KAAK,CAACqJ,KAAD,CAAV,EAAmB;IACf,IAAIA,KAAK,KAAK,EAAd,EAAkB;MACd,OAAOxG,MAAM,CAACzB,KAAP,GAAe4I,QAAf,GAA0B,GAAjC;IACH;;IACD,OAAOX,KAAK,CAACE,OAAN,CAAc,KAAd,EAAqB,GAArB,IAA4BS,QAAnC;EACH,CALD,MAMK;IACD,OAAOnH,MAAM,CAAC3B,IAAP,GAAc8I,QAArB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS6F,aAAT,CAAuBhN,MAAvB,EAA+BiN,SAA/B,EAA0CpD,MAA1C,EAAkD;EACrD,IAAIoD,SAAS,KAAK,MAAlB,EAA0B;IACtB,IAAI,CAACjN,MAAM,CAAC6L,UAAZ,EAAwB;MACpB7L,MAAM,CAACS,WAAP,GAAqB,KAArB;MACAT,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACkE,SAArB,EAAgC,EAAhC;MACAX,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACyQ,MAArB,EAA6BrD,MAA7B;IACH,CAJD,MAKK;MACD7J,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAAC0Q,OAArB,EAA8BtD,MAA9B;IACH;EACJ;;EACD,IAAI7J,MAAM,CAACoN,cAAP,CAAsBpO,MAAtB,KAAiC,CAArC,EAAwC;IACpCgB,MAAM,CAACqN,UAAP,GAAoB,EAApB;EACH;;EACD,IAAIC,IAAI,GAAG,KAAX;;EACA,KAAK,IAAIC,KAAK,GAAG,CAAjB,EAAqBA,KAAK,GAAG1D,MAAM,CAACrG,KAAP,CAAaxE,MAAtB,IAAiC,CAACsO,IAAtD,EAA4DC,KAAK,EAAjE,EAAqE;IACjEvN,MAAM,CAACqN,UAAP,CAAkBlO,IAAlB,CAAuB0K,MAAM,CAACrG,KAAP,CAAa+J,KAAb,EAAoBvN,MAAM,CAACzB,KAAP,GAAe,IAAf,GAAsB,MAA1C,CAAvB;;IACA,IAAIyB,MAAM,CAAC6L,UAAX,EAAuB;MACnB7L,MAAM,CAACwN,cAAP,CAAsBrO,IAAtB,CAA2B0K,MAAM,CAACrG,KAAP,CAAa+J,KAAb,CAA3B;IACH;EACJ;;EACDvN,MAAM,CAACoN,cAAP,GAAwB,EAAxB;EACApN,MAAM,CAACyN,gBAAP,GAA0B,EAA1B;;EACA,IAAIzN,MAAM,CAAC6L,UAAP,IAAqB,CAAC7L,MAAM,CAAC0N,YAAjC,EAA+C;IAC3C1N,MAAM,CAAC2N,SAAP,GAAmB,IAAnB;EACH,CAFD,MAGK;IACD3N,MAAM,CAAC2N,SAAP,GAAmB,KAAnB;EACH;;EACD,IAAI,CAAC3N,MAAM,CAAC6L,UAAR,IAAuB7L,MAAM,CAAC3B,IAAP,KAAgB2B,MAAM,CAACmM,QAA9C,IAA4DnM,MAAM,CAAC3B,IAAP,KAAgB2B,MAAM,CAACkM,QAAnF,IACGlM,MAAM,CAAC4N,YADd,EAC4B;IACxB5N,MAAM,CAAC6N,UAAP,GAAoB,KAApB;IACAnR,IAAI,CAACsD,MAAD,EAASvD,MAAM,CAACqR,QAAhB,EAA0B9N,MAAM,CAAC3B,IAAjC,CAAJ;EACH,CAJD,MAKK;IACD0P,YAAY,CAAC/N,MAAD,CAAZ;EACH;;EACDA,MAAM,CAACiH,OAAP,CAAe,SAAf,EAA0B;IAAEpG,MAAM,EAAEoM,SAAV;IAAqBpD,MAAM,EAAEA;EAA7B,CAA1B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkE,YAAT,CAAsB/N,MAAtB,EAA8B;EACjC,IAAIxB,MAAM,GAAGxB,QAAQ,CAAC,QAAD,EAAWgD,MAAM,CAAC4M,QAAlB,CAArB;EACA5M,MAAM,CAACgO,UAAP,GAAoBxP,MAApB;EACAwB,MAAM,CAAC+C,QAAP,GAAkB,CAAC/C,MAAM,CAAC4M,QAAR,CAAlB;;EACA,IAAI5M,MAAM,CAAC6N,UAAX,EAAuB;IACnB7N,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACwR,QAArB,EAA+BjO,MAAM,CAAC+C,QAAtC;EACH,CAFD,MAGK;IACD,IAAI/C,MAAM,CAACkO,oBAAX,EAAiC;MAC7B,IAAIrQ,IAAI,GAAGR,MAAM,CAAC,gBAAgBmB,MAAhB,GAAyB,IAA1B,EAAgCwB,MAAM,CAACkO,oBAAP,CAA4BC,OAA5B,CAAoCvP,OAApE,CAAjB;MACAhB,UAAU,CAACC,IAAD,EAAOmC,MAAM,CAAC4M,QAAd,EAAwB5M,MAAxB,CAAV;IACH;;IACDtD,IAAI,CAACsD,MAAD,EAASvD,MAAM,CAACyP,QAAhB,EAA0BlM,MAAM,CAACkM,QAAjC,CAAJ;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkC,gBAAT,CAA0BpO,MAA1B,EAAkCqH,IAAlC,EAAwC;EAC3C;EACA,IAAIvJ,IAAI,GAAG,IAAX,CAF2C,CAG3C;;EACA,IAAIuQ,OAAO,GAAGrO,MAAM,CAAC6L,UAAP,GAAoB7L,MAAM,CAAC2M,QAA3B,GAAsC3M,MAAM,CAACQ,aAA3D;;EACA,KAAK,IAAIvB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGoP,OAAO,CAACrP,MAA5B,EAAoCC,CAAC,EAArC,EAAyC;IACrC,IAAIjC,QAAQ,CAAC,MAAD,EAASqR,OAAO,CAACpP,CAAD,CAAhB,CAAR,KAAiCoI,IAArC,EAA2C;MACvCvJ,IAAI,GAAGuQ,OAAO,CAACpP,CAAD,CAAd;MACA;IACH;EACJ;;EACD,OAAOnB,IAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwQ,wBAAT,CAAkCtO,MAAlC,EAA0C;EAC7CA,MAAM,CAAC4N,YAAP,GAAsB,KAAtB;;EACA,IAAI5N,MAAM,CAACyB,mBAAP,CAA2BC,SAA3B,CAAqC9C,OAArC,CAA6C+C,KAA7C,KAAuD,EAA3D,EAA+D;IAC3D3B,MAAM,CAAC4N,YAAP,GAAsB,IAAtB;EACH;;EACD,IAAI5N,MAAM,CAACkB,YAAP,KAAwB,gBAA5B,EAA8C;IAC1ClB,MAAM,CAACyM,SAAP,GAAmB,EAAnB;IACA,IAAIxN,CAAC,GAAG,CAAR;;IACA,OAAOA,CAAC,GAAGe,MAAM,CAAC8B,aAAP,CAAqB9C,MAAhC,EAAwC;MACpCgB,MAAM,CAACyM,SAAP,CAAiBtN,IAAjB,CAAsBa,MAAM,CAAC8B,aAAP,CAAqB7C,CAArB,CAAtB;MACAA,CAAC;IACJ;;IACD,IAAIe,MAAM,CAAC8B,aAAP,CAAqB9C,MAArB,KAAgC,CAAhC,IAAqCgB,MAAM,CAAC2M,QAA5C,IAAwD3M,MAAM,CAAC2M,QAAP,CAAgB3N,MAAhB,KAA2B,CAAvF,EAA0F;MACtFgB,MAAM,CAACyM,SAAP,CAAiBtN,IAAjB,CAAsBoP,WAAW,CAACvO,MAAD,EAASA,MAAM,CAAC2M,QAAP,CAAgB,CAAhB,CAAT,CAAjC;IACH;EACJ;;EACD,IAAI6B,SAAS,GAAGxO,MAAM,CAAC1C,aAAP,CAAqB,KAArB,EAA4B;IACxCsL,SAAS,EAAE,eAAe7D,QAAQ,CAAC/E,MAAM,CAAC2M,QAAP,CAAgB,CAAhB,CAAD;EADM,CAA5B,CAAhB;EAGA,IAAI8B,SAAS,GAAGzO,MAAM,CAAC1C,aAAP,CAAqB,KAArB,EAA4B;IACxCsL,SAAS,EAAE,WAD6B;IAExCU,SAAS,EAAEtJ,MAAM,CAAC2M,QAAP,CAAgB,CAAhB,EAAmBtF;EAFU,CAA5B,CAAhB;EAIA,IAAIqH,UAAU,GAAG1O,MAAM,CAAC1C,aAAP,CAAqB,KAArB,EAA4B;IACzCsL,SAAS,EAAE;EAD8B,CAA5B,CAAjB;EAGA8F,UAAU,CAACtF,WAAX,CAAuBoF,SAAvB;EACAE,UAAU,CAACtF,WAAX,CAAuBqF,SAAvB;EACA,IAAIE,GAAG,GAAG3O,MAAM,CAAC1C,aAAP,CAAqB,KAArB,EAA4B;IAClCsL,SAAS,EAAEpM,GAAG,CAACoS;EADmB,CAA5B,CAAV;EAGAD,GAAG,CAACvF,WAAJ,CAAgBsF,UAAhB;;EACA,IAAI1O,MAAM,CAACyM,SAAP,CAAiBzN,MAAjB,GAA0B,CAA9B,EAAiC;IAC7B,IAAI6P,KAAK,GAAG7O,MAAM,CAAC1C,aAAP,CAAqB,MAArB,EAA6B;MACrCsL,SAAS,EAAE,YAD0B;MAErCU,SAAS,EAAGtJ,MAAM,CAACyM,SAAP,CAAiBzN,MAAlB,CAA0B6H,QAA1B,CAAmC,EAAnC;IAF0B,CAA7B,CAAZ;IAIA8H,GAAG,CAACvF,WAAJ,CAAgByF,KAAhB;EACH;;EACD7O,MAAM,CAAC8O,kBAAP,GAA4BH,GAA5B;EACA3O,MAAM,CAACpB,OAAP,CAAewK,WAAf,CAA2BpJ,MAAM,CAAC8O,kBAAlC;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,eAAT,CAAyB/O,MAAzB,EAAiC4C,IAAjC,EAAuC;EAC1C,IAAIoM,QAAQ,GAAGpM,IAAf;EACAoM,QAAQ,CAACC,MAAT,GAAkB,KAAlB;;EACA,IAAIjP,MAAM,CAACkP,eAAP,IAA0B,IAA9B,EAAoC;IAChCC,MAAM,CAACC,YAAP,CAAoBpP,MAAM,CAACkP,eAA3B;IACAlP,MAAM,CAACkP,eAAP,GAAyB,IAAzB;EACH;;EACDG,gBAAgB,CAACrP,MAAD,CAAhB;EACAA,MAAM,CAACpB,OAAP,CAAegB,SAAf,CAAyByC,MAAzB,CAAgC,WAAhC,EAA6C,WAA7C;EACA/B,UAAU,CAACN,MAAD,CAAV;EACAA,MAAM,CAACsP,SAAP,CAAiBC,QAAjB,GAA4BlS,MAAM,CAAC,MAAM2C,MAAM,CAACpB,OAAP,CAAeX,EAArB,GAA0BzB,GAAG,CAACgT,UAA/B,EAA2CxP,MAAM,CAACpB,OAAlD,CAAlC;EACA,IAAI8P,UAAU,GAAGrR,MAAM,CAAC,MAAMb,GAAG,CAACoS,KAAX,EAAkB5O,MAAM,CAACpB,OAAzB,CAAvB;;EACA,IAAI8P,UAAJ,EAAgB;IACZlR,MAAM,CAACkR,UAAD,CAAN;EACH;;EACD5K,eAAe,CAAC9D,MAAD,EAAS4C,IAAI,CAAC6M,MAAd,CAAf;EACAzP,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAACiT,QAArB,EAA+B9M,IAA/B;EACAtC,UAAU,CAACN,MAAD,EAAS,OAAT,CAAV;EACAgP,QAAQ,CAACjI,WAAT,GAAuB/G,MAAM,CAAC2M,QAA9B;EACA3M,MAAM,CAACiH,OAAP,CAAe,cAAf,EAA+B+H,QAA/B,EAAyC,UAAUA,QAAV,EAAoB;IACzD,IAAI,CAACA,QAAQ,CAACC,MAAV,IAAoB,CAAC9R,KAAK,CAAC6C,MAAM,CAACoE,YAAR,CAA1B,IAAmDpE,MAAM,CAACoE,YAAP,KAAwB,EAA3E,IAAiFpE,MAAM,CAAC2P,SAAP,GAAmB,CAAxG,EAA2G;MACvGjD,WAAW,CAAC1M,MAAD,CAAX;IACH;;IACDA,MAAM,CAAC2P,SAAP,GAAmB,CAAnB;EACH,CALD;AAMH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0B5P,MAA1B,EAAkC4C,IAAlC,EAAwCiN,OAAxC,EAAiD;EACpD,IAAIb,QAAQ,GAAGpM,IAAf;EACAoM,QAAQ,CAACC,MAAT,GAAkB,KAAlB;EACAD,QAAQ,CAACjI,WAAT,GAAuB/G,MAAM,CAAC2M,QAA9B;EACA3M,MAAM,CAAC2P,SAAP,GAAmB,CAAnB;EACA3P,MAAM,CAACwN,cAAP,GAAwB,EAAxB;;EACA,IAAI,CAACxN,MAAM,CAAC8P,gBAAR,IAA8B9P,MAAM,CAACkB,YAAP,KAAwB,gBAAzB,IAC5B3D,OAAO,CAACqF,IAAI,CAAChE,OAAN,EAAe,IAAf,CAAP,CAA4BV,YAA5B,CAAyC,UAAzC,MAAyD8B,MAAM,CAACxB,MAAP,CAAc,CAAd,CAD9D,EACkF;IAC9EwQ,QAAQ,CAACC,MAAT,GAAkB,IAAlB;EACH;;EACD,IAAKjP,MAAM,CAACkB,YAAP,KAAwB,gBAAzB,IACClB,MAAM,CAACxB,MAAP,CAAciH,OAAd,CAAsBlI,OAAO,CAACqF,IAAI,CAAChE,OAAN,EAAe,IAAf,CAAP,CAA4BV,YAA5B,CAAyC,UAAzC,CAAtB,MAAgF,CAAC,CADtF,EAC0F;IACtF8B,MAAM,CAAC6N,UAAP,GAAoB,IAApB;EACH,CAHD,MAIK;IACD7N,MAAM,CAAC6N,UAAP,GAAoB,KAApB;EACH;;EACDvN,UAAU,CAACN,MAAD,CAAV;;EACA,IAAIgP,QAAQ,CAACC,MAAb,EAAqB;IACjBY,OAAO,CAACE,UAAR,CAAmBnN,IAAI,CAACoN,KAAxB;IACAC,UAAU,CAACjQ,MAAD,CAAV;EACH,CAHD,MAIK,IAAI,CAACgP,QAAQ,CAACC,MAAd,EAAsB;IACvB,IAAIhQ,CAAC,GAAG,CAAR;;IACA,OAAOA,CAAC,GAAGe,MAAM,CAACe,cAAP,CAAsB/B,MAAjC,EAAyC;MACrCsC,OAAO,CAACtB,MAAM,CAACe,cAAP,CAAsB9B,CAAtB,CAAD,CAAP;MACAA,CAAC;IACJ;;IACDe,MAAM,CAACiH,OAAP,CAAe,eAAf,EAAgC+H,QAAhC,EAA0C,UAAUA,QAAV,EAAoB;MAC1D,IAAIA,QAAQ,CAACC,MAAb,EAAqB;QACjBY,OAAO,CAACE,UAAR,CAAmBnN,IAAI,CAACoN,KAAxB;QACAC,UAAU,CAACjQ,MAAD,CAAV;MACH,CAHD,MAIK;QACDA,MAAM,CAACsP,SAAP,CAAiBC,QAAjB,GAA4B,IAA5B;MACH;IACJ,CARD;EASH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASU,UAAT,CAAoBjQ,MAApB,EAA4B;EAC/BM,UAAU,CAACN,MAAD,CAAV;EACA,IAAI0O,UAAU,GAAGrR,MAAM,CAAC,MAAMb,GAAG,CAACoS,KAAX,EAAkB5O,MAAM,CAACpB,OAAzB,CAAvB;;EACA,IAAI8P,UAAJ,EAAgB;IACZlR,MAAM,CAACkR,UAAD,CAAN;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASW,gBAAT,CAA0BrP,MAA1B,EAAkC;EACrCkQ,eAAe,CAAClQ,MAAD,EAASxD,GAAG,CAAC2T,WAAb,CAAf;EACAD,eAAe,CAAClQ,MAAD,EAASxD,GAAG,CAAC4T,SAAb,CAAf;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASF,eAAT,CAAyBlQ,MAAzB,EAAiC2B,KAAjC,EAAwC;EAC3C,IAAIgN,GAAG,GAAG3O,MAAM,CAACpB,OAAP,CAAeuD,gBAAf,CAAgC,MAAMR,KAAtC,CAAV;;EACA,KAAK,IAAI1C,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0P,GAAG,CAAC3P,MAAxB,EAAgCC,CAAC,EAAjC,EAAqC;IACjC0P,GAAG,CAAC1P,CAAD,CAAH,CAAOW,SAAP,CAAiByC,MAAjB,CAAwBV,KAAxB;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS0O,eAAT,CAAyBrQ,MAAzB,EAAiC4C,IAAjC,EAAuC;EAC1C,IAAIoM,QAAQ,GAAGpM,IAAf;EACAoM,QAAQ,CAACjI,WAAT,GAAuB/G,MAAM,CAAC2M,QAA9B;EACA,IAAI2D,OAAO,GAAG,KAAd;EACAxM,eAAe,CAAC9D,MAAD,EAAS4C,IAAI,CAAC6M,MAAd,CAAf;EACAJ,gBAAgB,CAACrP,MAAD,CAAhB;;EACA,IAAIA,MAAM,CAACkP,eAAP,IAA0B,IAA9B,EAAoC;IAChCC,MAAM,CAACC,YAAP,CAAoBpP,MAAM,CAACkP,eAA3B;IACAlP,MAAM,CAACkP,eAAP,GAAyB,IAAzB;EACH;;EACD5O,UAAU,CAACN,MAAD,EAAS,OAAT,CAAV;EACA,IAAInC,IAAI,GAAG,IAAX;;EACA,IAAImC,MAAM,CAACoE,YAAP,KAAwB,gBAA5B,EAA8C;IAC1CvG,IAAI,GAAGN,OAAO,CAACqF,IAAI,CAAC6M,MAAN,EAAc,IAAd,CAAd;IACA5R,IAAI,CAAC+B,SAAL,CAAeoC,GAAf,CAAmBxF,GAAG,CAAC4F,KAAvB,EAA8B5F,GAAG,CAAC2T,WAAlC;IACAG,OAAO,GAAG,IAAV;IACA;;IACAtQ,MAAM,CAACkP,eAAP,GAAyBC,MAAM,CAACoB,UAAP,CAAkB,YAAY;MAAEvQ,MAAM,CAACU,MAAP,CAAcjE,MAAM,CAAC+T,QAArB,EAA+B5N,IAA/B;IAAuC,CAAvE,EAAyE,GAAzE,CAAzB;EACH,CAND,MAOK,IAAI5C,MAAM,CAACoE,YAAP,KAAwB,aAA5B,EAA2C;IAC5CvG,IAAI,GAAGN,OAAO,CAACqF,IAAI,CAAC6M,MAAN,EAAc,IAAd,CAAd;;IACA,IAAI5R,IAAI,IAAIA,IAAI,CAAC4K,aAAL,CAAmB,MAAMjM,GAAG,CAAC0I,MAA7B,CAAR,IAAgD,CAACrH,IAAI,CAAC+B,SAAL,CAAeC,QAAf,CAAwBrD,GAAG,CAACyF,IAA5B,CAArD,EAAwF;MACpFpE,IAAI,CAAC+B,SAAL,CAAeoC,GAAf,CAAmBxF,GAAG,CAAC2T,WAAvB;IACH,CAFD,MAGK,IAAItS,IAAI,IAAI,CAACA,IAAI,CAAC4K,aAAL,CAAmB,MAAMjM,GAAG,CAAC0I,MAA7B,CAAT,IAAiD,CAACrH,IAAI,CAAC+B,SAAL,CAAeC,QAAf,CAAwBrD,GAAG,CAACyF,IAA5B,CAAtD,EAAyF;MAC1FpE,IAAI,CAAC+B,SAAL,CAAeoC,GAAf,CAAmBxF,GAAG,CAAC4T,SAAvB;IACH;;IACDE,OAAO,GAAG,IAAV;EACH,CATI,MAUA,IAAItQ,MAAM,CAACoE,YAAP,KAAwB,gBAA5B,EAA8C;IAC/CvG,IAAI,GAAGN,OAAO,CAACqF,IAAI,CAAC6M,MAAN,EAAc,IAAd,CAAd;;IACA,IAAI5R,IAAI,IAAIA,IAAI,CAAC4K,aAAL,CAAmB,MAAMjM,GAAG,CAAC0I,MAA7B,CAAR,IAAgD,CAACrH,IAAI,CAAC+B,SAAL,CAAeC,QAAf,CAAwBrD,GAAG,CAACyF,IAA5B,CAArD,EAAwF;MACpFpE,IAAI,CAAC+B,SAAL,CAAeoC,GAAf,CAAmBxF,GAAG,CAAC4F,KAAvB,EAA8B5F,GAAG,CAAC2T,WAAlC;IACH;;IACDG,OAAO,GAAG,IAAV;IACA;EACH,CAPI,MAQA,IAAItQ,MAAM,CAACoE,YAAP,KAAwB,eAA5B,EAA6C;IAC9CkM,OAAO,GAAG,IAAV;EACH;;EACDtQ,MAAM,CAACpB,OAAP,CAAegB,SAAf,CAAyByC,MAAzB,CAAgC,WAAhC,EAA6C,WAA7C;EACArC,MAAM,CAACpB,OAAP,CAAegB,SAAf,CAAyBoC,GAAzB,CAA6BsO,OAAO,GAAG,WAAH,GAAiB,WAArD;EACAtQ,MAAM,CAAC2P,SAAP,GAAmB3P,MAAM,CAAC2P,SAAP,GAAmB,CAAtC;EACA3P,MAAM,CAACiH,OAAP,CAAe,cAAf,EAA+B+H,QAA/B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASyB,cAAT,CAAwB3S,IAAxB,EAA8B;EACjC,IAAI4S,GAAG,GAAG,EAAV;EACA,IAAIC,IAAI,GAAGC,MAAM,CAACD,IAAP,CAAY7S,IAAZ,CAAX;;EACA,KAAK,IAAImB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0R,IAAI,CAAC3R,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;IAClC,IAAI0R,IAAI,CAAC1R,CAAD,CAAJ,KAAY,SAAhB,EAA2B;MACvByR,GAAG,IAAI,CAACzR,CAAC,KAAK,CAAN,GAAU,EAAV,GAAe,IAAhB,IAAwB0R,IAAI,CAAC1R,CAAD,CAA5B,GAAkC,IAAlC,GAAyCjC,QAAQ,CAAC2T,IAAI,CAAC1R,CAAD,CAAL,EAAUnB,IAAV,CAAxD;IACH;EACJ;;EACD,OAAO4S,GAAP;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASnC,WAAT,CAAqBvO,MAArB,EAA6BlC,IAA7B,EAAmC;EACtC,IAAIkC,MAAM,CAACzB,KAAX,EAAkB;IACd,OAAOvB,QAAQ,CAAC,IAAD,EAAOc,IAAP,CAAf;EACH;;EACD,OAAOsJ,OAAO,CAACpH,MAAD,EAASlC,IAAT,CAAd;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAS+S,kBAAT,CAA4B7Q,MAA5B,EAAoClC,IAApC,EAA0C;EAC7CkC,MAAM,CAAC+C,QAAP,GAAkB,CAACjF,IAAD,CAAlB;EACAkC,MAAM,CAAC8Q,eAAP,GAAyB9T,QAAQ,CAAC,MAAD,EAASc,IAAT,CAAjC;EACAkC,MAAM,CAACiF,MAAP,GAAgBjI,QAAQ,CAAC,QAAD,EAAWc,IAAX,CAAxB;EACAkC,MAAM,CAAC+Q,UAAP,GAAoB/T,QAAQ,CAAC,YAAD,EAAec,IAAf,CAA5B;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASkT,QAAT,CAAkBhR,MAAlB,EAA0B;EAC7B,IAAI,CAACiR,aAAa,CAACjR,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAD,CAAlB,EAAwC;IACpCwB,kBAAkB,CAACvE,MAAD,EAASA,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAT,EAA6BtG,MAAM,CAACyU,cAApC,CAAlB;EACH,CAFD,MAGK;IACDvT,YAAY,CAACqC,MAAD,EAAS,QAAT,CAAZ;EACH;AACJ;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmR,UAAT,CAAoBnR,MAApB,EAA4B;EAC/B;EACA,IAAI0D,KAAK,GAAG1D,MAAM,CAAC+C,QAAnB;;EACA,KAAK,IAAI9D,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyE,KAAK,CAAC1E,MAA1B,EAAkCC,CAAC,EAAnC,EAAuC;IACnC,IAAI,CAACmS,iBAAiB,CAAC1N,KAAK,CAACzE,CAAD,CAAN,CAAtB,EAAkC;MAC9BsF,kBAAkB,CAACvE,MAAD,EAAS0D,KAAK,CAACzE,CAAD,CAAd,EAAmBxC,MAAM,CAAC4U,kBAA1B,CAAlB;MACA;IACH;EACJ;;EACD,IAAIrR,MAAM,CAAC8B,aAAP,CAAqB9C,MAArB,GAA8B,CAAlC,EAAqC;IACjClC,QAAQ,CAACkD,MAAD,EAASA,MAAM,CAAC3B,IAAhB,EAAsB2B,MAAM,CAAC8B,aAA7B,CAAR;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwP,aAAT,CAAuBtR,MAAvB,EAA+BlC,IAA/B,EAAqCyT,MAArC,EAA6C;EAChD,KAAK,IAAItS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,IAAI,CAACkB,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;IAClC,IAAI,CAACgS,aAAa,CAACnT,IAAI,CAACmB,CAAD,CAAL,CAAlB,EAA6B;MACzBsF,kBAAkB,CAACvE,MAAD,EAASlC,IAAI,CAACmB,CAAD,CAAb,EAAkBxC,MAAM,CAACyU,cAAzB,CAAlB;MACA;IACH;EACJ;;EACDlR,MAAM,CAAC+C,QAAP,GAAkBjF,IAAlB;EACAf,MAAM,CAACiD,MAAD,EAASuR,MAAT,EAAiBvR,MAAM,CAAC3B,IAAxB,EAA8B,QAA9B,CAAN;AACH;AACD;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASmT,eAAT,CAAyBxR,MAAzB,EAAiClC,IAAjC,EAAuCyT,MAAvC,EAA+C;EAClD,KAAK,IAAItS,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGnB,IAAI,CAACkB,MAAzB,EAAiCC,CAAC,EAAlC,EAAsC;IAClC,IAAI,CAACmS,iBAAiB,CAACtT,IAAI,CAACmB,CAAD,CAAL,CAAtB,EAAiC;MAC7BsF,kBAAkB,CAACvE,MAAD,EAASlC,IAAI,CAACmB,CAAD,CAAb,EAAkBxC,MAAM,CAAC4U,kBAAzB,CAAlB;MACA;IACH;EACJ;;EACDrR,MAAM,CAAC+C,QAAP,GAAkBjF,IAAlB;;EACA,IAAIyT,MAAM,CAACvS,MAAP,GAAgB,CAApB,EAAuB;IACnBlC,QAAQ,CAACkD,MAAD,EAASA,MAAM,CAAC3B,IAAhB,EAAsBkT,MAAtB,CAAR;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAAShN,kBAAT,CAA4BvE,MAA5B,EAAoClC,IAApC,EAA0C+C,MAA1C,EAAkD;EACrD,IAAIyL,OAAO,GAAGtP,QAAQ,CAAC,SAAD,EAAYA,QAAQ,CAAC,YAAD,EAAec,IAAf,CAApB,CAAtB;;EACA,IAAIwO,OAAO,KAAK,EAAhB,EAAoB;IAChBA,OAAO,GAAG/C,aAAa,CAACvJ,MAAD,EAAS,gBAAT,CAAb,CAAwC0G,OAAxC,CAAgD,KAAhD,EAAuD1J,QAAQ,CAAC,MAAD,EAASc,IAAT,CAA/D,EAA+E4I,OAA/E,CAAuF,KAAvF,EAA8F7F,MAA9F,CAAV;EACH;;EACD,IAAI4Q,QAAQ,GAAG;IACXpI,KAAK,EAAE;MACHgD,IAAI,EAAE,KADH;MAEHE,UAAU,EAAE,IAFT;MAGHD,OAAO,EAAEA;IAHN;EADI,CAAf;EAOA3O,YAAY,CAACqC,MAAD,EAAS,OAAT,EAAkByR,QAAlB,CAAZ;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,cAAT,CAAwB5T,IAAxB,EAA8B;EACjC,OAAO,CAACwG,aAAa,CAACxG,IAAD,CAAd,GAAuB,yBAAvB,GAAmD,aAA1D;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASwG,aAAT,CAAuBxG,IAAvB,EAA6B;EAChC;EACA,IAAI6T,UAAU,GAAG3U,QAAQ,CAAC,YAAD,EAAec,IAAf,CAAzB;EACA,OAAQ6T,UAAU,IAAI,CAAC3U,QAAQ,CAAC,MAAD,EAAS2U,UAAT,CAAxB,GAAgD,KAAhD,GAAwD,IAA/D;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASV,aAAT,CAAuBnT,IAAvB,EAA6B;EAChC;EACA,IAAI6T,UAAU,GAAG3U,QAAQ,CAAC,YAAD,EAAec,IAAf,CAAzB;EACA,OAAO6T,UAAU,GAAK3U,QAAQ,CAAC,MAAD,EAAS2U,UAAT,CAAR,IAAgC3U,QAAQ,CAAC,OAAD,EAAU2U,UAAV,CAA7C,GAAuE,IAAxF;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASC,gBAAT,CAA0B9T,IAA1B,EAAgC;EACnC;EACA,IAAI6T,UAAU,GAAG3U,QAAQ,CAAC,YAAD,EAAec,IAAf,CAAzB;EACA,OAAO6T,UAAU,GAAK3U,QAAQ,CAAC,MAAD,EAAS2U,UAAT,CAAR,IAAgC3U,QAAQ,CAAC,eAAD,EAAkB2U,UAAlB,CAA7C,GAA+E,IAAhG;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASE,eAAT,CAAyB/T,IAAzB,EAA+B;EAClC;EACA,IAAI6T,UAAU,GAAG3U,QAAQ,CAAC,YAAD,EAAec,IAAf,CAAzB;EACA,OAAO6T,UAAU,GAAK3U,QAAQ,CAAC,MAAD,EAAS2U,UAAT,CAAR,IAAgC3U,QAAQ,CAAC,QAAD,EAAW2U,UAAX,CAA7C,GAAwE,IAAzF;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASP,iBAAT,CAA2BtT,IAA3B,EAAiC;EACpC;EACA,IAAI6T,UAAU,GAAG3U,QAAQ,CAAC,YAAD,EAAec,IAAf,CAAzB;EACA,OAAO6T,UAAU,GAAK3U,QAAQ,CAAC,MAAD,EAAS2U,UAAT,CAAR,IAAgC3U,QAAQ,CAAC,UAAD,EAAa2U,UAAb,CAA7C,GAA0E,IAA3F;AACH;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASG,eAAT,CAAyB9R,MAAzB,EAAiC;EACpC;EACA,IAAI+R,OAAO,GAAG/R,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAd;;EACA,IAAI,CAAC6O,gBAAgB,CAACG,OAAD,CAArB,EAAgC;IAC5BxN,kBAAkB,CAACvE,MAAD,EAAS+R,OAAT,EAAkBtV,MAAM,CAACuV,sBAAzB,CAAlB;EACH,CAFD,MAGK;IACDrU,YAAY,CAACqC,MAAD,EAAS,WAAT,CAAZ;EACH;AACJ;AACD;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,OAAO,SAASiS,UAAT,CAAoBjS,MAApB,EAA4B;EAC/B;EACA,IAAI+R,OAAO,GAAG/R,MAAM,CAAC+C,QAAP,CAAgB,CAAhB,CAAd;;EACA,IAAI,CAAC8O,eAAe,CAACE,OAAD,CAApB,EAA+B;IAC3BxN,kBAAkB,CAACvE,MAAD,EAAS+R,OAAT,EAAkBtV,MAAM,CAACyV,gBAAzB,CAAlB;EACH,CAFD,MAGK;IACD,IAAIC,KAAK,GAAG,MAAMnS,MAAM,CAACpB,OAAP,CAAeX,EAArB,GAA0BzB,GAAG,CAAC4V,SAA1C;IACA,IAAIC,SAAS,GAAGC,QAAQ,CAAC7J,aAAT,CAAuB0J,KAAvB,CAAhB;IACAE,SAAS,CAACE,KAAV;EACH;AACJ"},"metadata":{},"sourceType":"module"}