{"ast":null,"code":"import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\n\nvar MultiLevelLabel =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the logerithmic module.\n   *\n   * @private\n   */\n  function MultiLevelLabel(chart) {\n    /** @private */\n    this.xAxisPrevHeight = [];\n    /** @private */\n\n    this.xAxisMultiLabelHeight = [];\n    /** @private */\n\n    this.yAxisPrevHeight = [];\n    /** @private */\n\n    this.yAxisMultiLabelHeight = [];\n    /** @private */\n\n    this.multiLevelLabelRectXRegion = [];\n    /** @private */\n\n    this.xLabelCollection = [];\n    this.chart = chart;\n    this.addEventListener();\n  }\n  /**\n   * Binding events for multi level module.\n   */\n\n\n  MultiLevelLabel.prototype.addEventListener = function () {\n    if (this.chart.isDestroyed) {\n      return;\n    }\n\n    this.chart.on('click', this.click, this);\n  };\n  /**\n   * Finds multilevel label height\n   *\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n    var value = 0;\n    var multiLevelLabelsHeight = [];\n    var prevHeight = [];\n    var isVertical = axis.orientation === 'Vertical';\n    var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n    var labelSize;\n    var height;\n    var padding = 10;\n    var gap;\n    axis.multiLevelLabels.map(function (multiLevel, index) {\n      multiLevel.categories.map(function (categoryLabel) {\n        if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n          labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n          height = isVertical ? labelSize.width : labelSize.height;\n          height += 2 * multiLevel.border.width + (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n          gap = categoryLabel.maximumTextWidth !== null ? categoryLabel.maximumTextWidth : valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end, axis) * axisValue - valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start, axis) * axisValue;\n\n          if (labelSize.width > gap - padding && gap > 0 && multiLevel.overflow === 'Wrap' && !isVertical) {\n            height = height * textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length;\n          }\n\n          multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height : multiLevelLabelsHeight[index] < height ? height : multiLevelLabelsHeight[index];\n        }\n      });\n      prevHeight[index] = value;\n      value += multiLevelLabelsHeight[index] ? multiLevelLabelsHeight[index] + padding : 0;\n    });\n    axis.multiLevelLabelHeight = value + (axis.title !== '' || this.chart.legendModule && this.chart.legendSettings.visible ? padding / 2 : 0);\n\n    if (isVertical) {\n      this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.yAxisPrevHeight = prevHeight;\n    } else {\n      this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n      this.xAxisPrevHeight = prevHeight;\n    }\n  };\n  /**\n   * render x axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n    var _this = this;\n\n    var x;\n    var y;\n    var padding = 10;\n    var startX;\n    var pointIndex;\n    var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.height + padding;\n    var endX;\n    var pathRect = '';\n    var start;\n    var end;\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var gap;\n    var anchor;\n    var isInversed = axis.isAxisInverse;\n    var argsData;\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = axis.scrollbarSettings.enable || isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    var clipY = opposedPosition && !isOutside || !opposedPosition && isOutside ? axisRect.y + startY - axis.majorTickLines.width : axisRect.y - startY - axis.multiLevelLabelHeight;\n    this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      pointIndex = 0;\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      multiLevel.categories.map(function (categoryLabel, i) {\n        pathRect = '';\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n\n        if (!argsData.cancel) {\n          startX = valueToCoefficient(start, axis) * axisRect.width;\n          endX = valueToCoefficient(end, axis) * axisRect.width;\n          endX = isInversed ? [startX, startX = endX][0] : endX;\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = (categoryLabel.maximumTextWidth === null ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n          x = startX + axisRect.x + padding;\n          y = (opposedPosition && !isOutside || !opposedPosition && isOutside ? startY + axisRect.y + labelSize.height / 2 + padding + _this.xAxisPrevHeight[level] : axisRect.y - startY + labelSize.height / 2 - _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level]) + scrollBarHeight;\n\n          if (argsData.alignment === 'Center') {\n            x += (endX - startX - padding) / 2;\n            anchor = 'middle';\n          } else if (argsData.alignment === 'Far') {\n            x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n            anchor = 'end';\n          } else {\n            anchor = 'start';\n            x += multiLevel.border.width / 2;\n          }\n\n          y = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? y + padding : y - padding / 2 : y;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n\n          if (multiLevel.overflow !== 'None') {\n            options.text = multiLevel.overflow === 'Wrap' ? textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n            options.x = options.x - padding / 2;\n          }\n\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n\n          if (_this.chart.enableCanvas) {\n            var textSize = measureText(argsData.text, argsData.textStyle);\n\n            _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n\n            _this.xLabelCollection.push(options);\n          }\n\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex); // fix for generating seperate rect\n\n            if (pathRect !== '') {\n              _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n\n              pointIndex++;\n            }\n          }\n\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render x axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var value;\n    var value1;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var width = gap + padding;\n    var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n    var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n    var x = startX + axisRect.x;\n    var y = !opposedPosition && isOutside || opposedPosition && !isOutside ? startY + axisRect.y + this.xAxisPrevHeight[labelIndex] + scrollBarHeight : axisRect.y - startY - this.xAxisPrevHeight[labelIndex] - scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' ' + y + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + x + ' ' + (y + height) + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y : ' ';\n        break;\n\n      case 'Brace':\n        if (alignment === 'Near') {\n          value = textOptions.x;\n          value1 = textOptions.x + labelSize.width + 2;\n        } else if (alignment === 'Center') {\n          value = textOptions.x - labelSize.width / 2 - 2;\n          value1 = textOptions.x + labelSize.width / 2 + 2;\n        } else {\n          value = textOptions.x - labelSize.width - 2;\n          value1 = textOptions.x;\n        }\n\n        height = !opposedPosition && isOutside || opposedPosition && !isOutside ? height : -height;\n        path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) + ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) + ' M ' + value1 + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) + ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + y;\n        break;\n\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        } else {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        }\n\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) + ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else if (alignment === 'Near') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' + (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + y;\n        }\n\n        break;\n    }\n\n    return path;\n  };\n  /**\n   * render y axis multi level labels\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n    var _this = this;\n\n    var labelSize;\n    var isOutside = axis.labelPosition === 'Outside';\n    var x;\n    var y;\n    var padding = 10;\n    var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) + axis.maxLabelSize.width + padding;\n    var startY;\n    var path = '';\n    var endY;\n    var argsData;\n    var pointIndex;\n    var isInversed = axis.isAxisInverse;\n    var start;\n    var end;\n    var gap;\n    var anchor = 'middle';\n    var opposedPosition = axis.isAxisOpposedPosition;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var clipX = opposedPosition && !isOutside || !opposedPosition && isOutside ? rect.x - axis.multiLevelLabelHeight - startX - padding : rect.x + startX;\n    this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id + 'YAxisMultiLevelLabel' + index);\n    axis.multiLevelLabels.map(function (multiLevel, level) {\n      _this.labelElement = _this.chart.renderer.createGroup({\n        id: _this.chart.element.id + index + '_MultiLevelLabel' + level\n      });\n      pointIndex = 0;\n      multiLevel.categories.map(function (categoryLabel, i) {\n        path = '';\n        end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n        start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n        startY = valueToCoefficient(start, axis) * rect.height;\n        endY = valueToCoefficient(end, axis) * rect.height;\n        endY = isInversed ? [startY, startY = endY][0] : endY;\n        argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n\n        if (!argsData.cancel) {\n          labelSize = measureText(argsData.text, argsData.textStyle);\n          gap = endY - startY;\n          x = rect.x - startX - _this.yAxisPrevHeight[level] - _this.yAxisMultiLabelHeight[level] / 2 - padding / 2;\n          y = rect.height + rect.y - startY - gap / 2;\n\n          if (opposedPosition) {\n            x = isOutside ? rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - _this.yAxisMultiLabelHeight[level] / 2 - _this.yAxisPrevHeight[level] - padding / 2;\n          } else {\n            x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + _this.yAxisMultiLabelHeight[level] / 2 + _this.yAxisPrevHeight[level];\n          }\n\n          if (argsData.alignment === 'Center') {\n            y += labelSize.height / 4;\n          } else if (argsData.alignment === 'Far') {\n            y += gap / 2 - labelSize.height / 2;\n          } else {\n            y = y - gap / 2 + labelSize.height;\n          }\n\n          x = multiLevel.border.type === 'CurlyBrace' ? !opposedPosition && isOutside || opposedPosition && !isOutside ? x - padding : x + padding : x;\n          var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n          options.text = multiLevel.overflow === 'Trim' ? textTrim(categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] : categoryLabel.maximumTextWidth, argsData.text, argsData.textStyle) : options.text;\n          textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n\n          if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n            path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n\n            if (path !== '') {\n              _this.createBorderElement(level, index, axis, path, pointIndex);\n\n              pointIndex++;\n            }\n          }\n\n          if (!_this.chart.enableCanvas) {\n            _this.multiElements.appendChild(_this.labelElement);\n          }\n        }\n      });\n    });\n\n    if (!this.chart.enableCanvas) {\n      parent.appendChild(this.multiElements);\n    }\n  };\n  /**\n   * render y axis multi level labels border\n   *\n   * @private\n   * @returns {void}\n   */\n\n\n  MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n    var height = endY - startY;\n    var padding = 10;\n    var padding1;\n    var padding2;\n    var groupLabel = axis.multiLevelLabels[labelIndex];\n    var categoryType = groupLabel.categories[categoryIndex].type;\n    var y = rect.y + rect.height - endY;\n    var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n    scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n    var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n    var x = (!opposedPosition && isOutside || opposedPosition && !isOutside ? rect.x - startX - this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n    var borderType = categoryType ? categoryType : groupLabel.border.type;\n\n    switch (borderType) {\n      case 'WithoutTopandBottomBorder':\n      case 'Rectangle':\n      case 'WithoutTopBorder':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? -width : width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y + ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n        path += borderType !== 'WithoutTopandBottomBorder' ? ' L' + ' ' + (x + width) + ' ' + y + ' ' : ' ';\n        path += borderType === 'Rectangle' ? 'M ' + x + ' ' + (y + height) + 'L' + ' ' + x + ' ' + y + ' ' : ' ';\n        break;\n\n      case 'Brace':\n        width = !opposedPosition && isOutside || opposedPosition && !isOutside ? width : -width;\n        path += 'M ' + x + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' + (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' + (textOptions.y + labelSize.height / 4 + 2) + ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + x + ' ' + (y + height);\n        break;\n\n      case 'CurlyBrace':\n        if (!opposedPosition && isOutside || opposedPosition && !isOutside) {\n          padding = -10;\n          padding1 = -15;\n          padding2 = -5;\n        } else {\n          padding = 10;\n          padding1 = 15;\n          padding2 = 5;\n        }\n\n        if (alignment === 'Center') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5) + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else if (alignment === 'Far') {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        } else {\n          path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10) + ' L ' + (x + padding1) + ' ' + (y + 15) + ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x + ' ' + (y + height);\n        }\n\n        break;\n    }\n\n    return path;\n  };\n  /**\n   * create cliprect\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n    this.multiElements = this.chart.renderer.createGroup({\n      'id': axisId,\n      'clip-path': 'url(#' + clipId + ')'\n    });\n\n    if (!this.chart.enableCanvas) {\n      this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n        'id': clipId,\n        'x': x,\n        'y': y,\n        'width': width,\n        'height': height,\n        'fill': 'white',\n        'stroke-width': 1,\n        'stroke': 'Gray'\n      }, this.chart.renderer));\n    }\n  };\n  /**\n   * create borer element\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n    var direction = path;\n    var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n    borderElement.style.pointerEvents = 'none';\n    appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n    var argsData = {\n      cancel: false,\n      name: axisMultiLabelRender,\n      axis: axis,\n      text: text,\n      textStyle: textStyle,\n      alignment: textAlignment,\n      customAttributes: customAttributes\n    };\n    this.chart.trigger(axisMultiLabelRender, argsData);\n    return argsData;\n  };\n  /**\n   * Triggers the event.\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n    var level = parseInt(labelIndex.substr(0, 1), 10);\n    var textElement = parseInt(labelIndex.substr(7), 10);\n    var chart = this.chart;\n    var axis = chart.axisCollections[axisIndex];\n    var categories = axis.multiLevelLabels[level].categories;\n    var text = categories[textElement].text;\n    var start = categories[textElement].start;\n    var end = categories[textElement].end;\n    var customAttributes = categories[textElement].customAttributes;\n    var multilevelclickArgs = {\n      axis: axis,\n      level: level,\n      text: text,\n      customAttributes: customAttributes,\n      start: start,\n      end: end,\n      name: multiLevelLabelClick,\n      cancel: false\n    };\n    this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n    return multilevelclickArgs;\n  };\n  /**\n   * To click the multi level label\n   *\n   * @returns {void}\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.click = function (event) {\n    var targetId = event.target.id;\n    var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n    var textId;\n    var elementId;\n    var axisIndex;\n\n    if (this.chart.enableCanvas) {\n      for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n        if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n          targetId = this.xLabelCollection[i].id;\n        }\n      }\n    }\n\n    if (targetId.indexOf(multiLevelID) > -1) {\n      textId = targetId.split(multiLevelID)[1];\n      elementId = targetId.split(multiLevelID)[0];\n      axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n      this.MultiLevelLabelClick(textId, axisIndex);\n    }\n  };\n  /**\n   * To get the module name for `MultiLevelLabel`.\n   *\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.getModuleName = function () {\n    return 'MultiLevelLabel';\n  };\n  /**\n   * To destroy the `MultiLevelLabel` module.\n   *\n   * @private\n   */\n\n\n  MultiLevelLabel.prototype.destroy = function () {// destroy peform here\n  };\n\n  return MultiLevelLabel;\n}();\n\nexport { MultiLevelLabel };","map":{"version":3,"names":["isNullOrUndefined","textWrap","appendClipElement","appendChildElement","valueToCoefficient","textTrim","textElement","withInBounds","measureText","TextOption","PathOption","Rect","axisMultiLabelRender","multiLevelLabelClick","MultiLevelLabel","chart","xAxisPrevHeight","xAxisMultiLabelHeight","yAxisPrevHeight","yAxisMultiLabelHeight","multiLevelLabelRectXRegion","xLabelCollection","addEventListener","prototype","isDestroyed","on","click","getMultilevelLabelsHeight","axis","value","multiLevelLabelsHeight","prevHeight","isVertical","orientation","axisValue","rect","height","width","labelSize","padding","gap","multiLevelLabels","map","multiLevel","index","categories","categoryLabel","text","start","end","textStyle","border","type","maximumTextWidth","Number","Date","overflow","length","multiLevelLabelHeight","title","legendModule","legendSettings","visible","renderXAxisMultiLevelLabels","parent","axisRect","_this","x","y","startX","pointIndex","startY","labelPosition","tickPosition","majorTickLines","maxLabelSize","endX","pathRect","isOutside","anchor","isInversed","isAxisInverse","argsData","opposedPosition","isAxisOpposedPosition","scrollBarHeight","scrollbarSettings","enable","crossesAt","clipY","createClipRect","element","id","level","labelElement","renderer","createGroup","i","triggerMultiLabelRender","alignment","customAttributes","cancel","options","color","themeStyle","axisLabel","redraw","enableCanvas","textSize","push","renderXAxisLabelBorder","createBorderElement","multiElements","appendChild","labelIndex","textOptions","path","categoryIndex","padding1","padding2","value1","groupLabel","categoryType","borderType","renderYAxisMultiLevelLabels","endY","clipX","renderYAxisLabelBorder","clipId","axisId","borderIndex","axisIndex","direction","borderElement","drawPath","axisLine","style","pointerEvents","textAlignment","name","trigger","MultiLevelLabelClick","parseInt","substr","axisCollections","multilevelclickArgs","event","targetId","target","multiLevelID","textId","elementId","indexOf","split","charAt","getModuleName","destroy"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Admin-Dashboard/frontend/node_modules/@syncfusion/ej2-charts/src/chart/axis/multi-level-labels.js"],"sourcesContent":["import { isNullOrUndefined } from '@syncfusion/ej2-base';\nimport { textWrap, appendClipElement, appendChildElement } from '../../common/utils/helper';\nimport { valueToCoefficient, textTrim, textElement, withInBounds } from '../../common/utils/helper';\nimport { measureText, TextOption, PathOption, Rect } from '@syncfusion/ej2-svg-base';\nimport { axisMultiLabelRender, multiLevelLabelClick } from '../../common/model/constants';\n/**\n * `MultiLevelLabel` module is used to render the multi level label in chart.\n */\nvar MultiLevelLabel = /** @class */ (function () {\n    /**\n     * Constructor for the logerithmic module.\n     *\n     * @private\n     */\n    function MultiLevelLabel(chart) {\n        /** @private */\n        this.xAxisPrevHeight = [];\n        /** @private */\n        this.xAxisMultiLabelHeight = [];\n        /** @private */\n        this.yAxisPrevHeight = [];\n        /** @private */\n        this.yAxisMultiLabelHeight = [];\n        /** @private */\n        this.multiLevelLabelRectXRegion = [];\n        /** @private */\n        this.xLabelCollection = [];\n        this.chart = chart;\n        this.addEventListener();\n    }\n    /**\n     * Binding events for multi level module.\n     */\n    MultiLevelLabel.prototype.addEventListener = function () {\n        if (this.chart.isDestroyed) {\n            return;\n        }\n        this.chart.on('click', this.click, this);\n    };\n    /**\n     * Finds multilevel label height\n     *\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.getMultilevelLabelsHeight = function (axis) {\n        var value = 0;\n        var multiLevelLabelsHeight = [];\n        var prevHeight = [];\n        var isVertical = axis.orientation === 'Vertical';\n        var axisValue = isVertical ? axis.rect.height : axis.rect.width;\n        var labelSize;\n        var height;\n        var padding = 10;\n        var gap;\n        axis.multiLevelLabels.map(function (multiLevel, index) {\n            multiLevel.categories.map(function (categoryLabel) {\n                if (categoryLabel.text !== '' && categoryLabel.start !== null && categoryLabel.end !== null) {\n                    labelSize = measureText(categoryLabel.text, multiLevel.textStyle);\n                    height = isVertical ? labelSize.width : labelSize.height;\n                    height += 2 * multiLevel.border.width +\n                        (multiLevel.border.type === 'CurlyBrace' ? padding : 0);\n                    gap = (categoryLabel.maximumTextWidth !== null) ? categoryLabel.maximumTextWidth :\n                        (valueToCoefficient(typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) :\n                            categoryLabel.end, axis) * axisValue) -\n                            (valueToCoefficient(typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) :\n                                categoryLabel.start, axis) * axisValue);\n                    if ((labelSize.width > gap - padding) && gap > 0 && (multiLevel.overflow === 'Wrap') && !isVertical) {\n                        height = (height * (textWrap(categoryLabel.text, gap - padding, multiLevel.textStyle).length));\n                    }\n                    multiLevelLabelsHeight[index] = !multiLevelLabelsHeight[index] ? height :\n                        ((multiLevelLabelsHeight[index] < height) ? height : multiLevelLabelsHeight[index]);\n                }\n            });\n            prevHeight[index] = value;\n            value += multiLevelLabelsHeight[index] ? (multiLevelLabelsHeight[index] + padding) : 0;\n        });\n        axis.multiLevelLabelHeight = value + ((axis.title !== '' || (this.chart.legendModule && this.chart.legendSettings.visible))\n            ? padding / 2 : 0);\n        if (isVertical) {\n            this.yAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.yAxisPrevHeight = prevHeight;\n        }\n        else {\n            this.xAxisMultiLabelHeight = multiLevelLabelsHeight;\n            this.xAxisPrevHeight = prevHeight;\n        }\n    };\n    /**\n     * render x axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisMultiLevelLabels = function (axis, index, parent, axisRect) {\n        var _this = this;\n        var x;\n        var y;\n        var padding = 10;\n        var startX;\n        var pointIndex;\n        var startY = (axis.labelPosition === axis.tickPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.height) + padding;\n        var endX;\n        var pathRect = '';\n        var start;\n        var end;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var gap;\n        var anchor;\n        var isInversed = axis.isAxisInverse;\n        var argsData;\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = axis.scrollbarSettings.enable || (isOutside && isNullOrUndefined(axis.crossesAt)) ?\n            axis.scrollBarHeight : 0;\n        var clipY = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (axisRect.y + startY - axis.majorTickLines.width) : (axisRect.y - startY - axis.multiLevelLabelHeight);\n        this.createClipRect(axisRect.x - axis.majorTickLines.width, clipY + scrollBarHeight, axis.multiLevelLabelHeight + padding, axisRect.width + 2 * axis.majorTickLines.width, this.chart.element.id + '_XAxis_Clippath_' + index, this.chart.element.id + 'XAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            pointIndex = 0;\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            multiLevel.categories.map(function (categoryLabel, i) {\n                pathRect = '';\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, axis.multiLevelLabels[level].textStyle, axis.multiLevelLabels[level].alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    startX = valueToCoefficient(start, axis) * axisRect.width;\n                    endX = valueToCoefficient(end, axis) * axisRect.width;\n                    endX = isInversed ? [startX, startX = endX][0] : endX;\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = ((categoryLabel.maximumTextWidth === null) ? endX - startX : categoryLabel.maximumTextWidth) - padding;\n                    x = startX + axisRect.x + padding;\n                    y = (((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ? (startY + axisRect.y +\n                        labelSize.height / 2 + padding + _this.xAxisPrevHeight[level]) : (axisRect.y - startY + labelSize.height / 2 -\n                        _this.xAxisMultiLabelHeight[level] - _this.xAxisPrevHeight[level])) + scrollBarHeight;\n                    if (argsData.alignment === 'Center') {\n                        x += (endX - startX - padding) / 2;\n                        anchor = 'middle';\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        x = x + (endX - startX - padding) - multiLevel.border.width / 2;\n                        anchor = 'end';\n                    }\n                    else {\n                        anchor = 'start';\n                        x += multiLevel.border.width / 2;\n                    }\n                    y = multiLevel.border.type === 'CurlyBrace' ?\n                        (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? y + padding : y - padding / 2) : y;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    if (multiLevel.overflow !== 'None') {\n                        options.text = (multiLevel.overflow === 'Wrap') ?\n                            textWrap(argsData.text, gap, argsData.textStyle) : textTrim(gap, argsData.text, argsData.textStyle);\n                        options.x = options.x - padding / 2;\n                    }\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, false, _this.chart.redraw, true, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (_this.chart.enableCanvas) {\n                        var textSize = measureText(argsData.text, argsData.textStyle);\n                        _this.multiLevelLabelRectXRegion.push(new Rect(options.x, options.y, textSize.width, textSize.height));\n                        _this.xLabelCollection.push(options);\n                    }\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        pathRect = _this.renderXAxisLabelBorder(level, endX - startX - padding, axis, startX, startY, labelSize, options, axisRect, argsData.alignment, pathRect, isOutside, opposedPosition, pointIndex);\n                        // fix for generating seperate rect\n                        if (pathRect !== '') {\n                            _this.createBorderElement(level, index, axis, pathRect, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render x axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderXAxisLabelBorder = function (labelIndex, gap, axis, startX, startY, labelSize, textOptions, axisRect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var value;\n        var value1;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var width = gap + padding;\n        var height = this.xAxisMultiLabelHeight[labelIndex] + padding;\n        var scrollBarHeight = axis.labelPosition === 'Outside' ? axis.scrollBarHeight : 0;\n        var x = startX + axisRect.x;\n        var y = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? (startY + axisRect.y +\n            this.xAxisPrevHeight[labelIndex] + scrollBarHeight) : (axisRect.y - startY -\n            this.xAxisPrevHeight[labelIndex] - scrollBarHeight);\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height) + ' M ' + (x + width) + ' '\n                    + y + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x) + ' ' + (y + height) + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y) : ' ';\n                break;\n            case 'Brace':\n                if (alignment === 'Near') {\n                    value = textOptions.x;\n                    value1 = textOptions.x + labelSize.width + 2;\n                }\n                else if (alignment === 'Center') {\n                    value = textOptions.x - labelSize.width / 2 - 2;\n                    value1 = textOptions.x + labelSize.width / 2 + 2;\n                }\n                else {\n                    value = textOptions.x - labelSize.width - 2;\n                    value1 = textOptions.x;\n                }\n                height = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? height : -height;\n                path += 'M ' + x + ' ' + y + ' L ' + x + ' ' + (y + height / 2) +\n                    ' M ' + x + ' ' + (y + height / 2) + ' L ' + (value - 2) + ' ' + (y + height / 2) +\n                    ' M ' + (value1) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y + height / 2) +\n                    ' M ' + (x + width) + ' ' + (y + height / 2) + ' L ' + (x + width) + ' ' + (y);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                else {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width / 2 - 5) + ' ' + (y + padding) + ' L ' + (x + width / 2) + ' ' + (y + padding1) +\n                        ' L ' + (x + width / 2 + 5) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else if (alignment === 'Near') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + 15) + ' ' + (y + padding1) + ' L ' + (x + 20) + ' ' + (y + padding) + ' L ' +\n                        (x + width - 10) + ' ' + (y + padding) + ' C ' + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' '\n                        + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + 5) + ' ' + (y + padding) + ' ' + (x + 10) + ' ' +\n                        (y + padding) + ' L ' + (x + width - 20) + ' ' + (y + padding) + ' L ' + (x + width - 15) + ' ' + (y + padding1) +\n                        ' L ' + (x + width - 10) + ' ' + (y + padding) + ' L ' + (x + width - 10) + ' ' + (y + padding) + ' C '\n                        + (x + width - 10) + ' ' + (y + padding) + ' ' + (x + width) + ' ' + (y + padding2) + ' ' + (x + width) + ' ' + (y);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * render y axis multi level labels\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisMultiLevelLabels = function (axis, index, parent, rect) {\n        var _this = this;\n        var labelSize;\n        var isOutside = axis.labelPosition === 'Outside';\n        var x;\n        var y;\n        var padding = 10;\n        var startX = (axis.tickPosition === axis.labelPosition ? axis.majorTickLines.height : 0) +\n            (axis.maxLabelSize.width) + padding;\n        var startY;\n        var path = '';\n        var endY;\n        var argsData;\n        var pointIndex;\n        var isInversed = axis.isAxisInverse;\n        var start;\n        var end;\n        var gap;\n        var anchor = 'middle';\n        var opposedPosition = axis.isAxisOpposedPosition;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var clipX = ((opposedPosition && !isOutside) || (!opposedPosition && isOutside)) ?\n            (rect.x - axis.multiLevelLabelHeight - startX - padding) : (rect.x + startX);\n        this.createClipRect(clipX + scrollBarHeight, rect.y - axis.majorTickLines.width, rect.height + 2 * axis.majorTickLines.width, axis.multiLevelLabelHeight + padding, this.chart.element.id + '_YAxis_Clippath_' + index, this.chart.element.id\n            + 'YAxisMultiLevelLabel' + index);\n        axis.multiLevelLabels.map(function (multiLevel, level) {\n            _this.labelElement = _this.chart.renderer.createGroup({ id: _this.chart.element.id + index + '_MultiLevelLabel' + level });\n            pointIndex = 0;\n            multiLevel.categories.map(function (categoryLabel, i) {\n                path = '';\n                end = typeof categoryLabel.end === 'string' ? Number(new Date(categoryLabel.end)) : categoryLabel.end;\n                start = typeof categoryLabel.start === 'string' ? Number(new Date(categoryLabel.start)) : categoryLabel.start;\n                startY = valueToCoefficient((start), axis) * (rect.height);\n                endY = valueToCoefficient((end), axis) * (rect.height);\n                endY = isInversed ? [startY, startY = endY][0] : endY;\n                argsData = _this.triggerMultiLabelRender(axis, categoryLabel.text, multiLevel.textStyle, multiLevel.alignment, categoryLabel.customAttributes);\n                if (!argsData.cancel) {\n                    labelSize = measureText(argsData.text, argsData.textStyle);\n                    gap = endY - startY;\n                    x = rect.x - startX - _this.yAxisPrevHeight[level] -\n                        (_this.yAxisMultiLabelHeight[level] / 2) - padding / 2;\n                    y = rect.height + rect.y - startY - (gap / 2);\n                    if (opposedPosition) {\n                        x = isOutside ? rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level] + scrollBarHeight : rect.x - startX - (_this.yAxisMultiLabelHeight[level] / 2) -\n                            _this.yAxisPrevHeight[level] - padding / 2;\n                    }\n                    else {\n                        x = isOutside ? x + scrollBarHeight : rect.x + startX + padding / 2 + (_this.yAxisMultiLabelHeight[level] / 2) +\n                            _this.yAxisPrevHeight[level];\n                    }\n                    if (argsData.alignment === 'Center') {\n                        y += labelSize.height / 4;\n                    }\n                    else if (argsData.alignment === 'Far') {\n                        y += gap / 2 - labelSize.height / 2;\n                    }\n                    else {\n                        y = y - gap / 2 + labelSize.height;\n                    }\n                    x = multiLevel.border.type === 'CurlyBrace' ? (((!opposedPosition && isOutside) ||\n                        (opposedPosition && !isOutside)) ? x - padding : x + padding) : x;\n                    var options = new TextOption(_this.chart.element.id + index + '_Axis_MultiLevelLabel_Level_' + level + '_Text_' + i, x, y, anchor, argsData.text);\n                    options.text = (multiLevel.overflow === 'Trim') ?\n                        textTrim((categoryLabel.maximumTextWidth === null ? _this.yAxisMultiLabelHeight[level] :\n                            categoryLabel.maximumTextWidth), argsData.text, argsData.textStyle) : options.text;\n                    textElement(_this.chart.renderer, options, argsData.textStyle, argsData.textStyle.color || _this.chart.themeStyle.axisLabel, _this.labelElement, _this.chart.redraw, true, null, null, null, null, null, null, _this.chart.enableCanvas);\n                    if (multiLevel.border.width > 0 && multiLevel.border.type !== 'WithoutBorder') {\n                        path = _this.renderYAxisLabelBorder(level, gap, axis, endY, startX, startY, labelSize, options, rect, argsData.alignment, path, isOutside, opposedPosition, pointIndex);\n                        if (path !== '') {\n                            _this.createBorderElement(level, index, axis, path, pointIndex);\n                            pointIndex++;\n                        }\n                    }\n                    if (!_this.chart.enableCanvas) {\n                        _this.multiElements.appendChild(_this.labelElement);\n                    }\n                }\n            });\n        });\n        if (!this.chart.enableCanvas) {\n            parent.appendChild(this.multiElements);\n        }\n    };\n    /**\n     * render y axis multi level labels border\n     *\n     * @private\n     * @returns {void}\n     */\n    MultiLevelLabel.prototype.renderYAxisLabelBorder = function (labelIndex, gap, axis, endY, startX, startY, labelSize, textOptions, rect, alignment, path, isOutside, opposedPosition, categoryIndex) {\n        var height = endY - startY;\n        var padding = 10;\n        var padding1;\n        var padding2;\n        var groupLabel = axis.multiLevelLabels[labelIndex];\n        var categoryType = groupLabel.categories[categoryIndex].type;\n        var y = rect.y + rect.height - endY;\n        var scrollBarHeight = isOutside && isNullOrUndefined(axis.crossesAt) ? axis.scrollBarHeight : 0;\n        scrollBarHeight = scrollBarHeight * (opposedPosition ? 1 : -1);\n        var width = this.yAxisMultiLabelHeight[labelIndex] + padding;\n        var x = (((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? rect.x - startX -\n            this.yAxisPrevHeight[labelIndex] : rect.x + startX + this.yAxisPrevHeight[labelIndex]) + scrollBarHeight;\n        var borderType = categoryType ? categoryType : groupLabel.border.type;\n        switch (borderType) {\n            case 'WithoutTopandBottomBorder':\n            case 'Rectangle':\n            case 'WithoutTopBorder':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? -width : width;\n                path += 'M ' + x + ' ' + y + ' L ' + (x + width) + ' ' + y +\n                    ' M ' + x + ' ' + (y + height) + ' L ' + (x + width) + ' ' + (y + height);\n                path += (borderType !== 'WithoutTopandBottomBorder') ? (' L' + ' ' + (x + width) + ' ' + y + ' ') : ' ';\n                path += (borderType === 'Rectangle') ? ('M ' + (x) + ' ' + (y + height) + 'L' + ' ' + (x) + ' ' + y + ' ') : ' ';\n                break;\n            case 'Brace':\n                width = ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) ? width : -width;\n                path += 'M ' + (x) + ' ' + y + ' L ' + (x - width / 2) + ' ' + y + ' L ' + (x - width / 2) + ' ' +\n                    (textOptions.y - labelSize.height / 2 - 4) + ' M ' + (x - width / 2) + ' ' +\n                    (textOptions.y + labelSize.height / 4 + 2) +\n                    ' L ' + (x - width / 2) + ' ' + (y + height) + ' L ' + (x) + ' ' + (y + height);\n                break;\n            case 'CurlyBrace':\n                if ((!opposedPosition && isOutside) || (opposedPosition && !isOutside)) {\n                    padding = -10;\n                    padding1 = -15;\n                    padding2 = -5;\n                }\n                else {\n                    padding = 10;\n                    padding1 = 15;\n                    padding2 = 5;\n                }\n                if (alignment === 'Center') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2) + ' L ' + (x + padding1) + ' ' + (y + (height - 10) / 2 + 5)\n                        + ' L ' + (x + padding) + ' ' + (y + (height - 10) / 2 + 10) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' '\n                        + x + ' ' + (y + height);\n                }\n                else if (alignment === 'Far') {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding) + ' ' + (y + height - 20) + ' ' + ' L ' + (x + padding1) + ' ' + (y + (height - 15)) +\n                        ' L ' + (x + padding) + ' ' + (y + (height - 10)) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding) + ' ' + (y + height) + ' ' + x + ' '\n                        + (y + height);\n                }\n                else {\n                    path += 'M ' + x + ' ' + y + ' C ' + x + ' ' + y + ' ' + (x + padding) + ' ' + y + ' ' + (x + padding) + ' ' + (y + 10)\n                        + ' L ' + (x + padding1) + ' ' + (y + 15) +\n                        ' L ' + (x + padding) + ' ' + (y + 20) + ' L ' + (x + padding) + ' ' + (y + (height - 10)) +\n                        ' C ' + (x + padding) + ' ' + (y + (height - 10)) + ' ' + (x + padding2) + ' ' + (y + height) + ' ' + x +\n                        ' ' + (y + height);\n                }\n                break;\n        }\n        return path;\n    };\n    /**\n     * create cliprect\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createClipRect = function (x, y, height, width, clipId, axisId) {\n        this.multiElements = this.chart.renderer.createGroup({\n            'id': axisId,\n            'clip-path': 'url(#' + clipId + ')'\n        });\n        if (!this.chart.enableCanvas) {\n            this.multiElements.appendChild(appendClipElement(this.chart.redraw, {\n                'id': clipId,\n                'x': x,\n                'y': y,\n                'width': width,\n                'height': height,\n                'fill': 'white',\n                'stroke-width': 1, 'stroke': 'Gray'\n            }, this.chart.renderer));\n        }\n    };\n    /**\n     * create borer element\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.createBorderElement = function (borderIndex, axisIndex, axis, path, pointIndex) {\n        var direction = path;\n        var borderElement = this.chart.renderer.drawPath(new PathOption(this.chart.element.id + axisIndex + '_Axis_MultiLevelLabel_Rect_' + borderIndex + '_' + pointIndex, 'Transparent', axis.multiLevelLabels[borderIndex].border.width, axis.multiLevelLabels[borderIndex].border.color || this.chart.themeStyle.axisLine, 1, '', path));\n        borderElement.style.pointerEvents = 'none';\n        appendChildElement(this.chart.enableCanvas, this.labelElement, borderElement, this.chart.redraw, true, 'x', 'y', null, direction);\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.triggerMultiLabelRender = function (axis, text, textStyle, textAlignment, customAttributes) {\n        var argsData = {\n            cancel: false, name: axisMultiLabelRender, axis: axis,\n            text: text, textStyle: textStyle, alignment: textAlignment, customAttributes: customAttributes\n        };\n        this.chart.trigger(axisMultiLabelRender, argsData);\n        return argsData;\n    };\n    /**\n     * Triggers the event.\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.MultiLevelLabelClick = function (labelIndex, axisIndex) {\n        var level = parseInt(labelIndex.substr(0, 1), 10);\n        var textElement = parseInt(labelIndex.substr(7), 10);\n        var chart = this.chart;\n        var axis = chart.axisCollections[axisIndex];\n        var categories = axis.multiLevelLabels[level].categories;\n        var text = categories[textElement].text;\n        var start = categories[textElement].start;\n        var end = categories[textElement].end;\n        var customAttributes = categories[textElement].customAttributes;\n        var multilevelclickArgs = {\n            axis: axis, level: level, text: text, customAttributes: customAttributes,\n            start: start, end: end, name: multiLevelLabelClick, cancel: false\n        };\n        this.chart.trigger(multiLevelLabelClick, multilevelclickArgs);\n        return multilevelclickArgs;\n    };\n    /**\n     * To click the multi level label\n     *\n     * @returns {void}\n     * @private\n     */\n    MultiLevelLabel.prototype.click = function (event) {\n        var targetId = event.target.id;\n        var multiLevelID = '_Axis_MultiLevelLabel_Level_';\n        var textId;\n        var elementId;\n        var axisIndex;\n        if (this.chart.enableCanvas) {\n            for (var i = 0; i < this.multiLevelLabelRectXRegion.length; i++) {\n                if (withInBounds(event['x'], event['y'], this.multiLevelLabelRectXRegion[i], this.multiLevelLabelRectXRegion[i].width, this.multiLevelLabelRectXRegion[i].height)) {\n                    targetId = this.xLabelCollection[i].id;\n                }\n            }\n        }\n        if (targetId.indexOf(multiLevelID) > -1) {\n            textId = targetId.split(multiLevelID)[1];\n            elementId = targetId.split(multiLevelID)[0];\n            axisIndex = parseInt(elementId.charAt(elementId.length - 1), 10);\n            this.MultiLevelLabelClick(textId, axisIndex);\n        }\n    };\n    /**\n     * To get the module name for `MultiLevelLabel`.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.getModuleName = function () {\n        return 'MultiLevelLabel';\n    };\n    /**\n     * To destroy the `MultiLevelLabel` module.\n     *\n     * @private\n     */\n    MultiLevelLabel.prototype.destroy = function () {\n        // destroy peform here\n    };\n    return MultiLevelLabel;\n}());\nexport { MultiLevelLabel };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}