{"ast":null,"code":"/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\n\nvar Keyboard =\n/** @class */\nfunction () {\n  /**\n   * Constructor for keyboard module\n   *\n   * @param {Kanban} parent Accepts the kanban instance\n   */\n  function Keyboard(parent) {\n    this.keyConfigs = {\n      firstCardSelection: '36',\n      lastCardSelection: '35',\n      upArrow: '38',\n      downArrow: '40',\n      rightArrow: '39',\n      leftArrow: '37',\n      multiSelectionEnter: 'ctrl+13',\n      multiSelectionSpace: 'ctrl+32',\n      multiSelectionByUpArrow: 'shift+38',\n      multiSelectionByDownArrow: 'shift+40',\n      shiftTab: 'shift+tab',\n      enter: '13',\n      tab: 'tab',\n      delete: '46',\n      escape: '27',\n      space: '32'\n    };\n    this.parent = parent;\n    this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n    this.keyboardModule = new KeyboardEvents(this.parent.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n    this.multiSelection = false;\n  }\n\n  Keyboard.prototype.keyActionHandler = function (e) {\n    var _this = this;\n\n    var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n\n    if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n      return;\n    }\n\n    var contentCell;\n    var selectedCards;\n    var selectedCardsData = [];\n\n    switch (e.action) {\n      case 'upArrow':\n      case 'downArrow':\n      case 'multiSelectionByUpArrow':\n      case 'multiSelectionByDownArrow':\n        e.preventDefault();\n        this.processUpDownArrow(e.action, selectedCard);\n        break;\n\n      case 'rightArrow':\n      case 'leftArrow':\n        this.processLeftRightArrow(e);\n        break;\n\n      case 'firstCardSelection':\n      case 'lastCardSelection':\n        this.processCardSelection(e.action, selectedCard);\n        break;\n\n      case 'multiSelectionEnter':\n      case 'multiSelectionSpace':\n        if (document.activeElement) {\n          this.parent.actionModule.cardSelection(document.activeElement, true, false);\n        }\n\n        break;\n\n      case 'space':\n      case 'enter':\n        this.processEnter(e, selectedCard);\n        break;\n\n      case 'escape':\n        if (document.activeElement.classList.contains(cls.CARD_CLASS) || document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n          if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n            removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n            document.activeElement.focus();\n          } else {\n            var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n            var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n            removeClass(cards, cls.CARD_SELECTION_CLASS);\n            ele.focus();\n            this.cardTabIndexRemove();\n            this.addRemoveTabIndex('Add');\n          }\n        }\n\n        break;\n\n      case 'tab':\n      case 'shiftTab':\n        contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n          if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n            e.preventDefault();\n          }\n\n          if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON) && e.action === 'tab') {\n            addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n          }\n        }\n\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n          if (!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab' || e.action === 'shiftTab') {\n            e.preventDefault();\n          }\n        }\n\n        if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n          this.cardTabIndexRemove();\n          this.parent.keyboardModule.addRemoveTabIndex('Add');\n        }\n\n        break;\n\n      case 'delete':\n        selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n        selectedCards.forEach(function (selected) {\n          selectedCardsData.push(_this.parent.getCardDetails(selected));\n        });\n        this.parent.crudModule.deleteCard(selectedCardsData);\n        break;\n    }\n  };\n\n  Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n    if (selectedCard) {\n      removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n      this.parent.layoutModule.disableAttributeSelection(selectedCard);\n      var selection = this.parent.actionModule.selectionArray;\n      selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n    }\n\n    this.cardTabIndexRemove();\n    var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n    var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n    this.parent.actionModule.cardSelection(element, false, false);\n    this.addRemoveTabIndex('Remove');\n    element.focus();\n    var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n    card.forEach(function (element) {\n      element.setAttribute('tabindex', '0');\n    });\n  };\n\n  Keyboard.prototype.processLeftRightArrow = function (e) {\n    if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n      if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n        document.activeElement.nextElementSibling.focus();\n      } else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n        document.activeElement.previousElementSibling.focus();\n      }\n    }\n  };\n\n  Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n    if (action === 'upArrow' && document.activeElement) {\n      if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n        document.activeElement.previousElementSibling.focus();\n      } else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n        document.activeElement.setAttribute('tabindex', '-1');\n        removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n        var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n\n        if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n          [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n        }\n      }\n\n      this.removeSelection();\n    } else if (action === 'downArrow' && document.activeElement && document.activeElement.classList.contains(cls.CARD_CLASS)) {\n      if (document.activeElement.nextElementSibling) {\n        document.activeElement.nextElementSibling.focus();\n      } else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n        var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n        ele.setAttribute('tabindex', '0');\n        addClass([ele], cls.SHOW_ADD_FOCUS);\n        ele.focus();\n      }\n\n      this.removeSelection();\n    }\n\n    if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow') && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n      var card = void 0;\n\n      if (action === 'multiSelectionByUpArrow') {\n        card = document.activeElement.previousElementSibling;\n      } else {\n        card = document.activeElement.nextElementSibling;\n      }\n\n      if (card) {\n        this.parent.actionModule.cardSelection(card, false, true);\n        card.focus();\n        this.multiSelection = true;\n      }\n    }\n  };\n\n  Keyboard.prototype.removeSelection = function () {\n    if (this.multiSelection) {\n      var cards = this.parent.getSelectedCards();\n\n      if (cards.length > 0) {\n        removeClass(cards, cls.CARD_SELECTION_CLASS);\n        this.parent.layoutModule.disableAttributeSelection(cards);\n      }\n\n      this.multiSelection = false;\n    }\n  };\n\n  Keyboard.prototype.cardTabIndexRemove = function () {\n    var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n    cards.forEach(function (card) {\n      card.setAttribute('tabindex', '-1');\n    });\n    var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n    addButton.forEach(function (add) {\n      add.setAttribute('tabindex', '-1');\n      removeClass([add], cls.SHOW_ADD_FOCUS);\n    });\n  };\n\n  Keyboard.prototype.processEnter = function (e, selectedCard) {\n    if (e.action === 'space') {\n      e.preventDefault();\n    }\n\n    var element = e.target;\n\n    if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n      this.parent.actionModule.columnExpandCollapse(e);\n    }\n\n    if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n      this.parent.actionModule.rowExpandCollapse(e);\n    }\n\n    if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n      this.parent.actionModule.cardSelection(document.activeElement, false, false);\n    }\n\n    if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n      if (!this.parent.dialogModule.dialogObj) {\n        this.parent.actionModule.addButtonClick(document.activeElement);\n      }\n\n      document.activeElement.focus();\n    }\n\n    if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n      var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n      this.addRemoveTabIndex('Remove');\n\n      if (cards.length > 0) {\n        element.querySelector('.' + cls.CARD_CLASS).focus();\n        cards.forEach(function (element) {\n          element.setAttribute('tabindex', '0');\n        });\n      }\n\n      if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n        element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n        element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n      }\n    }\n\n    if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n      this.parent.activeCardData = {\n        data: this.parent.getCardDetails(selectedCard),\n        element: selectedCard\n      };\n\n      if (!this.parent.dialogModule.dialogObj) {\n        this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n      }\n\n      selectedCard.focus();\n    }\n  };\n\n  Keyboard.prototype.addRemoveTabIndex = function (action) {\n    var attribute = action === 'Add' ? '0' : '-1';\n    var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n\n    if (headerIcon.length > 0) {\n      headerIcon.forEach(function (element) {\n        element.setAttribute('tabindex', attribute);\n      });\n    }\n\n    var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n\n    if (swimlaneIcon.length > 0) {\n      swimlaneIcon.forEach(function (element) {\n        element.setAttribute('tabindex', attribute);\n      });\n    }\n\n    var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n    var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n    contentCell.forEach(function (element) {\n      element.setAttribute('tabindex', attribute);\n    });\n  };\n\n  Keyboard.prototype.destroy = function () {\n    this.keyboardModule.destroy();\n  };\n\n  return Keyboard;\n}();\n\nexport { Keyboard };","map":{"version":3,"names":["KeyboardEvents","addClass","removeClass","closest","cls","Keyboard","parent","keyConfigs","firstCardSelection","lastCardSelection","upArrow","downArrow","rightArrow","leftArrow","multiSelectionEnter","multiSelectionSpace","multiSelectionByUpArrow","multiSelectionByDownArrow","shiftTab","enter","tab","delete","escape","space","element","tabIndex","keyboardModule","keyAction","keyActionHandler","bind","eventName","multiSelection","prototype","e","_this","selectedCard","querySelectorAll","CARD_CLASS","CARD_SELECTION_CLASS","item","document","activeElement","ROOT_CLASS","contentCell","selectedCards","selectedCardsData","action","preventDefault","processUpDownArrow","processLeftRightArrow","processCardSelection","actionModule","cardSelection","processEnter","classList","contains","SHOW_ADD_BUTTON","focus","ele","CONTENT_CELLS_CLASS","cards","slice","call","cardTabIndexRemove","addRemoveTabIndex","nextElementSibling","previousElementSibling","querySelector","SHOW_ADD_FOCUS","forEach","selected","push","getCardDetails","crudModule","deleteCard","layoutModule","disableAttributeSelection","selection","selectionArray","splice","indexOf","getAttribute","length","card","setAttribute","cell","removeSelection","CARD_WRAPPER_CLASS","cardSettings","selectionType","getSelectedCards","addButton","add","target","HEADER_ICON_CLASS","columnExpandCollapse","SWIMLANE_ROW_EXPAND_CLASS","SWIMLANE_ROW_COLLAPSE_CLASS","rowExpandCollapse","dialogModule","dialogObj","addButtonClick","activeCardData","data","openDialog","attribute","headerIcon","swimlaneIcon","className","CONTENT_ROW_CLASS","SWIMLANE_ROW_CLASS","destroy"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Admin Dashboard/frontend/node_modules/@syncfusion/ej2-kanban/src/kanban/actions/keyboard.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport { KeyboardEvents, addClass, removeClass, closest } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\n/**\n * Kanban keyboard module\n */\nvar Keyboard = /** @class */ (function () {\n    /**\n     * Constructor for keyboard module\n     *\n     * @param {Kanban} parent Accepts the kanban instance\n     */\n    function Keyboard(parent) {\n        this.keyConfigs = {\n            firstCardSelection: '36',\n            lastCardSelection: '35',\n            upArrow: '38',\n            downArrow: '40',\n            rightArrow: '39',\n            leftArrow: '37',\n            multiSelectionEnter: 'ctrl+13',\n            multiSelectionSpace: 'ctrl+32',\n            multiSelectionByUpArrow: 'shift+38',\n            multiSelectionByDownArrow: 'shift+40',\n            shiftTab: 'shift+tab',\n            enter: '13',\n            tab: 'tab',\n            delete: '46',\n            escape: '27',\n            space: '32'\n        };\n        this.parent = parent;\n        this.parent.element.tabIndex = this.parent.element.tabIndex === -1 ? 0 : this.parent.element.tabIndex;\n        this.keyboardModule = new KeyboardEvents(this.parent.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n        this.multiSelection = false;\n    }\n    Keyboard.prototype.keyActionHandler = function (e) {\n        var _this = this;\n        var selectedCard = this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS).item(0);\n        if (!selectedCard && !closest(document.activeElement, \".\" + cls.ROOT_CLASS)) {\n            return;\n        }\n        var contentCell;\n        var selectedCards;\n        var selectedCardsData = [];\n        switch (e.action) {\n            case 'upArrow':\n            case 'downArrow':\n            case 'multiSelectionByUpArrow':\n            case 'multiSelectionByDownArrow':\n                e.preventDefault();\n                this.processUpDownArrow(e.action, selectedCard);\n                break;\n            case 'rightArrow':\n            case 'leftArrow':\n                this.processLeftRightArrow(e);\n                break;\n            case 'firstCardSelection':\n            case 'lastCardSelection':\n                this.processCardSelection(e.action, selectedCard);\n                break;\n            case 'multiSelectionEnter':\n            case 'multiSelectionSpace':\n                if (document.activeElement) {\n                    this.parent.actionModule.cardSelection(document.activeElement, true, false);\n                }\n                break;\n            case 'space':\n            case 'enter':\n                this.processEnter(e, selectedCard);\n                break;\n            case 'escape':\n                if (document.activeElement.classList.contains(cls.CARD_CLASS) ||\n                    document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if (document.activeElement.classList.contains(cls.CARD_SELECTION_CLASS)) {\n                        removeClass([document.activeElement], cls.CARD_SELECTION_CLASS);\n                        document.activeElement.focus();\n                    }\n                    else {\n                        var ele = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                        var cards = [].slice.call(ele.querySelectorAll('.' + cls.CARD_CLASS));\n                        removeClass(cards, cls.CARD_SELECTION_CLASS);\n                        ele.focus();\n                        this.cardTabIndexRemove();\n                        this.addRemoveTabIndex('Add');\n                    }\n                }\n                break;\n            case 'tab':\n            case 'shiftTab':\n                contentCell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n                    if (!document.activeElement.nextElementSibling && e.action === 'tab') {\n                        e.preventDefault();\n                    }\n                    if (!document.activeElement.previousElementSibling && contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)\n                        && e.action === 'tab') {\n                        addClass([contentCell.querySelector('.' + cls.SHOW_ADD_BUTTON)], cls.SHOW_ADD_FOCUS);\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                    if ((!contentCell.querySelector('.' + cls.CARD_CLASS) && e.action === 'tab') || e.action === 'shiftTab') {\n                        e.preventDefault();\n                    }\n                }\n                if (document.activeElement.classList.contains(cls.ROOT_CLASS)) {\n                    this.cardTabIndexRemove();\n                    this.parent.keyboardModule.addRemoveTabIndex('Add');\n                }\n                break;\n            case 'delete':\n                selectedCards = [].slice.call(this.parent.element.querySelectorAll(\".\" + cls.CARD_CLASS + \".\" + cls.CARD_SELECTION_CLASS));\n                selectedCards.forEach(function (selected) { selectedCardsData.push(_this.parent.getCardDetails(selected)); });\n                this.parent.crudModule.deleteCard(selectedCardsData);\n                break;\n        }\n    };\n    Keyboard.prototype.processCardSelection = function (action, selectedCard) {\n        if (selectedCard) {\n            removeClass([selectedCard], cls.CARD_SELECTION_CLASS);\n            this.parent.layoutModule.disableAttributeSelection(selectedCard);\n            var selection = this.parent.actionModule.selectionArray;\n            selection.splice(selection.indexOf(selectedCard.getAttribute('data-id')), 1);\n        }\n        this.cardTabIndexRemove();\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        var element = action === 'firstCardSelection' ? cards[0] : cards[cards.length - 1];\n        this.parent.actionModule.cardSelection(element, false, false);\n        this.addRemoveTabIndex('Remove');\n        element.focus();\n        var card = [].slice.call(closest(element, '.' + cls.CONTENT_CELLS_CLASS).querySelectorAll('.' + cls.CARD_CLASS));\n        card.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n    };\n    Keyboard.prototype.processLeftRightArrow = function (e) {\n        if (document.activeElement.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            if (e.action === 'rightArrow' && document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (e.action === 'leftArrow' && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n        }\n    };\n    Keyboard.prototype.processUpDownArrow = function (action, selectedCard) {\n        if (action === 'upArrow' && document.activeElement) {\n            if (document.activeElement.classList.contains(cls.CARD_CLASS) && document.activeElement.previousElementSibling) {\n                document.activeElement.previousElementSibling.focus();\n            }\n            else if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n                document.activeElement.setAttribute('tabindex', '-1');\n                removeClass([document.activeElement], cls.SHOW_ADD_FOCUS);\n                var cell = closest(document.activeElement, '.' + cls.CONTENT_CELLS_CLASS);\n                if (cell.querySelectorAll('.' + cls.CARD_CLASS).length > 0) {\n                    [].slice.call(cell.querySelectorAll('.' + cls.CARD_CLASS)).slice(-1)[0].focus();\n                }\n            }\n            this.removeSelection();\n        }\n        else if (action === 'downArrow' && document.activeElement &&\n            document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            if (document.activeElement.nextElementSibling) {\n                document.activeElement.nextElementSibling.focus();\n            }\n            else if (closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling) {\n                var ele = closest(document.activeElement, '.' + cls.CARD_WRAPPER_CLASS).nextElementSibling;\n                ele.setAttribute('tabindex', '0');\n                addClass([ele], cls.SHOW_ADD_FOCUS);\n                ele.focus();\n            }\n            this.removeSelection();\n        }\n        if ((action === 'multiSelectionByUpArrow' || action === 'multiSelectionByDownArrow')\n            && selectedCard && this.parent.cardSettings.selectionType === 'Multiple') {\n            var card = void 0;\n            if (action === 'multiSelectionByUpArrow') {\n                card = document.activeElement.previousElementSibling;\n            }\n            else {\n                card = document.activeElement.nextElementSibling;\n            }\n            if (card) {\n                this.parent.actionModule.cardSelection(card, false, true);\n                card.focus();\n                this.multiSelection = true;\n            }\n        }\n    };\n    Keyboard.prototype.removeSelection = function () {\n        if (this.multiSelection) {\n            var cards = this.parent.getSelectedCards();\n            if (cards.length > 0) {\n                removeClass(cards, cls.CARD_SELECTION_CLASS);\n                this.parent.layoutModule.disableAttributeSelection(cards);\n            }\n            this.multiSelection = false;\n        }\n    };\n    Keyboard.prototype.cardTabIndexRemove = function () {\n        var cards = [].slice.call(this.parent.element.querySelectorAll('.' + cls.CARD_CLASS));\n        cards.forEach(function (card) { card.setAttribute('tabindex', '-1'); });\n        var addButton = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SHOW_ADD_BUTTON));\n        addButton.forEach(function (add) {\n            add.setAttribute('tabindex', '-1');\n            removeClass([add], cls.SHOW_ADD_FOCUS);\n        });\n    };\n    Keyboard.prototype.processEnter = function (e, selectedCard) {\n        if (e.action === 'space') {\n            e.preventDefault();\n        }\n        var element = (e.target);\n        if (element.classList.contains(cls.HEADER_ICON_CLASS)) {\n            this.parent.actionModule.columnExpandCollapse(e);\n        }\n        if (element.classList.contains(cls.SWIMLANE_ROW_EXPAND_CLASS) || element.classList.contains(cls.SWIMLANE_ROW_COLLAPSE_CLASS)) {\n            this.parent.actionModule.rowExpandCollapse(e);\n        }\n        if (document.activeElement.classList.contains(cls.CARD_CLASS)) {\n            this.parent.actionModule.cardSelection(document.activeElement, false, false);\n        }\n        if (document.activeElement.classList.contains(cls.SHOW_ADD_BUTTON)) {\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.actionModule.addButtonClick(document.activeElement);\n            }\n            document.activeElement.focus();\n        }\n        if (element.classList.contains(cls.CONTENT_CELLS_CLASS)) {\n            var cards = [].slice.call(element.querySelectorAll('.' + cls.CARD_CLASS));\n            this.addRemoveTabIndex('Remove');\n            if (cards.length > 0) {\n                element.querySelector('.' + cls.CARD_CLASS).focus();\n                cards.forEach(function (element) { element.setAttribute('tabindex', '0'); });\n            }\n            if (element.querySelector('.' + cls.SHOW_ADD_BUTTON)) {\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).setAttribute('tabindex', '0');\n                element.querySelector('.' + cls.SHOW_ADD_BUTTON).focus();\n            }\n        }\n        if (selectedCard === document.activeElement && this.parent.element.querySelectorAll('.' + cls.CARD_SELECTION_CLASS).length === 1) {\n            this.parent.activeCardData = {\n                data: this.parent.getCardDetails(selectedCard), element: selectedCard\n            };\n            if (!this.parent.dialogModule.dialogObj) {\n                this.parent.dialogModule.openDialog('Edit', this.parent.getCardDetails(selectedCard));\n            }\n            selectedCard.focus();\n        }\n    };\n    Keyboard.prototype.addRemoveTabIndex = function (action) {\n        var attribute = action === 'Add' ? '0' : '-1';\n        var headerIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.HEADER_ICON_CLASS));\n        if (headerIcon.length > 0) {\n            headerIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var swimlaneIcon = [].slice.call(this.parent.element.querySelectorAll('.' + cls.SWIMLANE_ROW_EXPAND_CLASS));\n        if (swimlaneIcon.length > 0) {\n            swimlaneIcon.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n        }\n        var className = '.' + cls.CONTENT_ROW_CLASS + ':not(.' + cls.SWIMLANE_ROW_CLASS + ') .' + cls.CONTENT_CELLS_CLASS;\n        var contentCell = [].slice.call(this.parent.element.querySelectorAll(className));\n        contentCell.forEach(function (element) { element.setAttribute('tabindex', attribute); });\n    };\n    Keyboard.prototype.destroy = function () {\n        this.keyboardModule.destroy();\n    };\n    return Keyboard;\n}());\nexport { Keyboard };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}