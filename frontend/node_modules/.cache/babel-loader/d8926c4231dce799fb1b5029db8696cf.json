{"ast":null,"code":"import { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, createElement, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, select } from '@syncfusion/ej2-base';\nimport { Download, GetDetails } from './../common/operations';\nimport { createDialog } from './dialog';\nimport { cutFiles, copyFiles, refresh, getPathObject, getLocaleText, updateLayout, getFullPath } from './../common/utility';\nimport { getCssClass, sortbyClickHandler, pasteHandler } from './../common/utility';\nimport { createDeniedDialog, createNewFolder, uploadItem, hasEditAccess, hasDownloadAccess } from './../common/utility';\nimport * as events from './../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * ContextMenu module\n */\n\nvar ContextMenu =\n/** @class */\nfunction () {\n  /**\n   * Constructor for the ContextMenu module\n   *\n   * @param {IFileManager} parent - Specifies the parent element.\n   * @hidden\n   */\n  function ContextMenu(parent) {\n    this.currentItems = [];\n    this.currentElement = null;\n    this.disabledItems = [];\n    this.parent = parent;\n    this.render();\n  }\n\n  ContextMenu.prototype.render = function () {\n    this.keyConfigs = {\n      downarrow: 'downarrow',\n      uparrow: 'uparrown'\n    };\n    this.contextMenu = new Menu({\n      enableRtl: this.parent.enableRtl,\n      locale: this.parent.locale,\n      target: '#' + this.parent.element.id,\n      enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n      beforeItemRender: this.onBeforeItemRender.bind(this),\n      select: this.onSelect.bind(this),\n      beforeOpen: this.onBeforeOpen.bind(this),\n      beforeClose: this.onBeforeClose.bind(this),\n      cssClass: getCssClass(this.parent, CLS.ROOT_POPUP)\n    });\n    this.contextMenu.isStringTemplate = true;\n    this.contextMenu.appendTo('#' + this.parent.element.id + CLS.CONTEXT_MENU_ID);\n    this.addEventListener();\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu.prototype.onBeforeItemRender = function (args) {\n    if (args.item.id === this.getMenuId('largeiconsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', CLS.ICON_LARGE + ' ' + CLS.MENU_ICON);\n    }\n\n    if (args.item.id === this.getMenuId('detailsview')) {\n      var iconSpan = createElement('span');\n      var element = args.element;\n      element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n      iconSpan.setAttribute('class', CLS.ICON_GRID + ' ' + CLS.MENU_ICON);\n    }\n  };\n\n  ContextMenu.prototype.onBeforeClose = function () {\n    this.menuTarget = null;\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu.prototype.onBeforeOpen = function (args) {\n    var _this = this;\n\n    this.disabledItems = [];\n    var selected = false;\n    var uid; // eslint-disable-next-line\n\n    var data;\n    var treeFolder = false;\n    var target = args.event.target;\n    this.menuTarget = this.targetNodeElement = target;\n    this.currentElement = args.element;\n\n    if (target.classList.contains('e-spinner-pane')) {\n      target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(CLS.FULLROW)[0];\n      this.menuTarget = this.targetNodeElement = target;\n    }\n\n    this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n    var view = this.getTargetView(target);\n    this.updateActiveModule();\n    /* istanbul ignore next */\n\n    if (target.classList.contains(CLS.TREE_VIEW) || closest(target, 'th') || closest(target, '#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID) || closest(target, '#' + this.parent.element.id + CLS.TOOLBAR_ID)) {\n      args.cancel = true; // eslint:disable-next-line\n    } else if (!(this.parent.view === 'LargeIcons') && this.targetElement && this.targetElement.classList.contains('e-emptyrow')) {\n      this.setLayoutItem(target);\n      /* istanbul ignore next */\n    } else if (closest(target, '.' + CLS.EMPTY)) {\n      this.setLayoutItem(target); // eslint:disable-next-line\n    } else if (!target.classList.contains(CLS.MENU_ITEM) && !target.classList.contains(CLS.MENU_ICON) && !target.classList.contains(CLS.SUBMENU_ICON)) {\n      /* istanbul ignore next */\n      // eslint:disable-next-line\n      if (this.parent.view === 'LargeIcons' && !isNOU(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n        var eveArgs = {\n          ctrlKey: true,\n          shiftKey: true\n        };\n\n        if (!closest(target, 'li').classList.contains('e-active')) {\n          this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n        } // eslint-disable-next-line\n\n\n        data = this.parent.visitedData;\n        selected = true;\n      } else if (!isNOU(closest(target, 'tr.e-row'))) {\n        uid = this.targetElement.getAttribute('data-uid'); // eslint-disable-next-line\n\n        data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n\n        if (isNOU(this.targetElement.getAttribute('aria-selected'))) {\n          /* istanbul ignore next */\n          this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n        }\n\n        selected = true;\n        /* istanbul ignore next */\n      } else if (closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n        uid = closest(target, 'li').getAttribute('data-uid');\n        treeFolder = true;\n      }\n      /* istanbul ignore next */\n\n\n      if (selected) {\n        if (getValue('isFile', data) === true) {\n          this.setFileItem();\n        } else {\n          this.setFolderItem(false);\n        }\n        /* istanbul ignore next */\n\n      } else if (treeFolder) {\n        this.setFolderItem(true);\n\n        if (uid === this.parent.pathId[0]) {\n          this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n        }\n        /* istanbul ignore next */\n        // eslint:disable-next-line\n\n      } else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n        this.setLayoutItem(target);\n        /* istanbul ignore next */\n      } else {\n        args.cancel = true;\n      }\n    }\n\n    var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n\n    if (!args.cancel && !this.parent.enablePaste && pasteEle && !pasteEle.classList.contains('e-disabled')) {\n      this.disabledItems.push('Paste');\n    }\n\n    if (args.cancel) {\n      this.menuTarget = this.currentElement = null;\n      return;\n    }\n\n    this.contextMenu.dataBind();\n    var isSubMenu = false;\n\n    if (target.classList.contains(CLS.MENU_ITEM) || target.classList.contains(CLS.MENU_ICON) || target.classList.contains(CLS.SUBMENU_ICON)) {\n      isSubMenu = true;\n    }\n\n    this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n    var eventArgs = {\n      fileDetails: [this.menuItemData],\n      element: args.element,\n      target: target,\n      items: isSubMenu ? args.items : this.contextMenu.items,\n      menuModule: this.contextMenu,\n      cancel: false,\n      menuType: this.menuType,\n      isSubMenu: isSubMenu\n    };\n    this.currentItems = eventArgs.items;\n    this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n      if (!isSubMenu) {\n        _this.contextMenu.dataBind();\n\n        _this.contextMenu.items = menuOpenArgs.items;\n\n        _this.contextMenu.dataBind();\n      }\n\n      _this.enableItems(_this.disabledItems, false, true);\n\n      args.cancel = menuOpenArgs.cancel;\n\n      if (menuOpenArgs.cancel) {\n        _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n      }\n    });\n  };\n\n  ContextMenu.prototype.updateActiveModule = function () {\n    this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + CLS.TREE_ID) ? 'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.GRID_ID) ? 'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.LARGEICON_ID) ? 'largeiconsview' : this.parent.activeModule;\n  };\n  /* istanbul ignore next */\n\n  /**\n   *\n   * @param {Element} target - specifies the target element.\n   * @returns {string} -returns the target view.\n   * @hidden\n   */\n\n\n  ContextMenu.prototype.getTargetView = function (target) {\n    return target.classList.contains(CLS.TREE_VIEW) ? 'TreeView' : target.classList.contains(CLS.GRID_VIEW) ? 'GridView' : target.classList.contains(CLS.ICON_VIEW) ? 'LargeIcon' : target.classList.contains(CLS.LARGE_ICONS) ? 'LargeIcon' : '';\n  };\n\n  ContextMenu.prototype.getItemIndex = function (item) {\n    var itemId = this.getMenuId(item);\n\n    for (var i = 0; i < this.currentItems.length; i++) {\n      if (this.currentItems[i].id === itemId || this.currentItems[i].id === item) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  ContextMenu.prototype.disableItem = function (items) {\n    if (items.length !== 0) {\n      this.disabledItems = this.disabledItems.concat(items);\n    }\n  };\n\n  ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n    for (var i = 0; i < items.length; i++) {\n      if (this.checkValidItem(items[i]) === 1) {\n        this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n      } else if (this.checkValidItem(items[i]) === 2) {\n        this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n      }\n    }\n  };\n\n  ContextMenu.prototype.setFolderItem = function (isTree) {\n    this.menuType = 'folder';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (isTree) {\n      this.disabledItems.push('Open');\n    } else if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename', 'Paste');\n    }\n  };\n\n  ContextMenu.prototype.setFileItem = function () {\n    this.menuType = 'file';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (this.parent.selectedItems.length !== 1) {\n      this.disabledItems.push('Rename');\n    }\n  };\n\n  ContextMenu.prototype.setLayoutItem = function (target) {\n    this.menuType = 'layout';\n    this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) {\n      return item.trim();\n    }));\n    this.contextMenu.dataBind();\n\n    if (!this.parent.allowMultiSelection || this.parent.view === 'LargeIcons' && closest(target, '#' + this.parent.element.id + CLS.LARGEICON_ID).getElementsByClassName(CLS.EMPTY).length !== 0 || this.parent.view === 'Details' && closest(target, '#' + this.parent.element.id + CLS.GRID_ID).getElementsByClassName(CLS.EMPTY).length !== 0) {\n      this.disabledItems.push('SelectAll');\n    }\n\n    if (this.parent.selectedNodes.length === 0) {\n      this.disabledItems.push('Paste');\n    }\n\n    this.contextMenu.dataBind();\n  };\n\n  ContextMenu.prototype.checkValidItem = function (nameEle) {\n    if (!isNOU(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n      return 1;\n    } else if (!isNOU(select('#' + nameEle, this.currentElement))) {\n      return 2;\n    } else {\n      return -1;\n    }\n  }; // eslint-disable-next-line\n\n\n  ContextMenu.prototype.getMenuItemData = function () {\n    if (this.menuType === 'layout') {\n      return getPathObject(this.parent);\n    } else {\n      // eslint-disable-next-line\n      var args = {\n        target: this.menuTarget\n      };\n      this.parent.notify(events.menuItemData, args);\n      return this.parent.itemData[0];\n    }\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu.prototype.onSelect = function (args) {\n    var _this = this;\n\n    if (isNOU(args.item) || !args.item.id) {\n      return;\n    }\n\n    var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length); // eslint-disable-next-line\n\n    var details;\n\n    if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n      details = [getPathObject(this.parent)];\n      this.parent.itemData = details;\n    } else {\n      this.parent.notify(events.selectedData, {});\n\n      if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n        details = [this.menuItemData];\n      } else {\n        details = this.parent.itemData;\n      }\n    }\n\n    var eventArgs = {\n      cancel: false,\n      element: args.element,\n      fileDetails: details,\n      item: args.item\n    };\n    this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n      var sItems;\n\n      if (!menuClickArgs.cancel) {\n        // eslint:disable-next-line\n        switch (itemText) {\n          case 'cut':\n            cutFiles(_this.parent);\n            break;\n\n          case 'copy':\n            copyFiles(_this.parent);\n            break;\n\n          case 'paste':\n            if (_this.menuType === 'folder') {\n              if (_this.parent.activeModule === 'largeiconsview' || _this.parent.activeModule === 'detailsview') {\n                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n              } else {\n                _this.parent.folderPath = '';\n              }\n            } else {\n              _this.parent.folderPath = '';\n            }\n\n            pasteHandler(_this.parent);\n            break;\n\n          case 'delete':\n            for (var j = 0; j < details.length; j++) {\n              if (!hasEditAccess(details[j])) {\n                createDeniedDialog(_this.parent, details[j], events.permissionEdit);\n                return;\n              }\n            }\n\n            createDialog(_this.parent, 'Delete');\n            break;\n\n          /* istanbul ignore next */\n\n          case 'download':\n            for (var i = 0; i < details.length; i++) {\n              if (!hasDownloadAccess(details[i])) {\n                createDeniedDialog(_this.parent, details[i], events.permissionDownload);\n                return;\n              }\n            }\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              _this.parent.notify(events.downloadInit, {});\n            } else if (_this.parent.selectedItems.length > 0) {\n              Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n            }\n\n            break;\n\n          case 'rename':\n            if (!hasEditAccess(details[0])) {\n              createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n            } else {\n              _this.parent.notify(events.renameInit, {});\n\n              createDialog(_this.parent, 'Rename');\n            }\n\n            break;\n\n          case 'selectall':\n            /* istanbul ignore next */\n            _this.parent.notify(events.selectAllInit, {});\n\n            break;\n\n          case 'refresh':\n            refresh(_this.parent);\n            break;\n\n          case 'open':\n            if (_this.parent.visitedItem) {\n              _this.parent.notify(events.openInit, {\n                target: _this.parent.visitedItem\n              });\n            } else if (_this.parent.activeModule === 'navigationpane') {\n              _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n            }\n\n            break;\n\n          case 'details':\n            _this.parent.notify(events.detailsInit, {});\n\n            sItems = _this.parent.selectedItems;\n\n            if (_this.parent.activeModule === 'navigationpane') {\n              sItems = [];\n            }\n\n            GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n            break;\n\n          case 'newfolder':\n            createNewFolder(_this.parent);\n            break;\n\n          case 'upload':\n            uploadItem(_this.parent);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'name':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'size':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'date':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'ascending':\n          /* istanbul ignore next */\n          // eslint-disable-next-line no-fallthrough\n\n          case 'descending':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n\n          case 'none':\n            /* istanbul ignore next */\n            sortbyClickHandler(_this.parent, args);\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'largeiconsview':\n            updateLayout(_this.parent, 'LargeIcons');\n            break;\n\n          /* istanbul ignore next */\n          // eslint:disable-next-line\n\n          case 'detailsview':\n            updateLayout(_this.parent, 'Details');\n            break;\n        }\n      }\n    });\n  };\n\n  ContextMenu.prototype.onPropertyChanged = function (e) {\n    if (e.module !== this.getModuleName() && e.module !== 'common') {\n      /* istanbul ignore next */\n      return;\n    }\n\n    for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n      var prop = _a[_i];\n\n      switch (prop) {\n        case 'cssClass':\n          this.contextMenu.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n          break;\n      }\n    }\n  };\n\n  ContextMenu.prototype.addEventListener = function () {\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n    this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n      keyAction: this.keyActionHandler.bind(this),\n      keyConfigs: this.keyConfigs,\n      eventName: 'keydown'\n    });\n  };\n\n  ContextMenu.prototype.removeEventListener = function () {\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.modelChanged, this.onPropertyChanged);\n    this.keyboardModule.destroy();\n  };\n\n  ContextMenu.prototype.keyActionHandler = function (e) {\n    switch (e.action) {\n      case 'uparrow':\n      case 'downarrow':\n        e.preventDefault();\n    }\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the module name.\n   * @private\n   */\n\n\n  ContextMenu.prototype.getModuleName = function () {\n    return 'contextmenu';\n  };\n\n  ContextMenu.prototype.destroy = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.removeEventListener();\n    this.contextMenu.destroy();\n  };\n  /* istanbul ignore next */\n\n\n  ContextMenu.prototype.getItemData = function (data) {\n    var items = [];\n\n    for (var i = 0; i < data.length; i++) {\n      var item = void 0;\n      var itemId = this.getMenuId(data[i]);\n      var itemText = getLocaleText(this.parent, data[i]);\n\n      switch (data[i]) {\n        case '|':\n          item = {\n            separator: true\n          };\n          break;\n\n        case 'Open':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_OPEN\n          };\n          break;\n\n        case 'Upload':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_UPLOAD\n          };\n          break;\n\n        case 'Cut':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_CUT\n          };\n          break;\n\n        case 'Copy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_COPY\n          };\n          break;\n\n        case 'Paste':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_PASTE\n          };\n          break;\n\n        case 'Delete':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DELETE\n          };\n          break;\n\n        case 'Rename':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_RENAME\n          };\n          break;\n\n        case 'NewFolder':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_NEWFOLDER\n          };\n          break;\n\n        case 'Details':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DETAILS\n          };\n          break;\n\n        case 'SortBy':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_SHORTBY,\n            items: [{\n              id: this.getMenuId('Name'),\n              text: getLocaleText(this.parent, 'Name'),\n              iconCss: this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Size'),\n              text: getLocaleText(this.parent, 'Size'),\n              iconCss: this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : null\n            }, {\n              id: this.getMenuId('Date'),\n              text: getLocaleText(this.parent, 'DateModified'),\n              iconCss: this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : null\n            }, {\n              separator: true\n            }, {\n              id: this.getMenuId('Ascending'),\n              text: getLocaleText(this.parent, 'Ascending'),\n              iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('Descending'),\n              text: getLocaleText(this.parent, 'Descending'),\n              iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : null\n            }, {\n              id: this.getMenuId('None'),\n              text: getLocaleText(this.parent, 'None'),\n              iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'View':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n            items: [{\n              id: this.getMenuId('largeiconsview'),\n              text: getLocaleText(this.parent, 'View-LargeIcons'),\n              iconCss: this.parent.view === 'Details' ? null : CLS.TB_OPTION_TICK\n            }, {\n              id: this.getMenuId('detailsview'),\n              text: getLocaleText(this.parent, 'View-Details'),\n              iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : null\n            }]\n          };\n          break;\n\n        case 'Refresh':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_REFRESH\n          };\n          break;\n\n        case 'SelectAll':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_SELECTALL\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        case 'Download':\n          item = {\n            id: itemId,\n            text: itemText,\n            iconCss: CLS.ICON_DOWNLOAD\n          };\n          break;\n\n        /* istanbul ignore next */\n\n        default:\n          item = {\n            id: itemId,\n            text: itemText\n          };\n          break;\n      }\n\n      items.push(item);\n    }\n\n    return items;\n  };\n\n  ContextMenu.prototype.getMenuId = function (id) {\n    return this.parent.element.id + '_cm_' + id.toLowerCase();\n  };\n\n  return ContextMenu;\n}();\n\nexport { ContextMenu };","map":{"version":3,"names":["ContextMenu","Menu","isNullOrUndefined","isNOU","createElement","closest","KeyboardEvents","getValue","select","Download","GetDetails","createDialog","cutFiles","copyFiles","refresh","getPathObject","getLocaleText","updateLayout","getFullPath","getCssClass","sortbyClickHandler","pasteHandler","createDeniedDialog","createNewFolder","uploadItem","hasEditAccess","hasDownloadAccess","events","CLS","parent","currentItems","currentElement","disabledItems","render","prototype","keyConfigs","downarrow","uparrow","contextMenu","enableRtl","locale","target","element","id","enableHtmlSanitizer","beforeItemRender","onBeforeItemRender","bind","onSelect","beforeOpen","onBeforeOpen","beforeClose","onBeforeClose","cssClass","ROOT_POPUP","isStringTemplate","appendTo","CONTEXT_MENU_ID","addEventListener","args","item","getMenuId","iconSpan","insertBefore","view","childNodes","setAttribute","ICON_LARGE","MENU_ICON","ICON_GRID","menuTarget","_this","selected","uid","data","treeFolder","event","targetNodeElement","classList","contains","navigationpaneModule","activeNode","getElementsByClassName","FULLROW","targetElement","getTargetView","updateActiveModule","TREE_VIEW","BREADCRUMBBAR_ID","TOOLBAR_ID","cancel","setLayoutItem","EMPTY","MENU_ITEM","SUBMENU_ICON","TREE_ID","eveArgs","ctrlKey","shiftKey","largeiconsviewModule","doSelection","visitedData","getAttribute","detailsviewModule","gridObj","getRowObjectFromUID","selectRows","parseInt","setFileItem","setFolderItem","pathId","push","pasteEle","enablePaste","dataBind","isSubMenu","menuItemData","getMenuItemData","eventArgs","fileDetails","items","menuModule","menuType","trigger","menuOpenArgs","enableItems","activeModule","GRID_ID","LARGEICON_ID","GRID_VIEW","ICON_VIEW","LARGE_ICONS","getItemIndex","itemId","i","length","disableItem","concat","enable","isUniqueId","checkValidItem","isTree","getItemData","contextMenuSettings","folder","map","trim","selectedItems","file","layout","allowMultiSelection","selectedNodes","nameEle","notify","itemData","itemText","substr","details","selectedData","menuClickArgs","sItems","folderPath","path","j","permissionEdit","permissionDownload","downloadInit","renameInit","selectAllInit","visitedItem","openInit","openFileOnContextMenuClick","detailsInit","onPropertyChanged","e","module","getModuleName","_i","_a","Object","keys","newProp","prop","on","destroy","modelChanged","keyboardModule","keyAction","keyActionHandler","eventName","removeEventListener","off","action","preventDefault","isDestroyed","separator","text","iconCss","ICON_OPEN","ICON_UPLOAD","ICON_CUT","ICON_COPY","ICON_PASTE","ICON_DELETE","ICON_RENAME","ICON_NEWFOLDER","ICON_DETAILS","ICON_SHORTBY","sortBy","TB_OPTION_DOT","sortOrder","TB_OPTION_TICK","ICON_REFRESH","ICON_SELECTALL","ICON_DOWNLOAD","toLowerCase"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-filemanager/src/file-manager/pop-up/context-menu.js"],"sourcesContent":["import { ContextMenu as Menu } from '@syncfusion/ej2-navigations';\nimport { isNullOrUndefined as isNOU, createElement, closest, KeyboardEvents } from '@syncfusion/ej2-base';\nimport { getValue, select } from '@syncfusion/ej2-base';\nimport { Download, GetDetails } from './../common/operations';\nimport { createDialog } from './dialog';\nimport { cutFiles, copyFiles, refresh, getPathObject, getLocaleText, updateLayout, getFullPath } from './../common/utility';\nimport { getCssClass, sortbyClickHandler, pasteHandler } from './../common/utility';\nimport { createDeniedDialog, createNewFolder, uploadItem, hasEditAccess, hasDownloadAccess } from './../common/utility';\nimport * as events from './../base/constant';\nimport * as CLS from '../base/classes';\n/**\n * ContextMenu module\n */\nvar ContextMenu = /** @class */ (function () {\n    /**\n     * Constructor for the ContextMenu module\n     *\n     * @param {IFileManager} parent - Specifies the parent element.\n     * @hidden\n     */\n    function ContextMenu(parent) {\n        this.currentItems = [];\n        this.currentElement = null;\n        this.disabledItems = [];\n        this.parent = parent;\n        this.render();\n    }\n    ContextMenu.prototype.render = function () {\n        this.keyConfigs = {\n            downarrow: 'downarrow',\n            uparrow: 'uparrown'\n        };\n        this.contextMenu = new Menu({\n            enableRtl: this.parent.enableRtl,\n            locale: this.parent.locale,\n            target: '#' + this.parent.element.id,\n            enableHtmlSanitizer: this.parent.enableHtmlSanitizer,\n            beforeItemRender: this.onBeforeItemRender.bind(this),\n            select: this.onSelect.bind(this),\n            beforeOpen: this.onBeforeOpen.bind(this),\n            beforeClose: this.onBeforeClose.bind(this),\n            cssClass: getCssClass(this.parent, CLS.ROOT_POPUP)\n        });\n        this.contextMenu.isStringTemplate = true;\n        this.contextMenu.appendTo('#' + this.parent.element.id + CLS.CONTEXT_MENU_ID);\n        this.addEventListener();\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onBeforeItemRender = function (args) {\n        if (args.item.id === this.getMenuId('largeiconsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'LargeIcons' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', CLS.ICON_LARGE + ' ' + CLS.MENU_ICON);\n        }\n        if (args.item.id === this.getMenuId('detailsview')) {\n            var iconSpan = createElement('span');\n            var element = args.element;\n            element.insertBefore(iconSpan, this.parent.view === 'Details' ? element.childNodes[1] : element.childNodes[0]);\n            iconSpan.setAttribute('class', CLS.ICON_GRID + ' ' + CLS.MENU_ICON);\n        }\n    };\n    ContextMenu.prototype.onBeforeClose = function () {\n        this.menuTarget = null;\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onBeforeOpen = function (args) {\n        var _this = this;\n        this.disabledItems = [];\n        var selected = false;\n        var uid;\n        // eslint-disable-next-line\n        var data;\n        var treeFolder = false;\n        var target = args.event.target;\n        this.menuTarget = this.targetNodeElement = target;\n        this.currentElement = args.element;\n        if (target.classList.contains('e-spinner-pane')) {\n            target = this.parent.navigationpaneModule.activeNode.getElementsByClassName(CLS.FULLROW)[0];\n            this.menuTarget = this.targetNodeElement = target;\n        }\n        this.targetElement = this.parent.view === 'Details' ? closest(target, 'tr.e-row') : target;\n        var view = this.getTargetView(target);\n        this.updateActiveModule();\n        /* istanbul ignore next */\n        if (target.classList.contains(CLS.TREE_VIEW) || closest(target, 'th') ||\n            (closest(target, '#' + this.parent.element.id + CLS.BREADCRUMBBAR_ID)) ||\n            (closest(target, '#' + this.parent.element.id + CLS.TOOLBAR_ID))) {\n            args.cancel = true;\n            // eslint:disable-next-line\n        }\n        else if (!(this.parent.view === 'LargeIcons') && this.targetElement &&\n            this.targetElement.classList.contains('e-emptyrow')) {\n            this.setLayoutItem(target);\n            /* istanbul ignore next */\n        }\n        else if (closest(target, '.' + CLS.EMPTY)) {\n            this.setLayoutItem(target);\n            // eslint:disable-next-line\n        }\n        else if (!target.classList.contains(CLS.MENU_ITEM) &&\n            !target.classList.contains(CLS.MENU_ICON) && !target.classList.contains(CLS.SUBMENU_ICON)) {\n            /* istanbul ignore next */\n            // eslint:disable-next-line\n            if (this.parent.view === 'LargeIcons' && !isNOU(closest(target, 'li')) && !closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n                var eveArgs = { ctrlKey: true, shiftKey: true };\n                if (!closest(target, 'li').classList.contains('e-active')) {\n                    this.parent.largeiconsviewModule.doSelection(target, eveArgs);\n                }\n                // eslint-disable-next-line\n                data = this.parent.visitedData;\n                selected = true;\n            }\n            else if (!isNOU(closest(target, 'tr.e-row'))) {\n                uid = this.targetElement.getAttribute('data-uid');\n                // eslint-disable-next-line\n                data = this.parent.detailsviewModule.gridObj.getRowObjectFromUID(uid).data;\n                if (isNOU(this.targetElement.getAttribute('aria-selected'))) {\n                    /* istanbul ignore next */\n                    this.parent.detailsviewModule.gridObj.selectRows([parseInt(this.targetElement.getAttribute('aria-rowindex'), 10)]);\n                }\n                selected = true;\n                /* istanbul ignore next */\n            }\n            else if (closest(target, '#' + this.parent.element.id + CLS.TREE_ID)) {\n                uid = closest(target, 'li').getAttribute('data-uid');\n                treeFolder = true;\n            }\n            /* istanbul ignore next */\n            if (selected) {\n                if (getValue('isFile', data) === true) {\n                    this.setFileItem();\n                }\n                else {\n                    this.setFolderItem(false);\n                }\n                /* istanbul ignore next */\n            }\n            else if (treeFolder) {\n                this.setFolderItem(true);\n                if (uid === this.parent.pathId[0]) {\n                    this.disabledItems.push('Delete', 'Rename', 'Cut', 'Copy');\n                }\n                /* istanbul ignore next */\n                // eslint:disable-next-line\n            }\n            else if (view === 'TreeView' || view === 'GridView' || view === 'LargeIcon') {\n                this.setLayoutItem(target);\n                /* istanbul ignore next */\n            }\n            else {\n                args.cancel = true;\n            }\n        }\n        var pasteEle = select('#' + this.getMenuId('Paste'), this.contextMenu.element);\n        if (!args.cancel && !this.parent.enablePaste &&\n            pasteEle && !pasteEle.classList.contains('e-disabled')) {\n            this.disabledItems.push('Paste');\n        }\n        if (args.cancel) {\n            this.menuTarget = this.currentElement = null;\n            return;\n        }\n        this.contextMenu.dataBind();\n        var isSubMenu = false;\n        if (target.classList.contains(CLS.MENU_ITEM) ||\n            target.classList.contains(CLS.MENU_ICON) || target.classList.contains(CLS.SUBMENU_ICON)) {\n            isSubMenu = true;\n        }\n        this.menuItemData = isSubMenu ? this.menuItemData : this.getMenuItemData();\n        var eventArgs = {\n            fileDetails: [this.menuItemData],\n            element: args.element,\n            target: target,\n            items: isSubMenu ? args.items : this.contextMenu.items,\n            menuModule: this.contextMenu,\n            cancel: false,\n            menuType: this.menuType,\n            isSubMenu: isSubMenu\n        };\n        this.currentItems = eventArgs.items;\n        this.parent.trigger('menuOpen', eventArgs, function (menuOpenArgs) {\n            if (!isSubMenu) {\n                _this.contextMenu.dataBind();\n                _this.contextMenu.items = menuOpenArgs.items;\n                _this.contextMenu.dataBind();\n            }\n            _this.enableItems(_this.disabledItems, false, true);\n            args.cancel = menuOpenArgs.cancel;\n            if (menuOpenArgs.cancel) {\n                _this.menuTarget = _this.targetNodeElement = _this.currentElement = null;\n            }\n        });\n    };\n    ContextMenu.prototype.updateActiveModule = function () {\n        this.parent.activeModule = closest(this.menuTarget, '#' + this.parent.element.id + CLS.TREE_ID) ?\n            'navigationpane' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.GRID_ID) ?\n            'detailsview' : closest(this.menuTarget, '#' + this.parent.element.id + CLS.LARGEICON_ID) ?\n            'largeiconsview' : this.parent.activeModule;\n    };\n    /* istanbul ignore next */\n    /**\n     *\n     * @param {Element} target - specifies the target element.\n     * @returns {string} -returns the target view.\n     * @hidden\n     */\n    ContextMenu.prototype.getTargetView = function (target) {\n        return target.classList.contains(CLS.TREE_VIEW) ?\n            'TreeView' : target.classList.contains(CLS.GRID_VIEW) ?\n            'GridView' : target.classList.contains(CLS.ICON_VIEW) ?\n            'LargeIcon' : target.classList.contains(CLS.LARGE_ICONS) ?\n            'LargeIcon' : '';\n    };\n    ContextMenu.prototype.getItemIndex = function (item) {\n        var itemId = this.getMenuId(item);\n        for (var i = 0; i < this.currentItems.length; i++) {\n            if ((this.currentItems[i].id === itemId) || (this.currentItems[i].id === item)) {\n                return i;\n            }\n        }\n        return -1;\n    };\n    ContextMenu.prototype.disableItem = function (items) {\n        if (items.length !== 0) {\n            this.disabledItems = this.disabledItems.concat(items);\n        }\n    };\n    ContextMenu.prototype.enableItems = function (items, enable, isUniqueId) {\n        for (var i = 0; i < items.length; i++) {\n            if (this.checkValidItem(items[i]) === 1) {\n                this.contextMenu.enableItems([this.getMenuId(items[i])], enable, isUniqueId);\n            }\n            else if (this.checkValidItem(items[i]) === 2) {\n                this.contextMenu.enableItems([items[i]], enable, isUniqueId);\n            }\n        }\n    };\n    ContextMenu.prototype.setFolderItem = function (isTree) {\n        this.menuType = 'folder';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.folder.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (isTree) {\n            this.disabledItems.push('Open');\n        }\n        else if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename', 'Paste');\n        }\n    };\n    ContextMenu.prototype.setFileItem = function () {\n        this.menuType = 'file';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.file.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (this.parent.selectedItems.length !== 1) {\n            this.disabledItems.push('Rename');\n        }\n    };\n    ContextMenu.prototype.setLayoutItem = function (target) {\n        this.menuType = 'layout';\n        this.contextMenu.items = this.getItemData(this.parent.contextMenuSettings.layout.map(function (item) { return item.trim(); }));\n        this.contextMenu.dataBind();\n        if (!this.parent.allowMultiSelection || ((this.parent.view === 'LargeIcons' &&\n            (closest(target, '#' + this.parent.element.id + CLS.LARGEICON_ID).getElementsByClassName(CLS.EMPTY).length !== 0))\n            || (this.parent.view === 'Details' &&\n                (closest(target, '#' + this.parent.element.id + CLS.GRID_ID).getElementsByClassName(CLS.EMPTY).length !== 0)))) {\n            this.disabledItems.push('SelectAll');\n        }\n        if (this.parent.selectedNodes.length === 0) {\n            this.disabledItems.push('Paste');\n        }\n        this.contextMenu.dataBind();\n    };\n    ContextMenu.prototype.checkValidItem = function (nameEle) {\n        if (!isNOU(select('#' + this.getMenuId(nameEle), this.currentElement))) {\n            return 1;\n        }\n        else if (!isNOU(select('#' + nameEle, this.currentElement))) {\n            return 2;\n        }\n        else {\n            return -1;\n        }\n    };\n    // eslint-disable-next-line\n    ContextMenu.prototype.getMenuItemData = function () {\n        if (this.menuType === 'layout') {\n            return getPathObject(this.parent);\n        }\n        else {\n            // eslint-disable-next-line\n            var args = { target: this.menuTarget };\n            this.parent.notify(events.menuItemData, args);\n            return this.parent.itemData[0];\n        }\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.onSelect = function (args) {\n        var _this = this;\n        if (isNOU(args.item) || !args.item.id) {\n            return;\n        }\n        var itemText = args.item.id.substr((this.parent.element.id + '_cm_').length);\n        // eslint-disable-next-line\n        var details;\n        if (itemText === 'refresh' || itemText === 'newfolder' || itemText === 'upload') {\n            details = [getPathObject(this.parent)];\n            this.parent.itemData = details;\n        }\n        else {\n            this.parent.notify(events.selectedData, {});\n            if (this.parent.activeModule === 'navigationpane' && itemText === 'open') {\n                details = [this.menuItemData];\n            }\n            else {\n                details = this.parent.itemData;\n            }\n        }\n        var eventArgs = {\n            cancel: false,\n            element: args.element,\n            fileDetails: details,\n            item: args.item\n        };\n        this.parent.trigger('menuClick', eventArgs, function (menuClickArgs) {\n            var sItems;\n            if (!menuClickArgs.cancel) {\n                // eslint:disable-next-line\n                switch (itemText) {\n                    case 'cut':\n                        cutFiles(_this.parent);\n                        break;\n                    case 'copy':\n                        copyFiles(_this.parent);\n                        break;\n                    case 'paste':\n                        if (_this.menuType === 'folder') {\n                            if ((_this.parent.activeModule === 'largeiconsview') || (_this.parent.activeModule === 'detailsview')) {\n                                _this.parent.folderPath = getFullPath(_this.parent, _this.menuItemData, _this.parent.path);\n                            }\n                            else {\n                                _this.parent.folderPath = '';\n                            }\n                        }\n                        else {\n                            _this.parent.folderPath = '';\n                        }\n                        pasteHandler(_this.parent);\n                        break;\n                    case 'delete':\n                        for (var j = 0; j < details.length; j++) {\n                            if (!hasEditAccess(details[j])) {\n                                createDeniedDialog(_this.parent, details[j], events.permissionEdit);\n                                return;\n                            }\n                        }\n                        createDialog(_this.parent, 'Delete');\n                        break;\n                    /* istanbul ignore next */\n                    case 'download':\n                        for (var i = 0; i < details.length; i++) {\n                            if (!hasDownloadAccess(details[i])) {\n                                createDeniedDialog(_this.parent, details[i], events.permissionDownload);\n                                return;\n                            }\n                        }\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            _this.parent.notify(events.downloadInit, {});\n                        }\n                        else if (_this.parent.selectedItems.length > 0) {\n                            Download(_this.parent, _this.parent.path, _this.parent.selectedItems);\n                        }\n                        break;\n                    case 'rename':\n                        if (!hasEditAccess(details[0])) {\n                            createDeniedDialog(_this.parent, details[0], events.permissionEdit);\n                        }\n                        else {\n                            _this.parent.notify(events.renameInit, {});\n                            createDialog(_this.parent, 'Rename');\n                        }\n                        break;\n                    case 'selectall':\n                        /* istanbul ignore next */\n                        _this.parent.notify(events.selectAllInit, {});\n                        break;\n                    case 'refresh':\n                        refresh(_this.parent);\n                        break;\n                    case 'open':\n                        if (_this.parent.visitedItem) {\n                            _this.parent.notify(events.openInit, { target: _this.parent.visitedItem });\n                        }\n                        else if (_this.parent.activeModule === 'navigationpane') {\n                            _this.parent.navigationpaneModule.openFileOnContextMenuClick(closest(_this.targetNodeElement, 'li'));\n                        }\n                        break;\n                    case 'details':\n                        _this.parent.notify(events.detailsInit, {});\n                        sItems = _this.parent.selectedItems;\n                        if (_this.parent.activeModule === 'navigationpane') {\n                            sItems = [];\n                        }\n                        GetDetails(_this.parent, sItems, _this.parent.path, 'details');\n                        break;\n                    case 'newfolder':\n                        createNewFolder(_this.parent);\n                        break;\n                    case 'upload':\n                        uploadItem(_this.parent);\n                        break;\n                    /* istanbul ignore next */\n                    case 'name':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'size':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'date':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'ascending':\n                    /* istanbul ignore next */\n                    // eslint-disable-next-line no-fallthrough\n                    case 'descending':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    case 'none':\n                        /* istanbul ignore next */\n                        sortbyClickHandler(_this.parent, args);\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'largeiconsview':\n                        updateLayout(_this.parent, 'LargeIcons');\n                        break;\n                    /* istanbul ignore next */\n                    // eslint:disable-next-line\n                    case 'detailsview':\n                        updateLayout(_this.parent, 'Details');\n                        break;\n                }\n            }\n        });\n    };\n    ContextMenu.prototype.onPropertyChanged = function (e) {\n        if (e.module !== this.getModuleName() && e.module !== 'common') {\n            /* istanbul ignore next */\n            return;\n        }\n        for (var _i = 0, _a = Object.keys(e.newProp); _i < _a.length; _i++) {\n            var prop = _a[_i];\n            switch (prop) {\n                case 'cssClass':\n                    this.contextMenu.cssClass = getCssClass(this.parent, CLS.ROOT_POPUP);\n                    break;\n            }\n        }\n    };\n    ContextMenu.prototype.addEventListener = function () {\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.modelChanged, this.onPropertyChanged, this);\n        this.keyboardModule = new KeyboardEvents(this.contextMenu.element, {\n            keyAction: this.keyActionHandler.bind(this),\n            keyConfigs: this.keyConfigs,\n            eventName: 'keydown'\n        });\n    };\n    ContextMenu.prototype.removeEventListener = function () {\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.modelChanged, this.onPropertyChanged);\n        this.keyboardModule.destroy();\n    };\n    ContextMenu.prototype.keyActionHandler = function (e) {\n        switch (e.action) {\n            case 'uparrow':\n            case 'downarrow':\n                e.preventDefault();\n        }\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the module name.\n     * @private\n     */\n    ContextMenu.prototype.getModuleName = function () {\n        return 'contextmenu';\n    };\n    ContextMenu.prototype.destroy = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.removeEventListener();\n        this.contextMenu.destroy();\n    };\n    /* istanbul ignore next */\n    ContextMenu.prototype.getItemData = function (data) {\n        var items = [];\n        for (var i = 0; i < data.length; i++) {\n            var item = void 0;\n            var itemId = this.getMenuId(data[i]);\n            var itemText = getLocaleText(this.parent, data[i]);\n            switch (data[i]) {\n                case '|':\n                    item = { separator: true };\n                    break;\n                case 'Open':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_OPEN };\n                    break;\n                case 'Upload':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_UPLOAD };\n                    break;\n                case 'Cut':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_CUT };\n                    break;\n                case 'Copy':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_COPY };\n                    break;\n                case 'Paste':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_PASTE };\n                    break;\n                case 'Delete':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DELETE };\n                    break;\n                case 'Rename':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_RENAME };\n                    break;\n                case 'NewFolder':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_NEWFOLDER };\n                    break;\n                case 'Details':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DETAILS };\n                    break;\n                case 'SortBy':\n                    item = {\n                        id: itemId, text: itemText, iconCss: CLS.ICON_SHORTBY,\n                        items: [\n                            {\n                                id: this.getMenuId('Name'), text: getLocaleText(this.parent, 'Name'),\n                                iconCss: this.parent.sortBy === 'name' ? CLS.TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Size'), text: getLocaleText(this.parent, 'Size'),\n                                iconCss: this.parent.sortBy === 'size' ? CLS.TB_OPTION_DOT : null\n                            },\n                            {\n                                id: this.getMenuId('Date'), text: getLocaleText(this.parent, 'DateModified'),\n                                iconCss: this.parent.sortBy === '_fm_modified' ? CLS.TB_OPTION_DOT : null\n                            },\n                            { separator: true },\n                            {\n                                id: this.getMenuId('Ascending'), text: getLocaleText(this.parent, 'Ascending'),\n                                iconCss: this.parent.sortOrder === 'Ascending' ? CLS.TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('Descending'), text: getLocaleText(this.parent, 'Descending'),\n                                iconCss: this.parent.sortOrder === 'Descending' ? CLS.TB_OPTION_TICK : null\n                            },\n                            {\n                                id: this.getMenuId('None'), text: getLocaleText(this.parent, 'None'),\n                                iconCss: this.parent.sortOrder === 'None' ? CLS.TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                /* istanbul ignore next */\n                case 'View':\n                    item = {\n                        id: itemId, text: itemText, iconCss: this.parent.view === 'Details' ? CLS.ICON_GRID : CLS.ICON_LARGE,\n                        items: [\n                            {\n                                id: this.getMenuId('largeiconsview'), text: getLocaleText(this.parent, 'View-LargeIcons'),\n                                iconCss: this.parent.view === 'Details' ? null : CLS.TB_OPTION_TICK\n                            },\n                            {\n                                id: this.getMenuId('detailsview'), text: getLocaleText(this.parent, 'View-Details'),\n                                iconCss: this.parent.view === 'Details' ? CLS.TB_OPTION_TICK : null\n                            }\n                        ]\n                    };\n                    break;\n                case 'Refresh':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_REFRESH };\n                    break;\n                case 'SelectAll':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_SELECTALL };\n                    break;\n                /* istanbul ignore next */\n                case 'Download':\n                    item = { id: itemId, text: itemText, iconCss: CLS.ICON_DOWNLOAD };\n                    break;\n                /* istanbul ignore next */\n                default:\n                    item = { id: itemId, text: itemText };\n                    break;\n            }\n            items.push(item);\n        }\n        return items;\n    };\n    ContextMenu.prototype.getMenuId = function (id) {\n        return this.parent.element.id + '_cm_' + id.toLowerCase();\n    };\n    return ContextMenu;\n}());\nexport { ContextMenu };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}