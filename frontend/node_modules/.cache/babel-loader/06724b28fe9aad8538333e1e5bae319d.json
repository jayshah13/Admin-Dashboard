{"ast":null,"code":"import * as CONSTANT from './../base/constant';\nimport { extend } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\n/**\n * Link internal component\n *\n * @hidden\n\n */\n\nvar MDTable =\n/** @class */\nfunction () {\n  /**\n   * Constructor for creating the Formats plugin\n   *\n   * @param {IMDTable} options - specifies the options\n   * @hidden\n    */\n  function MDTable(options) {\n    extend(this, this, options, true);\n    this.selection = this.parent.markdownSelection;\n    this.addEventListener();\n  }\n\n  MDTable.prototype.addEventListener = function () {\n    this.parent.observer.on(CONSTANT.MD_TABLE, this.createTable, this);\n    this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n  };\n\n  MDTable.prototype.removeEventListener = function () {\n    this.parent.observer.off(CONSTANT.MD_TABLE, this.createTable);\n    this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n  };\n  /**\n   * markdown destroy method\n   *\n   * @returns {void}\n   * @hidden\n    */\n\n\n  MDTable.prototype.destroy = function () {\n    this.removeEventListener();\n  };\n\n  MDTable.prototype.onKeyDown = function (e) {\n    if (e.event.action === 'insert-table') {\n      e.item = e.value;\n      this.createTable(e);\n    }\n  };\n\n  MDTable.prototype.createTable = function (e) {\n    this.element = this.parent.element;\n    var start = this.element.selectionStart;\n    var end = this.element.selectionEnd;\n    var textAreaInitial = this.element.value;\n    this.locale = e;\n    this.selection.save(start, end);\n    this.restore(this.element.selectionStart, this.element.selectionEnd, null);\n    this.insertTable(start, end, textAreaInitial, e);\n  };\n\n  MDTable.prototype.getTable = function () {\n    var table = '';\n    table += this.textNonEmpty();\n    table += this.tableHeader(this.locale);\n    table += this.tableCell(this.locale);\n    return table;\n  };\n\n  MDTable.prototype.tableHeader = function (e) {\n    var text = '';\n\n    for (var i = 1; i <= 2; i++) {\n      text += '|';\n\n      for (var j = 1; j <= 2; j++) {\n        if (i === 1) {\n          text += e.item.headingText + ' ' + j + '|';\n        } else {\n          text += '---------|';\n        }\n      }\n\n      text += this.insertLine();\n    }\n\n    return text;\n  };\n\n  MDTable.prototype.tableCell = function (e) {\n    var text = '';\n\n    for (var i = 1; i <= 2; i++) {\n      text += '|';\n\n      for (var j = 1; j <= 2; j++) {\n        text += e.item.colText + ' ' + this.convertToLetters(i) + j + '|';\n      }\n\n      text += this.insertLine();\n    }\n\n    text += this.insertLine();\n    return text;\n  };\n\n  MDTable.prototype.insertLine = function () {\n    var dummyElement = document.createElement('div');\n    dummyElement.innerHTML = '\\n';\n    return dummyElement.textContent;\n  };\n\n  MDTable.prototype.insertTable = function (start, end, textAreaInitial, e) {\n    var parentText = this.selection.getSelectedParentPoints(this.element);\n    var lastLineSplit = parentText[parentText.length - 1].text.split(' ', 2);\n    var syntaxArr = this.getFormatTag(); // eslint-disable-next-line\n\n    var syntaxCount = 0;\n\n    if (lastLineSplit.length < 2) {\n      this.element.value = this.updateValue(this.getTable());\n      this.makeSelection(textAreaInitial, start, end);\n    } else {\n      if (this.ensureFormatApply(parentText[parentText.length - 1].text)) {\n        this.checkValid(start, end, this.getTable(), textAreaInitial, e, lastLineSplit, parentText, syntaxArr);\n      } else {\n        this.element.value = this.updateValue(this.getTable());\n        this.makeSelection(textAreaInitial, start, end);\n      }\n    }\n\n    this.restore(this.element.selectionStart, this.element.selectionEnd, e);\n  };\n\n  MDTable.prototype.makeSelection = function (textAreaInitial, start, end) {\n    end = start + (textAreaInitial.length > 0 ? 12 : 10); //end is added 12 or 10 because to make the table heading selected\n\n    start += textAreaInitial.length > 0 ? 3 : 1; // Start is added 3 or 1 because new lines are added when inserting table\n\n    this.selection.setSelection(this.element, start, end);\n  };\n\n  MDTable.prototype.getFormatTag = function () {\n    var syntaxFormatKey = Object.keys(this.syntaxTag.Formats);\n    var syntaxListKey = Object.keys(this.syntaxTag.List);\n    var syntaxArr = [];\n\n    for (var i = 0; i < syntaxFormatKey.length; i++) {\n      syntaxArr.push(this.syntaxTag.Formats[syntaxFormatKey[i]]);\n    }\n\n    for (var j = 0; j < syntaxListKey.length; j++) {\n      syntaxArr.push(this.syntaxTag.List[syntaxListKey[j]]);\n    }\n\n    return syntaxArr;\n  };\n\n  MDTable.prototype.ensureFormatApply = function (line) {\n    var formatTags = this.getFormatTag();\n    var formatSplitZero = line.trim().split(' ', 2)[0] + ' ';\n\n    for (var i = 0; i < formatTags.length; i++) {\n      if (formatSplitZero === formatTags[i] || /^[\\d.]+[ ]+$/.test(formatSplitZero)) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  MDTable.prototype.ensureStartValid = function (firstLine, parentText) {\n    var firstLineSplit = parentText[0].text.split(' ', 2);\n\n    for (var i = firstLine + 1; i <= firstLine + firstLineSplit[0].length + 1; i++) {\n      if (this.element.selectionStart === i || this.element.selectionEnd === i) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  MDTable.prototype.ensureEndValid = function (lastLine, formatSplitLength) {\n    for (var i = lastLine + 1; i <= lastLine + formatSplitLength + 1; i++) {\n      if (this.element.selectionEnd === i) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  MDTable.prototype.updateValueWithFormat = function (formatSplit, text) {\n    var textApplyFormat = this.element.value.substring(this.element.selectionEnd, this.element.value.length);\n    text += textApplyFormat.replace(textApplyFormat, formatSplit[0] + ' ' + textApplyFormat);\n    return this.element.value.substr(0, this.element.selectionStart) + text;\n  };\n\n  MDTable.prototype.updateValue = function (text) {\n    return this.element.value.substr(0, this.element.selectionStart) + text + this.element.value.substr(this.element.selectionEnd, this.element.value.length);\n  };\n\n  MDTable.prototype.checkValid = function (start, end, text, textAreaInitial, // eslint-disable-next-line\n  e, formatSplit, parentText, syntaxArr) {\n    if (this.ensureStartValid(parentText[0].start, parentText) && this.ensureEndValid(parentText[parentText.length - 1].start, formatSplit[0].length)) {\n      if (start === parentText[0].start) {\n        if (start !== end && end !== parentText[parentText.length - 1].end - 1) {\n          this.element.value = this.updateValueWithFormat(formatSplit, text);\n        } else {\n          this.element.value = this.updateValue(text);\n        }\n      } else if (end === parentText[parentText.length - 1].end - 1) {\n        this.element.value = this.updateValue(text);\n      } else {\n        this.element.value = this.updateValueWithFormat(formatSplit, text);\n      }\n\n      this.makeSelection(textAreaInitial, start, end);\n    }\n  };\n\n  MDTable.prototype.convertToLetters = function (rowNumber) {\n    var baseChar = 'A'.charCodeAt(0);\n    var letters = '';\n\n    do {\n      rowNumber -= 1;\n      letters = String.fromCharCode(baseChar + rowNumber % 26) + letters;\n      rowNumber = rowNumber / 26 >> 0;\n    } while (rowNumber > 0);\n\n    return letters;\n  };\n\n  MDTable.prototype.textNonEmpty = function () {\n    var emptyText = '';\n\n    if (this.isCursorBased() || this.isSelectionBased()) {\n      if (this.element.value.length > 0) {\n        emptyText += this.insertLine();\n        emptyText += this.insertLine(); // to append two new line when textarea having content.\n      }\n    }\n\n    return emptyText;\n  };\n\n  MDTable.prototype.isCursorBased = function () {\n    return this.element.selectionStart === this.element.selectionEnd;\n  };\n\n  MDTable.prototype.isSelectionBased = function () {\n    return this.element.selectionStart !== this.element.selectionEnd;\n  };\n\n  MDTable.prototype.restore = function (start, end, event) {\n    this.selection.save(start, end);\n    this.selection.restore(this.element);\n\n    if (event && event.callBack) {\n      event.callBack({\n        requestType: event.subCommand,\n        selectedText: this.selection.getSelectedText(this.element),\n        editorMode: 'Markdown',\n        event: event.event\n      });\n    }\n  };\n\n  return MDTable;\n}();\n\nexport { MDTable };","map":{"version":3,"names":["CONSTANT","extend","EVENTS","MDTable","options","selection","parent","markdownSelection","addEventListener","prototype","observer","on","MD_TABLE","createTable","KEY_DOWN_HANDLER","onKeyDown","removeEventListener","off","destroy","e","event","action","item","value","element","start","selectionStart","end","selectionEnd","textAreaInitial","locale","save","restore","insertTable","getTable","table","textNonEmpty","tableHeader","tableCell","text","i","j","headingText","insertLine","colText","convertToLetters","dummyElement","document","createElement","innerHTML","textContent","parentText","getSelectedParentPoints","lastLineSplit","length","split","syntaxArr","getFormatTag","syntaxCount","updateValue","makeSelection","ensureFormatApply","checkValid","setSelection","syntaxFormatKey","Object","keys","syntaxTag","Formats","syntaxListKey","List","push","line","formatTags","formatSplitZero","trim","test","ensureStartValid","firstLine","firstLineSplit","ensureEndValid","lastLine","formatSplitLength","updateValueWithFormat","formatSplit","textApplyFormat","substring","replace","substr","rowNumber","baseChar","charCodeAt","letters","String","fromCharCode","emptyText","isCursorBased","isSelectionBased","callBack","requestType","subCommand","selectedText","getSelectedText","editorMode"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-richtexteditor/src/markdown-parser/plugin/table.js"],"sourcesContent":["import * as CONSTANT from './../base/constant';\nimport { extend } from '@syncfusion/ej2-base';\nimport * as EVENTS from './../../common/constant';\n/**\n * Link internal component\n *\n * @hidden\n\n */\nvar MDTable = /** @class */ (function () {\n    /**\n     * Constructor for creating the Formats plugin\n     *\n     * @param {IMDTable} options - specifies the options\n     * @hidden\n\n     */\n    function MDTable(options) {\n        extend(this, this, options, true);\n        this.selection = this.parent.markdownSelection;\n        this.addEventListener();\n    }\n    MDTable.prototype.addEventListener = function () {\n        this.parent.observer.on(CONSTANT.MD_TABLE, this.createTable, this);\n        this.parent.observer.on(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown, this);\n    };\n    MDTable.prototype.removeEventListener = function () {\n        this.parent.observer.off(CONSTANT.MD_TABLE, this.createTable);\n        this.parent.observer.off(EVENTS.KEY_DOWN_HANDLER, this.onKeyDown);\n    };\n    /**\n     * markdown destroy method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    MDTable.prototype.destroy = function () {\n        this.removeEventListener();\n    };\n    MDTable.prototype.onKeyDown = function (e) {\n        if (e.event.action === 'insert-table') {\n            e.item = e.value;\n            this.createTable(e);\n        }\n    };\n    MDTable.prototype.createTable = function (e) {\n        this.element = this.parent.element;\n        var start = this.element.selectionStart;\n        var end = this.element.selectionEnd;\n        var textAreaInitial = this.element.value;\n        this.locale = e;\n        this.selection.save(start, end);\n        this.restore(this.element.selectionStart, this.element.selectionEnd, null);\n        this.insertTable(start, end, textAreaInitial, e);\n    };\n    MDTable.prototype.getTable = function () {\n        var table = '';\n        table += this.textNonEmpty();\n        table += this.tableHeader(this.locale);\n        table += this.tableCell(this.locale);\n        return table;\n    };\n    MDTable.prototype.tableHeader = function (e) {\n        var text = '';\n        for (var i = 1; i <= 2; i++) {\n            text += '|';\n            for (var j = 1; j <= 2; j++) {\n                if (i === 1) {\n                    text += e.item.headingText + ' ' + j + '|';\n                }\n                else {\n                    text += '---------|';\n                }\n            }\n            text += this.insertLine();\n        }\n        return text;\n    };\n    MDTable.prototype.tableCell = function (e) {\n        var text = '';\n        for (var i = 1; i <= 2; i++) {\n            text += '|';\n            for (var j = 1; j <= 2; j++) {\n                text += e.item.colText + ' ' + this.convertToLetters(i) + j + '|';\n            }\n            text += this.insertLine();\n        }\n        text += this.insertLine();\n        return text;\n    };\n    MDTable.prototype.insertLine = function () {\n        var dummyElement = document.createElement('div');\n        dummyElement.innerHTML = '\\n';\n        return dummyElement.textContent;\n    };\n    MDTable.prototype.insertTable = function (start, end, textAreaInitial, e) {\n        var parentText = this.selection.getSelectedParentPoints(this.element);\n        var lastLineSplit = parentText[parentText.length - 1].text.split(' ', 2);\n        var syntaxArr = this.getFormatTag();\n        // eslint-disable-next-line\n        var syntaxCount = 0;\n        if (lastLineSplit.length < 2) {\n            this.element.value = this.updateValue(this.getTable());\n            this.makeSelection(textAreaInitial, start, end);\n        }\n        else {\n            if (this.ensureFormatApply(parentText[parentText.length - 1].text)) {\n                this.checkValid(start, end, this.getTable(), textAreaInitial, e, lastLineSplit, parentText, syntaxArr);\n            }\n            else {\n                this.element.value = this.updateValue(this.getTable());\n                this.makeSelection(textAreaInitial, start, end);\n            }\n        }\n        this.restore(this.element.selectionStart, this.element.selectionEnd, e);\n    };\n    MDTable.prototype.makeSelection = function (textAreaInitial, start, end) {\n        end = start + (textAreaInitial.length > 0 ? 12 : 10); //end is added 12 or 10 because to make the table heading selected\n        start += textAreaInitial.length > 0 ? 3 : 1; // Start is added 3 or 1 because new lines are added when inserting table\n        this.selection.setSelection(this.element, start, end);\n    };\n    MDTable.prototype.getFormatTag = function () {\n        var syntaxFormatKey = Object.keys(this.syntaxTag.Formats);\n        var syntaxListKey = Object.keys(this.syntaxTag.List);\n        var syntaxArr = [];\n        for (var i = 0; i < syntaxFormatKey.length; i++) {\n            syntaxArr.push(this.syntaxTag.Formats[syntaxFormatKey[i]]);\n        }\n        for (var j = 0; j < syntaxListKey.length; j++) {\n            syntaxArr.push(this.syntaxTag.List[syntaxListKey[j]]);\n        }\n        return syntaxArr;\n    };\n    MDTable.prototype.ensureFormatApply = function (line) {\n        var formatTags = this.getFormatTag();\n        var formatSplitZero = line.trim().split(' ', 2)[0] + ' ';\n        for (var i = 0; i < formatTags.length; i++) {\n            if (formatSplitZero === formatTags[i] || /^[\\d.]+[ ]+$/.test(formatSplitZero)) {\n                return true;\n            }\n        }\n        return false;\n    };\n    MDTable.prototype.ensureStartValid = function (firstLine, parentText) {\n        var firstLineSplit = parentText[0].text.split(' ', 2);\n        for (var i = firstLine + 1; i <= firstLine + firstLineSplit[0].length + 1; i++) {\n            if (this.element.selectionStart === i || this.element.selectionEnd === i) {\n                return false;\n            }\n        }\n        return true;\n    };\n    MDTable.prototype.ensureEndValid = function (lastLine, formatSplitLength) {\n        for (var i = lastLine + 1; i <= lastLine + formatSplitLength + 1; i++) {\n            if (this.element.selectionEnd === i) {\n                return false;\n            }\n        }\n        return true;\n    };\n    MDTable.prototype.updateValueWithFormat = function (formatSplit, text) {\n        var textApplyFormat = this.element.value.substring(this.element.selectionEnd, this.element.value.length);\n        text += textApplyFormat.replace(textApplyFormat, (formatSplit[0] + ' ' + textApplyFormat));\n        return this.element.value.substr(0, this.element.selectionStart) + text;\n    };\n    MDTable.prototype.updateValue = function (text) {\n        return this.element.value.substr(0, this.element.selectionStart) + text +\n            this.element.value.substr(this.element.selectionEnd, this.element.value.length);\n    };\n    MDTable.prototype.checkValid = function (start, end, text, textAreaInitial, \n    // eslint-disable-next-line\n    e, formatSplit, parentText, syntaxArr) {\n        if (this.ensureStartValid(parentText[0].start, parentText) &&\n            this.ensureEndValid(parentText[parentText.length - 1].start, formatSplit[0].length)) {\n            if (start === parentText[0].start) {\n                if (start !== end && end !== (parentText[parentText.length - 1].end - 1)) {\n                    this.element.value = this.updateValueWithFormat(formatSplit, text);\n                }\n                else {\n                    this.element.value = this.updateValue(text);\n                }\n            }\n            else if (end === parentText[parentText.length - 1].end - 1) {\n                this.element.value = this.updateValue(text);\n            }\n            else {\n                this.element.value = this.updateValueWithFormat(formatSplit, text);\n            }\n            this.makeSelection(textAreaInitial, start, end);\n        }\n    };\n    MDTable.prototype.convertToLetters = function (rowNumber) {\n        var baseChar = ('A').charCodeAt(0);\n        var letters = '';\n        do {\n            rowNumber -= 1;\n            letters = String.fromCharCode(baseChar + (rowNumber % 26)) + letters;\n            rowNumber = (rowNumber / 26) >> 0;\n        } while (rowNumber > 0);\n        return letters;\n    };\n    MDTable.prototype.textNonEmpty = function () {\n        var emptyText = '';\n        if (this.isCursorBased() || this.isSelectionBased()) {\n            if (this.element.value.length > 0) {\n                emptyText += this.insertLine();\n                emptyText += this.insertLine(); // to append two new line when textarea having content.\n            }\n        }\n        return emptyText;\n    };\n    MDTable.prototype.isCursorBased = function () {\n        return this.element.selectionStart === this.element.selectionEnd;\n    };\n    MDTable.prototype.isSelectionBased = function () {\n        return this.element.selectionStart !== this.element.selectionEnd;\n    };\n    MDTable.prototype.restore = function (start, end, event) {\n        this.selection.save(start, end);\n        this.selection.restore(this.element);\n        if (event && event.callBack) {\n            event.callBack({\n                requestType: event.subCommand,\n                selectedText: this.selection.getSelectedText(this.element),\n                editorMode: 'Markdown',\n                event: event.event\n            });\n        }\n    };\n    return MDTable;\n}());\nexport { MDTable };\n"],"mappings":"AAAA,OAAO,KAAKA,QAAZ,MAA0B,oBAA1B;AACA,SAASC,MAAT,QAAuB,sBAAvB;AACA,OAAO,KAAKC,MAAZ,MAAwB,yBAAxB;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,IAAIC,OAAO;AAAG;AAAe,YAAY;EACrC;AACJ;AACA;AACA;AACA;AACA;EAEI,SAASA,OAAT,CAAiBC,OAAjB,EAA0B;IACtBH,MAAM,CAAC,IAAD,EAAO,IAAP,EAAaG,OAAb,EAAsB,IAAtB,CAAN;IACA,KAAKC,SAAL,GAAiB,KAAKC,MAAL,CAAYC,iBAA7B;IACA,KAAKC,gBAAL;EACH;;EACDL,OAAO,CAACM,SAAR,CAAkBD,gBAAlB,GAAqC,YAAY;IAC7C,KAAKF,MAAL,CAAYI,QAAZ,CAAqBC,EAArB,CAAwBX,QAAQ,CAACY,QAAjC,EAA2C,KAAKC,WAAhD,EAA6D,IAA7D;IACA,KAAKP,MAAL,CAAYI,QAAZ,CAAqBC,EAArB,CAAwBT,MAAM,CAACY,gBAA/B,EAAiD,KAAKC,SAAtD,EAAiE,IAAjE;EACH,CAHD;;EAIAZ,OAAO,CAACM,SAAR,CAAkBO,mBAAlB,GAAwC,YAAY;IAChD,KAAKV,MAAL,CAAYI,QAAZ,CAAqBO,GAArB,CAAyBjB,QAAQ,CAACY,QAAlC,EAA4C,KAAKC,WAAjD;IACA,KAAKP,MAAL,CAAYI,QAAZ,CAAqBO,GAArB,CAAyBf,MAAM,CAACY,gBAAhC,EAAkD,KAAKC,SAAvD;EACH,CAHD;EAIA;AACJ;AACA;AACA;AACA;AACA;;;EAEIZ,OAAO,CAACM,SAAR,CAAkBS,OAAlB,GAA4B,YAAY;IACpC,KAAKF,mBAAL;EACH,CAFD;;EAGAb,OAAO,CAACM,SAAR,CAAkBM,SAAlB,GAA8B,UAAUI,CAAV,EAAa;IACvC,IAAIA,CAAC,CAACC,KAAF,CAAQC,MAAR,KAAmB,cAAvB,EAAuC;MACnCF,CAAC,CAACG,IAAF,GAASH,CAAC,CAACI,KAAX;MACA,KAAKV,WAAL,CAAiBM,CAAjB;IACH;EACJ,CALD;;EAMAhB,OAAO,CAACM,SAAR,CAAkBI,WAAlB,GAAgC,UAAUM,CAAV,EAAa;IACzC,KAAKK,OAAL,GAAe,KAAKlB,MAAL,CAAYkB,OAA3B;IACA,IAAIC,KAAK,GAAG,KAAKD,OAAL,CAAaE,cAAzB;IACA,IAAIC,GAAG,GAAG,KAAKH,OAAL,CAAaI,YAAvB;IACA,IAAIC,eAAe,GAAG,KAAKL,OAAL,CAAaD,KAAnC;IACA,KAAKO,MAAL,GAAcX,CAAd;IACA,KAAKd,SAAL,CAAe0B,IAAf,CAAoBN,KAApB,EAA2BE,GAA3B;IACA,KAAKK,OAAL,CAAa,KAAKR,OAAL,CAAaE,cAA1B,EAA0C,KAAKF,OAAL,CAAaI,YAAvD,EAAqE,IAArE;IACA,KAAKK,WAAL,CAAiBR,KAAjB,EAAwBE,GAAxB,EAA6BE,eAA7B,EAA8CV,CAA9C;EACH,CATD;;EAUAhB,OAAO,CAACM,SAAR,CAAkByB,QAAlB,GAA6B,YAAY;IACrC,IAAIC,KAAK,GAAG,EAAZ;IACAA,KAAK,IAAI,KAAKC,YAAL,EAAT;IACAD,KAAK,IAAI,KAAKE,WAAL,CAAiB,KAAKP,MAAtB,CAAT;IACAK,KAAK,IAAI,KAAKG,SAAL,CAAe,KAAKR,MAApB,CAAT;IACA,OAAOK,KAAP;EACH,CAND;;EAOAhC,OAAO,CAACM,SAAR,CAAkB4B,WAAlB,GAAgC,UAAUlB,CAAV,EAAa;IACzC,IAAIoB,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;MACzBD,IAAI,IAAI,GAAR;;MACA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;QACzB,IAAID,CAAC,KAAK,CAAV,EAAa;UACTD,IAAI,IAAIpB,CAAC,CAACG,IAAF,CAAOoB,WAAP,GAAqB,GAArB,GAA2BD,CAA3B,GAA+B,GAAvC;QACH,CAFD,MAGK;UACDF,IAAI,IAAI,YAAR;QACH;MACJ;;MACDA,IAAI,IAAI,KAAKI,UAAL,EAAR;IACH;;IACD,OAAOJ,IAAP;EACH,CAfD;;EAgBApC,OAAO,CAACM,SAAR,CAAkB6B,SAAlB,GAA8B,UAAUnB,CAAV,EAAa;IACvC,IAAIoB,IAAI,GAAG,EAAX;;IACA,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;MACzBD,IAAI,IAAI,GAAR;;MACA,KAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;QACzBF,IAAI,IAAIpB,CAAC,CAACG,IAAF,CAAOsB,OAAP,GAAiB,GAAjB,GAAuB,KAAKC,gBAAL,CAAsBL,CAAtB,CAAvB,GAAkDC,CAAlD,GAAsD,GAA9D;MACH;;MACDF,IAAI,IAAI,KAAKI,UAAL,EAAR;IACH;;IACDJ,IAAI,IAAI,KAAKI,UAAL,EAAR;IACA,OAAOJ,IAAP;EACH,CAXD;;EAYApC,OAAO,CAACM,SAAR,CAAkBkC,UAAlB,GAA+B,YAAY;IACvC,IAAIG,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAnB;IACAF,YAAY,CAACG,SAAb,GAAyB,IAAzB;IACA,OAAOH,YAAY,CAACI,WAApB;EACH,CAJD;;EAKA/C,OAAO,CAACM,SAAR,CAAkBwB,WAAlB,GAAgC,UAAUR,KAAV,EAAiBE,GAAjB,EAAsBE,eAAtB,EAAuCV,CAAvC,EAA0C;IACtE,IAAIgC,UAAU,GAAG,KAAK9C,SAAL,CAAe+C,uBAAf,CAAuC,KAAK5B,OAA5C,CAAjB;IACA,IAAI6B,aAAa,GAAGF,UAAU,CAACA,UAAU,CAACG,MAAX,GAAoB,CAArB,CAAV,CAAkCf,IAAlC,CAAuCgB,KAAvC,CAA6C,GAA7C,EAAkD,CAAlD,CAApB;IACA,IAAIC,SAAS,GAAG,KAAKC,YAAL,EAAhB,CAHsE,CAItE;;IACA,IAAIC,WAAW,GAAG,CAAlB;;IACA,IAAIL,aAAa,CAACC,MAAd,GAAuB,CAA3B,EAA8B;MAC1B,KAAK9B,OAAL,CAAaD,KAAb,GAAqB,KAAKoC,WAAL,CAAiB,KAAKzB,QAAL,EAAjB,CAArB;MACA,KAAK0B,aAAL,CAAmB/B,eAAnB,EAAoCJ,KAApC,EAA2CE,GAA3C;IACH,CAHD,MAIK;MACD,IAAI,KAAKkC,iBAAL,CAAuBV,UAAU,CAACA,UAAU,CAACG,MAAX,GAAoB,CAArB,CAAV,CAAkCf,IAAzD,CAAJ,EAAoE;QAChE,KAAKuB,UAAL,CAAgBrC,KAAhB,EAAuBE,GAAvB,EAA4B,KAAKO,QAAL,EAA5B,EAA6CL,eAA7C,EAA8DV,CAA9D,EAAiEkC,aAAjE,EAAgFF,UAAhF,EAA4FK,SAA5F;MACH,CAFD,MAGK;QACD,KAAKhC,OAAL,CAAaD,KAAb,GAAqB,KAAKoC,WAAL,CAAiB,KAAKzB,QAAL,EAAjB,CAArB;QACA,KAAK0B,aAAL,CAAmB/B,eAAnB,EAAoCJ,KAApC,EAA2CE,GAA3C;MACH;IACJ;;IACD,KAAKK,OAAL,CAAa,KAAKR,OAAL,CAAaE,cAA1B,EAA0C,KAAKF,OAAL,CAAaI,YAAvD,EAAqET,CAArE;EACH,CApBD;;EAqBAhB,OAAO,CAACM,SAAR,CAAkBmD,aAAlB,GAAkC,UAAU/B,eAAV,EAA2BJ,KAA3B,EAAkCE,GAAlC,EAAuC;IACrEA,GAAG,GAAGF,KAAK,IAAII,eAAe,CAACyB,MAAhB,GAAyB,CAAzB,GAA6B,EAA7B,GAAkC,EAAtC,CAAX,CADqE,CACf;;IACtD7B,KAAK,IAAII,eAAe,CAACyB,MAAhB,GAAyB,CAAzB,GAA6B,CAA7B,GAAiC,CAA1C,CAFqE,CAExB;;IAC7C,KAAKjD,SAAL,CAAe0D,YAAf,CAA4B,KAAKvC,OAAjC,EAA0CC,KAA1C,EAAiDE,GAAjD;EACH,CAJD;;EAKAxB,OAAO,CAACM,SAAR,CAAkBgD,YAAlB,GAAiC,YAAY;IACzC,IAAIO,eAAe,GAAGC,MAAM,CAACC,IAAP,CAAY,KAAKC,SAAL,CAAeC,OAA3B,CAAtB;IACA,IAAIC,aAAa,GAAGJ,MAAM,CAACC,IAAP,CAAY,KAAKC,SAAL,CAAeG,IAA3B,CAApB;IACA,IAAId,SAAS,GAAG,EAAhB;;IACA,KAAK,IAAIhB,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwB,eAAe,CAACV,MAApC,EAA4Cd,CAAC,EAA7C,EAAiD;MAC7CgB,SAAS,CAACe,IAAV,CAAe,KAAKJ,SAAL,CAAeC,OAAf,CAAuBJ,eAAe,CAACxB,CAAD,CAAtC,CAAf;IACH;;IACD,KAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4B,aAAa,CAACf,MAAlC,EAA0Cb,CAAC,EAA3C,EAA+C;MAC3Ce,SAAS,CAACe,IAAV,CAAe,KAAKJ,SAAL,CAAeG,IAAf,CAAoBD,aAAa,CAAC5B,CAAD,CAAjC,CAAf;IACH;;IACD,OAAOe,SAAP;EACH,CAXD;;EAYArD,OAAO,CAACM,SAAR,CAAkBoD,iBAAlB,GAAsC,UAAUW,IAAV,EAAgB;IAClD,IAAIC,UAAU,GAAG,KAAKhB,YAAL,EAAjB;IACA,IAAIiB,eAAe,GAAGF,IAAI,CAACG,IAAL,GAAYpB,KAAZ,CAAkB,GAAlB,EAAuB,CAAvB,EAA0B,CAA1B,IAA+B,GAArD;;IACA,KAAK,IAAIf,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGiC,UAAU,CAACnB,MAA/B,EAAuCd,CAAC,EAAxC,EAA4C;MACxC,IAAIkC,eAAe,KAAKD,UAAU,CAACjC,CAAD,CAA9B,IAAqC,eAAeoC,IAAf,CAAoBF,eAApB,CAAzC,EAA+E;QAC3E,OAAO,IAAP;MACH;IACJ;;IACD,OAAO,KAAP;EACH,CATD;;EAUAvE,OAAO,CAACM,SAAR,CAAkBoE,gBAAlB,GAAqC,UAAUC,SAAV,EAAqB3B,UAArB,EAAiC;IAClE,IAAI4B,cAAc,GAAG5B,UAAU,CAAC,CAAD,CAAV,CAAcZ,IAAd,CAAmBgB,KAAnB,CAAyB,GAAzB,EAA8B,CAA9B,CAArB;;IACA,KAAK,IAAIf,CAAC,GAAGsC,SAAS,GAAG,CAAzB,EAA4BtC,CAAC,IAAIsC,SAAS,GAAGC,cAAc,CAAC,CAAD,CAAd,CAAkBzB,MAA9B,GAAuC,CAAxE,EAA2Ed,CAAC,EAA5E,EAAgF;MAC5E,IAAI,KAAKhB,OAAL,CAAaE,cAAb,KAAgCc,CAAhC,IAAqC,KAAKhB,OAAL,CAAaI,YAAb,KAA8BY,CAAvE,EAA0E;QACtE,OAAO,KAAP;MACH;IACJ;;IACD,OAAO,IAAP;EACH,CARD;;EASArC,OAAO,CAACM,SAAR,CAAkBuE,cAAlB,GAAmC,UAAUC,QAAV,EAAoBC,iBAApB,EAAuC;IACtE,KAAK,IAAI1C,CAAC,GAAGyC,QAAQ,GAAG,CAAxB,EAA2BzC,CAAC,IAAIyC,QAAQ,GAAGC,iBAAX,GAA+B,CAA/D,EAAkE1C,CAAC,EAAnE,EAAuE;MACnE,IAAI,KAAKhB,OAAL,CAAaI,YAAb,KAA8BY,CAAlC,EAAqC;QACjC,OAAO,KAAP;MACH;IACJ;;IACD,OAAO,IAAP;EACH,CAPD;;EAQArC,OAAO,CAACM,SAAR,CAAkB0E,qBAAlB,GAA0C,UAAUC,WAAV,EAAuB7C,IAAvB,EAA6B;IACnE,IAAI8C,eAAe,GAAG,KAAK7D,OAAL,CAAaD,KAAb,CAAmB+D,SAAnB,CAA6B,KAAK9D,OAAL,CAAaI,YAA1C,EAAwD,KAAKJ,OAAL,CAAaD,KAAb,CAAmB+B,MAA3E,CAAtB;IACAf,IAAI,IAAI8C,eAAe,CAACE,OAAhB,CAAwBF,eAAxB,EAA0CD,WAAW,CAAC,CAAD,CAAX,GAAiB,GAAjB,GAAuBC,eAAjE,CAAR;IACA,OAAO,KAAK7D,OAAL,CAAaD,KAAb,CAAmBiE,MAAnB,CAA0B,CAA1B,EAA6B,KAAKhE,OAAL,CAAaE,cAA1C,IAA4Da,IAAnE;EACH,CAJD;;EAKApC,OAAO,CAACM,SAAR,CAAkBkD,WAAlB,GAAgC,UAAUpB,IAAV,EAAgB;IAC5C,OAAO,KAAKf,OAAL,CAAaD,KAAb,CAAmBiE,MAAnB,CAA0B,CAA1B,EAA6B,KAAKhE,OAAL,CAAaE,cAA1C,IAA4Da,IAA5D,GACH,KAAKf,OAAL,CAAaD,KAAb,CAAmBiE,MAAnB,CAA0B,KAAKhE,OAAL,CAAaI,YAAvC,EAAqD,KAAKJ,OAAL,CAAaD,KAAb,CAAmB+B,MAAxE,CADJ;EAEH,CAHD;;EAIAnD,OAAO,CAACM,SAAR,CAAkBqD,UAAlB,GAA+B,UAAUrC,KAAV,EAAiBE,GAAjB,EAAsBY,IAAtB,EAA4BV,eAA5B,EAC/B;EACAV,CAF+B,EAE5BiE,WAF4B,EAEfjC,UAFe,EAEHK,SAFG,EAEQ;IACnC,IAAI,KAAKqB,gBAAL,CAAsB1B,UAAU,CAAC,CAAD,CAAV,CAAc1B,KAApC,EAA2C0B,UAA3C,KACA,KAAK6B,cAAL,CAAoB7B,UAAU,CAACA,UAAU,CAACG,MAAX,GAAoB,CAArB,CAAV,CAAkC7B,KAAtD,EAA6D2D,WAAW,CAAC,CAAD,CAAX,CAAe9B,MAA5E,CADJ,EACyF;MACrF,IAAI7B,KAAK,KAAK0B,UAAU,CAAC,CAAD,CAAV,CAAc1B,KAA5B,EAAmC;QAC/B,IAAIA,KAAK,KAAKE,GAAV,IAAiBA,GAAG,KAAMwB,UAAU,CAACA,UAAU,CAACG,MAAX,GAAoB,CAArB,CAAV,CAAkC3B,GAAlC,GAAwC,CAAtE,EAA0E;UACtE,KAAKH,OAAL,CAAaD,KAAb,GAAqB,KAAK4D,qBAAL,CAA2BC,WAA3B,EAAwC7C,IAAxC,CAArB;QACH,CAFD,MAGK;UACD,KAAKf,OAAL,CAAaD,KAAb,GAAqB,KAAKoC,WAAL,CAAiBpB,IAAjB,CAArB;QACH;MACJ,CAPD,MAQK,IAAIZ,GAAG,KAAKwB,UAAU,CAACA,UAAU,CAACG,MAAX,GAAoB,CAArB,CAAV,CAAkC3B,GAAlC,GAAwC,CAApD,EAAuD;QACxD,KAAKH,OAAL,CAAaD,KAAb,GAAqB,KAAKoC,WAAL,CAAiBpB,IAAjB,CAArB;MACH,CAFI,MAGA;QACD,KAAKf,OAAL,CAAaD,KAAb,GAAqB,KAAK4D,qBAAL,CAA2BC,WAA3B,EAAwC7C,IAAxC,CAArB;MACH;;MACD,KAAKqB,aAAL,CAAmB/B,eAAnB,EAAoCJ,KAApC,EAA2CE,GAA3C;IACH;EACJ,CArBD;;EAsBAxB,OAAO,CAACM,SAAR,CAAkBoC,gBAAlB,GAAqC,UAAU4C,SAAV,EAAqB;IACtD,IAAIC,QAAQ,GAAI,GAAD,CAAMC,UAAN,CAAiB,CAAjB,CAAf;IACA,IAAIC,OAAO,GAAG,EAAd;;IACA,GAAG;MACCH,SAAS,IAAI,CAAb;MACAG,OAAO,GAAGC,MAAM,CAACC,YAAP,CAAoBJ,QAAQ,GAAID,SAAS,GAAG,EAA5C,IAAmDG,OAA7D;MACAH,SAAS,GAAIA,SAAS,GAAG,EAAb,IAAoB,CAAhC;IACH,CAJD,QAISA,SAAS,GAAG,CAJrB;;IAKA,OAAOG,OAAP;EACH,CATD;;EAUAzF,OAAO,CAACM,SAAR,CAAkB2B,YAAlB,GAAiC,YAAY;IACzC,IAAI2D,SAAS,GAAG,EAAhB;;IACA,IAAI,KAAKC,aAAL,MAAwB,KAAKC,gBAAL,EAA5B,EAAqD;MACjD,IAAI,KAAKzE,OAAL,CAAaD,KAAb,CAAmB+B,MAAnB,GAA4B,CAAhC,EAAmC;QAC/ByC,SAAS,IAAI,KAAKpD,UAAL,EAAb;QACAoD,SAAS,IAAI,KAAKpD,UAAL,EAAb,CAF+B,CAEC;MACnC;IACJ;;IACD,OAAOoD,SAAP;EACH,CATD;;EAUA5F,OAAO,CAACM,SAAR,CAAkBuF,aAAlB,GAAkC,YAAY;IAC1C,OAAO,KAAKxE,OAAL,CAAaE,cAAb,KAAgC,KAAKF,OAAL,CAAaI,YAApD;EACH,CAFD;;EAGAzB,OAAO,CAACM,SAAR,CAAkBwF,gBAAlB,GAAqC,YAAY;IAC7C,OAAO,KAAKzE,OAAL,CAAaE,cAAb,KAAgC,KAAKF,OAAL,CAAaI,YAApD;EACH,CAFD;;EAGAzB,OAAO,CAACM,SAAR,CAAkBuB,OAAlB,GAA4B,UAAUP,KAAV,EAAiBE,GAAjB,EAAsBP,KAAtB,EAA6B;IACrD,KAAKf,SAAL,CAAe0B,IAAf,CAAoBN,KAApB,EAA2BE,GAA3B;IACA,KAAKtB,SAAL,CAAe2B,OAAf,CAAuB,KAAKR,OAA5B;;IACA,IAAIJ,KAAK,IAAIA,KAAK,CAAC8E,QAAnB,EAA6B;MACzB9E,KAAK,CAAC8E,QAAN,CAAe;QACXC,WAAW,EAAE/E,KAAK,CAACgF,UADR;QAEXC,YAAY,EAAE,KAAKhG,SAAL,CAAeiG,eAAf,CAA+B,KAAK9E,OAApC,CAFH;QAGX+E,UAAU,EAAE,UAHD;QAIXnF,KAAK,EAAEA,KAAK,CAACA;MAJF,CAAf;IAMH;EACJ,CAXD;;EAYA,OAAOjB,OAAP;AACH,CA9N4B,EAA7B;;AA+NA,SAASA,OAAT"},"metadata":{},"sourceType":"module"}