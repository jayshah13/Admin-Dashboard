{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n\n    return extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nimport { remove, addClass, isNullOrUndefined, extend, isUndefined, Browser } from '@syncfusion/ej2-base';\nimport { HeaderRender } from './header-renderer';\nimport { ContentRender } from './content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\nimport { renderMovable, getScrollBarWidth, wrap, addRemoveEventListener } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport * as literals from '../base/string-literals';\n/**\n * Freeze module is used to render grid content with frozen rows and columns\n *\n * @hidden\n */\n\nvar FreezeContentRender =\n/** @class */\nfunction (_super) {\n  __extends(FreezeContentRender, _super);\n\n  function FreezeContentRender(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.isInitialRender = true;\n    _this.widthService = locator.getService('widthService');\n\n    _this.addEventListener();\n\n    return _this;\n  }\n\n  FreezeContentRender.prototype.addEventListener = function () {\n    this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n    this.parent.addEventListener(events.batchAdd, this.batchAdd.bind(this));\n    this.parent.on(events.batchCancel, this.batchAdd.bind(this));\n    this.parent.addEventListener(events.batchDelete, this.batchAdd.bind(this));\n    this.parent.on(events.setHeightToFrozenElement, this.refreshScrollOffset);\n    this.parent.on(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar, this);\n  };\n\n  FreezeContentRender.prototype.batchAdd = function (args) {\n    var isAdd = args.name !== 'batchCancel' && !(this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top');\n\n    if (this.parent.height !== 'auto' && (isAdd || args.name === 'batchCancel' || args.name === 'batchDelete')) {\n      this.refreshScrollOffset();\n      var height = this.getTable().offsetHeight;\n\n      if (args.name === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n        this.parent.getContent().firstChild.scroll(0, height);\n      }\n    }\n  };\n\n  FreezeContentRender.prototype.setHeightToContent = function (height) {\n    this.getFrozenContent().style.height = height.toString() + 'px';\n    this.getMovableContent().style.height = height.toString() + 'px';\n  };\n\n  FreezeContentRender.prototype.actionComplete = function (args) {\n    if (this.parent.editSettings.mode !== 'Dialog' && (args.requestType === 'add' || args.requestType === 'cancel' && args.row.classList.contains(literals.addedRow)) && (!this.parent.frozenRows || this.parent.editSettings.newRowPosition === 'Bottom') && this.parent.height !== 'auto') {\n      this.refreshScrollOffset();\n      var height = this.getTable().offsetHeight;\n\n      if (args.requestType === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n        this.parent.getContent().firstChild.scroll(0, height);\n      }\n    }\n  };\n\n  FreezeContentRender.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.removeEventListener(events.actionComplete, this.actionComplete);\n    this.parent.removeEventListener(events.batchAdd, this.batchAdd);\n    this.parent.off(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar);\n  };\n\n  FreezeContentRender.prototype.renderPanel = function () {\n    _super.prototype.renderPanel.call(this);\n\n    var fDiv = this.parent.element.querySelector('.' + literals.frozenContent);\n    var mDiv = this.parent.element.querySelector('.' + literals.movableContent);\n\n    if (isNullOrUndefined(fDiv)) {\n      fDiv = this.parent.createElement('div', {\n        className: 'e-frozencontent e-frozen-left-content'\n      });\n      mDiv = this.parent.createElement('div', {\n        className: literals.movableContent\n      });\n      this.getPanel().querySelector('.' + literals.content).appendChild(fDiv);\n      this.getPanel().querySelector('.' + literals.content).appendChild(mDiv);\n      mDiv.style.scrollbarWidth = 'none';\n    }\n\n    this.setFrozenContent(fDiv);\n    this.setMovableContent(mDiv);\n\n    if (Browser.userAgent.indexOf('Mac OS') > -1 && Browser.info.name === 'safari' && !this.parent.enableVirtualization) {\n      this.getPanel().firstElementChild.classList.add('e-mac-safari');\n    }\n  };\n\n  FreezeContentRender.prototype.renderFrozenRigthPanel = function () {\n    _super.prototype.renderPanel.call(this);\n  };\n\n  FreezeContentRender.prototype.renderEmpty = function (tbody) {\n    _super.prototype.renderEmpty.call(this, tbody);\n\n    this.getMovableContent().querySelector(literals.tbody).innerHTML = '<tr><td></td></tr>';\n    addClass([this.getMovableContent().querySelector(literals.tbody).querySelector('tr')], ['e-emptyrow']);\n    this.getFrozenContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getVisibleFrozenColumns();\n    this.getFrozenContent().style.borderRightWidth = '0px';\n\n    if (this.parent.frozenRows) {\n      this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).innerHTML = '';\n      this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).innerHTML = '';\n    }\n  };\n\n  FreezeContentRender.prototype.renderFrozenRightEmpty = function (tbody) {\n    _super.prototype.renderEmpty.call(this, tbody);\n  };\n\n  FreezeContentRender.prototype.setFrozenContent = function (ele) {\n    this.frozenContent = ele;\n  };\n  /**\n   * @param {Element} ele - specifies the element\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.setMovableContent = function (ele) {\n    this.movableContent = ele;\n  };\n\n  FreezeContentRender.prototype.getFrozenContent = function () {\n    return this.frozenContent;\n  };\n\n  FreezeContentRender.prototype.getMovableContent = function () {\n    return this.movableContent;\n  };\n\n  FreezeContentRender.prototype.getModelGenerator = function () {\n    return new FreezeRowModelGenerator(this.parent);\n  };\n\n  FreezeContentRender.prototype.renderFrozenRightTable = function () {\n    _super.prototype.renderTable.call(this);\n  };\n\n  FreezeContentRender.prototype.renderTable = function () {\n    var mTbl;\n\n    if (this.getFrozenContent().querySelector('.' + literals.table) == null) {\n      _super.prototype.renderTable.call(this);\n\n      this.getFrozenContent().appendChild(this.getTable());\n      mTbl = this.getTable().cloneNode(true);\n      this.getMovableContent().appendChild(mTbl);\n    } else {\n      this.setTable(this.getFrozenContent().querySelector('.' + literals.table));\n      this.setColGroup(this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true));\n      this.getFrozenContent().querySelector('.' + literals.table).appendChild(this.getColGroup());\n      mTbl = this.getMovableContent().querySelector('.' + literals.table);\n\n      if (this.parent.frozenRows) {\n        this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n      }\n    }\n\n    if (this.getMovableContent().querySelector(literals.colGroup)) {\n      remove(this.getMovableContent().querySelector(literals.colGroup));\n    }\n\n    var colGroup = this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup).cloneNode(true);\n    mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n    var style = this.parent.enableVirtualization ? '' : 'flex';\n    this.getPanel().firstChild.style.display = style;\n    this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-left-scrollbar', this.getScrollbarDisplay());\n  };\n\n  FreezeContentRender.prototype.getScrollbarDisplay = function () {\n    var frozenDisplay = '';\n\n    if (this.parent.getFrozenColumns() && !this.parent.getVisibleFrozenColumns() || this.parent.getFrozenLeftColumnsCount() && !this.parent.getVisibleFrozenLeftCount()) {\n      frozenDisplay = 'none';\n    }\n\n    return frozenDisplay;\n  };\n\n  FreezeContentRender.prototype.renderHorizontalScrollbar = function (className, display, isRight) {\n    var left = this.parent.createElement('div', {\n      className: className,\n      styles: 'display:' + display\n    });\n    var movable = this.parent.createElement('div', {\n      className: 'e-movablescrollbar'\n    });\n    var child = this.parent.createElement('div', {\n      className: 'e-movablechild'\n    });\n    var scrollbarHeight = getScrollBarWidth().toString();\n    this.setScrollbarHeight(movable, scrollbarHeight);\n    this.setScrollbarHeight(child, scrollbarHeight);\n    movable.appendChild(child);\n    this.appendScrollbar(left, movable, isRight);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  FreezeContentRender.prototype.appendScrollbar = function (frozen, movable, isRight) {\n    var parent = this.parent.createElement('div', {\n      className: 'e-scrollbar',\n      styles: 'display: flex'\n    });\n    parent.appendChild(frozen);\n    parent.appendChild(movable);\n    this.parent.getContent().appendChild(parent);\n  };\n\n  FreezeContentRender.prototype.setScrollbarHeight = function (ele, height) {\n    ele.style.minHeight = height + 'px';\n    ele.style.maxHeight = height + 'px';\n  };\n  /**\n   * @param {NotifyArgs} args - specifies the NotifyArgs\n   * @param {freezeTable} tableName - specifies the Freeze Table\n   * @returns {void}\n   * @hidden\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  FreezeContentRender.prototype.setIsFrozen = function (args, tableName) {\n    args.isFrozen = !args.isFrozen;\n  };\n  /**\n   * @param {Row<Column>[]} modelData - specifies the modeldata\n   * @param {NotifyArgs} args - specifies the args\n   * @returns {freezeTable} returns the freeze table\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.setTbody = function (modelData, args) {\n    var tableName;\n\n    if (isNullOrUndefined(modelData[0].cells[0])) {\n      this.getMovableContent().querySelector(literals.tbody).innerHTML = '';\n    }\n\n    var cell = modelData[0].cells[0];\n    var idx = cell.index;\n\n    if (isUndefined(idx) && this.parent.isRowDragable()) {\n      cell = modelData[0].cells[1];\n      idx = cell.index;\n    }\n\n    if (idx === 0) {\n      this.getPanel().firstChild.style.overflowX = 'hidden';\n\n      if (this.parent.enableColumnVirtualization) {\n        this.getMovableContent().style.overflowX = 'hidden';\n      }\n    }\n\n    if (this.parent.enableColumnVirtualization && args.renderMovableContent && args.requestType === 'virtualscroll' && this.getMovableContent().scrollLeft > 0 && args.virtualInfo.columnIndexes[0] !== 0) {\n      idx = this.parent.getFrozenColumns();\n    }\n\n    if (cell && cell.column) {\n      tableName = cell.column.getFreezeTableName();\n    }\n\n    this.setIdx(idx);\n    args.tableName = tableName;\n    return tableName;\n  };\n  /**\n   * @param {string} tableName - specifies the table name\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.splitRows = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      this.freezeRows = this.rows;\n      this.freezeRowElements = this.rowElements;\n    } else {\n      this.movableRows = this.rows;\n    }\n  };\n  /**\n   * @param {NotifyArgs} args - specifies the notifyargs\n   * @param {string} tableName - specifies the tableName\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.renderNextFrozentPart = function (args, tableName) {\n    var isVFTable = this.parent.enableVirtualization;\n\n    if (tableName === literals.frozenLeft) {\n      if (isVFTable) {\n        args.renderMovableContent = true;\n      }\n\n      this.refreshContentRows(extend({}, args));\n    }\n  };\n\n  FreezeContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n    if (this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate)) {\n      tbody = frag;\n    } else {\n      tbody.appendChild(frag);\n    }\n\n    if (tableName === literals.frozenLeft) {\n      this.isLoaded = false;\n      this.getFrozenContent().querySelector('table').appendChild(tbody);\n    } else {\n      this.refreshTbody(tbody);\n      this.isLoaded = true;\n      this.getMovableContent().querySelector('table').appendChild(tbody);\n      this.refreshHeight();\n      this.refreshScrollOffset();\n      this.widthService.refreshFrozenScrollbar();\n    }\n\n    if (this.isInitialRender) {\n      this.parent.scrollModule.setHeight();\n      this.isInitialRender = false;\n    }\n  };\n\n  FreezeContentRender.prototype.refreshScrollOffset = function () {\n    if (this.parent.height !== 'auto') {\n      var height = this.getTable().offsetHeight + 1;\n      this.setHeightToContent(height);\n    }\n\n    this.parent.notify(events.refreshFrozenHeight, {});\n  };\n  /**\n   * @param {string} tableName - specifies the table name\n   * @returns {HTMLElement} returns the Html element\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.getFrozenHeader = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      return this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody);\n    } else {\n      return this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n    }\n  };\n\n  FreezeContentRender.prototype.refreshTbody = function (tbody) {\n    if (tbody.childElementCount < 1) {\n      tbody.appendChild(this.parent.createElement('tr').appendChild(this.parent.createElement('td')));\n    }\n  };\n\n  FreezeContentRender.prototype.refreshHeight = function () {\n    if (!this.parent.allowTextWrap) {\n      this.parent.notify(events.freezeRender, {\n        case: 'refreshHeight'\n      });\n    }\n\n    this.getFrozenContent().style.borderRightWidth = '1px';\n  };\n\n  FreezeContentRender.prototype.setIdx = function (idx) {\n    this.idx = idx;\n  };\n\n  FreezeContentRender.prototype.getIdx = function () {\n    return this.idx;\n  };\n  /**\n   * @param {freezeTable} tableName - specifies the table name\n   * @returns {Element} returns the element\n   * @hidden\n   */\n\n\n  FreezeContentRender.prototype.getTbody = function (tableName) {\n    if (tableName === literals.frozenLeft) {\n      return this.getTable().querySelector(literals.tbody);\n    } else {\n      return this.getMovableContent().querySelector(literals.tbody);\n    }\n  };\n\n  return FreezeContentRender;\n}(ContentRender);\n\nexport { FreezeContentRender };\n\nvar FreezeRender =\n/** @class */\nfunction (_super) {\n  __extends(FreezeRender, _super);\n\n  function FreezeRender(parent, locator) {\n    var _this = _super.call(this, parent, locator) || this;\n\n    _this.addEventListener();\n\n    return _this;\n  }\n\n  FreezeRender.prototype.addEventListener = function () {\n    this.eventHandler = [{\n      event: events.freezeRender,\n      handler: this.refreshFreeze\n    }, {\n      event: events.frozenHeight,\n      handler: this.setFrozenHeight\n    }, {\n      event: events.uiUpdate,\n      handler: this.enableAfterRender\n    }];\n    addRemoveEventListener(this.parent, this.eventHandler, true, this);\n  };\n\n  FreezeRender.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    addRemoveEventListener(this.parent, this.eventHandler, false);\n  };\n\n  FreezeRender.prototype.renderTable = function () {\n    _super.prototype.renderTable.call(this);\n\n    this.rfshMovable();\n    this.updateColgroup();\n    this.initializeHeaderDrag();\n    this.initializeHeaderDrop();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  FreezeRender.prototype.renderPanel = function () {\n    var fDiv = this.parent.element.querySelector('.' + literals.frozenHeader);\n    var mDiv = this.parent.element.querySelector('.' + literals.movableHeader);\n\n    _super.prototype.renderPanel.call(this);\n\n    if (isNullOrUndefined(fDiv)) {\n      fDiv = this.parent.createElement('div', {\n        className: 'e-frozenheader e-frozen-left-header'\n      });\n      mDiv = this.parent.createElement('div', {\n        className: literals.movableHeader\n      });\n      this.getPanel().querySelector('.' + literals.headerContent).appendChild(fDiv);\n      this.getPanel().querySelector('.' + literals.headerContent).appendChild(mDiv);\n    }\n\n    this.setFrozenHeader(fDiv);\n    this.setMovableHeader(mDiv);\n  };\n\n  FreezeRender.prototype.renderFrozenRightPanel = function () {\n    _super.prototype.renderPanel.call(this);\n  };\n\n  FreezeRender.prototype.renderFrozenRightTable = function () {\n    _super.prototype.renderTable.call(this);\n  };\n\n  FreezeRender.prototype.refreshUI = function () {\n    var tbody = this.getMovableHeader().querySelector(literals.tbody);\n    remove(this.getMovableHeader().querySelector('table'));\n\n    _super.prototype.refreshUI.call(this);\n\n    this.rfshMovable();\n    this.getMovableHeader().querySelector(literals.tbody).innerHTML = tbody.innerHTML;\n    this.updateColgroup();\n    this.widthService.setWidthToColumns();\n\n    if (!this.parent.enableVirtualization) {\n      this.widthService.setWidthToTable();\n    }\n\n    if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n      wrap([].slice.call(this.movableHeader.querySelectorAll('tr.e-columnheader')), true);\n    }\n\n    this.parent.updateDefaultCursor();\n    renderMovable(this.parent.getContentTable().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent);\n    this.widthService.refreshFrozenScrollbar();\n    this.initializeHeaderDrag();\n    this.parent.notify(events.headerRefreshed, {\n      rows: this.rows,\n      args: {\n        isFrozen: false\n      }\n    });\n  };\n\n  FreezeRender.prototype.refreshFrozenLeftUI = function () {\n    _super.prototype.refreshUI.call(this);\n  };\n\n  FreezeRender.prototype.rfshMovable = function () {\n    this.getFrozenHeader().appendChild(this.getTable());\n    this.getMovableHeader().appendChild(this.createHeader(undefined, 'movable'));\n    this.refreshStackedHdrHgt();\n    this.addMovableFirstCls();\n  };\n\n  FreezeRender.prototype.addMovableFirstCls = function () {\n    if (this.parent.getVisibleFrozenColumns()) {\n      var movablefirstcell = [].slice.call(this.parent.element.querySelector('.' + literals.movableHeader).querySelector('thead').getElementsByClassName('e-columnheader'));\n      var len = movablefirstcell.length;\n\n      for (var i = 0; i < len; i++) {\n        var cells = 'cells';\n        var element = movablefirstcell[i][cells][0];\n\n        if (element) {\n          addClass([element], ['e-movablefirst']);\n\n          if (movablefirstcell[i][cells][0].rowSpan > 1) {\n            i = i + (movablefirstcell[i][cells][0].rowSpan - 1);\n          }\n        }\n      }\n    }\n  };\n\n  FreezeRender.prototype.refreshFreeze = function (obj) {\n    if (obj.case === 'filter') {\n      var filterRow = this.getTable().querySelector('.e-filterbar');\n\n      if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n        this.getMovableHeader().querySelector('thead').appendChild(this.filterRenderer(filterRow, this.parent.getFrozenColumns()));\n        var elements = [].slice.call(this.getMovableHeader().querySelectorAll('thead .e-filterbarcell .e-input'));\n\n        for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n          var elem = elements_1[_i];\n          var args = {\n            element: elem,\n            floatLabelType: 'Never',\n            properties: {\n              enableRtl: this.parent.enableRtl,\n              showClearButton: true\n            }\n          };\n          Input.bindInitialEvent(args);\n        }\n      }\n    } else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n      this.refreshHeight(obj);\n      this.parent.contentModule.refreshScrollOffset();\n    }\n  };\n\n  FreezeRender.prototype.refreshHeight = function (obj) {\n    var fRows;\n    var mRows;\n    var fHdr = this.getFrozenHeader();\n    var mHdr = this.getMovableHeader();\n    var cont = this.parent.getContent();\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n    var hdrClassList = this.parent.getHeaderContent().querySelector('.' + literals.headerContent).classList;\n\n    if (obj.case === 'textwrap') {\n      if (wrapMode !== 'Header' || obj.isModeChg) {\n        fRows = cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr');\n        mRows = cont.querySelector('.' + literals.movableContent).querySelectorAll('tr');\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, true);\n      }\n\n      if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n        hdrClassList.add('e-wrap');\n      } else {\n        hdrClassList.remove('e-wrap');\n      }\n\n      if (wrapMode === 'Both' || obj.isModeChg) {\n        fRows = fHdr.querySelectorAll('tr');\n        mRows = mHdr.querySelectorAll('tr');\n      } else {\n        mRows = mHdr.querySelector(wrapMode === 'Content' ? literals.tbody : 'thead').querySelectorAll('tr');\n        fRows = fHdr.querySelector(wrapMode === 'Content' ? literals.tbody : 'thead').querySelectorAll('tr');\n      }\n\n      if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n        this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1);\n      }\n\n      this.refreshStackedHdrHgt();\n    } else if (obj.case === 'refreshHeight') {\n      this.setWrapHeight(cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr'), cont.querySelector('.' + literals.movableContent).querySelectorAll('tr'), obj.isModeChg);\n\n      if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n        this.setWrapHeight(fHdr.querySelectorAll('tr'), mHdr.querySelectorAll('tr'), obj.isModeChg);\n      }\n    }\n  };\n\n  FreezeRender.prototype.enableAfterRender = function (e) {\n    if (e.module === 'scroll') {\n      this.setFrozenHeight();\n    }\n  };\n\n  FreezeRender.prototype.updateResizeHandler = function () {\n    var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n\n    for (var i = 0; i < elements.length; i++) {\n      elements[i].style.height = elements[i].parentElement.offsetHeight + 'px';\n    }\n  };\n\n  FreezeRender.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr) {\n    var fRowHgt;\n    var mRowHgt;\n    var isWrap = this.parent.allowTextWrap;\n    var wrapMode = this.parent.textWrapSettings.wrapMode;\n    var tHead = this.parent.getHeaderContent().querySelector('thead');\n    var tBody = this.parent.getHeaderContent().querySelector(literals.tbody);\n    var height = [];\n    var width = [];\n\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      //separate loop for performance issue\n      if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n        height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n\n        width[i] = mRows[i].getBoundingClientRect().height;\n      }\n    }\n\n    for (var i = 0, len = fRows.length; i < len; i++) {\n      if (isModeChg && (wrapMode === 'Header' && isContReset || wrapMode === 'Content' && tHead.contains(fRows[i]) || wrapMode === 'Header' && tBody.contains(fRows[i])) || isStackedHdr) {\n        fRows[i].style.height = null;\n        mRows[i].style.height = null;\n      }\n\n      fRowHgt = height[i];\n      mRowHgt = width[i];\n\n      if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && (isWrap && fRowHgt < mRowHgt || !isWrap && fRowHgt < mRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === false)) {\n        fRows[i].style.height = mRowHgt + 'px';\n      }\n\n      if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && (isWrap && fRowHgt > mRowHgt || !isWrap && fRowHgt > mRowHgt || this.parent.allowResizing && this.parent.resizeModule && this.parent.resizeModule.isFrozenColResized === true)) {\n        mRows[i].style.height = fRowHgt + 'px';\n      }\n    }\n\n    if (isWrap && this.parent.height !== 'auto') {\n      this.setFrozenHeight();\n    }\n  };\n\n  FreezeRender.prototype.setFrozenHeight = function (height) {\n    if (height === void 0) {\n      height = getScrollBarWidth();\n    }\n\n    var movableContentHeight = this.parent.element.querySelector('.' + literals.movableContent).getBoundingClientRect().height;\n    var movableContent = this.parent.element.querySelector('.' + literals.movableContent);\n    var frozenContent = this.parent.element.querySelector('.' + literals.frozenContent);\n    var contentScrollWidth = this.parent.getContent().scrollWidth;\n    var contentTableScrollWidth = this.parent.element.querySelector('.e-movablecontent table').scrollWidth + this.parent.getContentTable().scrollWidth;\n\n    if (movableContent.scrollWidth - movableContent.clientWidth) {\n      frozenContent.style.height = movableContentHeight - height + 'px';\n      frozenContent.style.borderBottom = '';\n    } else {\n      frozenContent.style.height = movableContentHeight + 'px';\n\n      if ((frozenContent.scrollHeight <= frozenContent.clientHeight || movableContent.scrollHeight <= movableContent.clientHeight) && contentScrollWidth === contentTableScrollWidth) {\n        this.parent.scrollModule.removePadding();\n      }\n\n      frozenContent.style.borderBottom = '0px';\n    }\n  };\n\n  FreezeRender.prototype.refreshStackedHdrHgt = function () {\n    var fRowSpan;\n    var mRowSpan;\n    var fTr = [].slice.call(this.getFrozenHeader().getElementsByClassName('e-columnheader'));\n    var mTr = [].slice.call(this.getMovableHeader().getElementsByClassName('e-columnheader'));\n\n    for (var i = 0, len = fTr.length; i < len; i++) {\n      fRowSpan = this.getRowSpan(fTr[i]);\n      mRowSpan = this.getRowSpan(mTr[i]);\n\n      if (fRowSpan.min > 1) {\n        this.updateStackedHdrRowHgt(i, fRowSpan.max, fTr[i], mTr);\n      } else if (mRowSpan.min > 1) {\n        this.updateStackedHdrRowHgt(i, mRowSpan.max, mTr[i], fTr);\n      }\n    }\n\n    if (this.parent.allowResizing) {\n      this.updateResizeHandler();\n    }\n  };\n\n  FreezeRender.prototype.getRowSpan = function (row) {\n    var rSpan;\n    var minRowSpan;\n    var maxRowSpan;\n\n    for (var i = 0, len = row.childElementCount; i < len; i++) {\n      if (i === 0) {\n        minRowSpan = row.children[0].rowSpan;\n      }\n\n      rSpan = row.children[i].rowSpan;\n      minRowSpan = Math.min(rSpan, minRowSpan);\n      maxRowSpan = Math.max(rSpan, minRowSpan);\n    }\n\n    return {\n      min: minRowSpan,\n      max: maxRowSpan\n    };\n  };\n\n  FreezeRender.prototype.updateStackedHdrRowHgt = function (idx, maxRowSpan, row, rows) {\n    var height = 0;\n\n    for (var i = 0; i < maxRowSpan; i++) {\n      height += rows[idx + i].style.height ? parseInt(rows[idx + i].style.height, 10) : rows[idx + i].offsetHeight;\n    }\n\n    row.style.height = height + 'px';\n  };\n\n  FreezeRender.prototype.setFrozenHeader = function (ele) {\n    this.frozenHeader = ele;\n  };\n  /**\n   * @param {Element} ele - specifies the element\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FreezeRender.prototype.setMovableHeader = function (ele) {\n    this.movableHeader = ele;\n  };\n\n  FreezeRender.prototype.getFrozenHeader = function () {\n    return this.frozenHeader;\n  };\n\n  FreezeRender.prototype.getMovableHeader = function () {\n    return this.movableHeader;\n  };\n  /**\n   * @returns {void}\n   * @hidden\n   */\n\n\n  FreezeRender.prototype.updateColgroup = function () {\n    var mTable = this.getMovableHeader().querySelector('table');\n    remove(this.getMovableHeader().querySelector(literals.colGroup));\n    mTable.insertBefore(renderMovable(this.getFrozenHeader().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent), mTable.querySelector('thead'));\n  };\n\n  FreezeRender.prototype.filterRenderer = function (ele, frozenColumn, total) {\n    var clone = ele.cloneNode(true);\n    clone.innerHTML = '';\n    var end = total ? total : this.parent.getColumns().length;\n\n    for (var i = frozenColumn; i < end; i++) {\n      clone.appendChild(ele.removeChild(ele.children[frozenColumn]));\n    }\n\n    return clone;\n  };\n\n  return FreezeRender;\n}(HeaderRender);\n\nexport { FreezeRender };","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","remove","addClass","isNullOrUndefined","extend","isUndefined","Browser","HeaderRender","ContentRender","FreezeRowModelGenerator","events","renderMovable","getScrollBarWidth","wrap","addRemoveEventListener","Input","literals","FreezeContentRender","_super","parent","locator","_this","call","isInitialRender","widthService","getService","addEventListener","actionComplete","bind","batchAdd","on","batchCancel","batchDelete","setHeightToFrozenElement","refreshScrollOffset","columnVisibilityChanged","refreshFrozenScrollbar","args","isAdd","name","frozenRows","editSettings","newRowPosition","height","getTable","offsetHeight","getContent","firstChild","scroll","setHeightToContent","getFrozenContent","style","toString","getMovableContent","mode","requestType","row","classList","contains","addedRow","removeEventListener","isDestroyed","off","renderPanel","fDiv","element","querySelector","frozenContent","mDiv","movableContent","createElement","className","getPanel","content","appendChild","scrollbarWidth","setFrozenContent","setMovableContent","userAgent","indexOf","info","enableVirtualization","firstElementChild","add","renderFrozenRigthPanel","renderEmpty","tbody","innerHTML","colSpan","getVisibleFrozenColumns","borderRightWidth","getHeaderContent","frozenHeader","movableHeader","renderFrozenRightEmpty","ele","getModelGenerator","renderFrozenRightTable","renderTable","mTbl","table","cloneNode","setTable","setColGroup","gridHeader","colGroup","getColGroup","insertBefore","display","renderHorizontalScrollbar","getScrollbarDisplay","frozenDisplay","getFrozenColumns","getFrozenLeftColumnsCount","getVisibleFrozenLeftCount","isRight","left","styles","movable","child","scrollbarHeight","setScrollbarHeight","appendScrollbar","frozen","minHeight","maxHeight","setIsFrozen","tableName","isFrozen","setTbody","modelData","cells","cell","idx","index","isRowDragable","overflowX","enableColumnVirtualization","renderMovableContent","scrollLeft","virtualInfo","columnIndexes","column","getFreezeTableName","setIdx","splitRows","frozenLeft","freezeRows","rows","freezeRowElements","rowElements","movableRows","renderNextFrozentPart","isVFTable","refreshContentRows","appendContent","frag","isReact","rowTemplate","isLoaded","refreshTbody","refreshHeight","scrollModule","setHeight","notify","refreshFrozenHeight","getFrozenHeader","childElementCount","allowTextWrap","freezeRender","case","getIdx","getTbody","FreezeRender","eventHandler","event","handler","refreshFreeze","frozenHeight","setFrozenHeight","uiUpdate","enableAfterRender","rfshMovable","updateColgroup","initializeHeaderDrag","initializeHeaderDrop","headerRefreshed","headerContent","setFrozenHeader","setMovableHeader","renderFrozenRightPanel","refreshUI","getMovableHeader","setWidthToColumns","setWidthToTable","textWrapSettings","wrapMode","slice","querySelectorAll","updateDefaultCursor","getContentTable","refreshFrozenLeftUI","createHeader","undefined","refreshStackedHdrHgt","addMovableFirstCls","movablefirstcell","getElementsByClassName","len","length","i","rowSpan","obj","filterRow","allowFiltering","filterRenderer","elements","_i","elements_1","elem","floatLabelType","properties","enableRtl","showClearButton","bindInitialEvent","contentModule","fRows","mRows","fHdr","mHdr","cont","hdrClassList","isModeChg","setWrapHeight","colDepth","e","module","updateResizeHandler","parentElement","isContReset","isStackedHdr","fRowHgt","mRowHgt","isWrap","tHead","tBody","width","getBoundingClientRect","allowResizing","resizeModule","isFrozenColResized","movableContentHeight","contentScrollWidth","scrollWidth","contentTableScrollWidth","clientWidth","borderBottom","scrollHeight","clientHeight","removePadding","fRowSpan","mRowSpan","fTr","mTr","getRowSpan","min","updateStackedHdrRowHgt","max","rSpan","minRowSpan","maxRowSpan","children","Math","parseInt","mTable","frozenColumn","total","clone","end","getColumns","removeChild"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Admin Dashboard/frontend/node_modules/@syncfusion/ej2-grids/src/grid/renderer/freeze-renderer.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { remove, addClass, isNullOrUndefined, extend, isUndefined, Browser } from '@syncfusion/ej2-base';\nimport { HeaderRender } from './header-renderer';\nimport { ContentRender } from './content-renderer';\nimport { FreezeRowModelGenerator } from '../services/freeze-row-model-generator';\nimport * as events from '../base/constant';\nimport { renderMovable, getScrollBarWidth, wrap, addRemoveEventListener } from '../base/util';\nimport { Input } from '@syncfusion/ej2-inputs';\nimport * as literals from '../base/string-literals';\n/**\n * Freeze module is used to render grid content with frozen rows and columns\n *\n * @hidden\n */\nvar FreezeContentRender = /** @class */ (function (_super) {\n    __extends(FreezeContentRender, _super);\n    function FreezeContentRender(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.isInitialRender = true;\n        _this.widthService = locator.getService('widthService');\n        _this.addEventListener();\n        return _this;\n    }\n    FreezeContentRender.prototype.addEventListener = function () {\n        this.parent.addEventListener(events.actionComplete, this.actionComplete.bind(this));\n        this.parent.addEventListener(events.batchAdd, this.batchAdd.bind(this));\n        this.parent.on(events.batchCancel, this.batchAdd.bind(this));\n        this.parent.addEventListener(events.batchDelete, this.batchAdd.bind(this));\n        this.parent.on(events.setHeightToFrozenElement, this.refreshScrollOffset);\n        this.parent.on(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar, this);\n    };\n    FreezeContentRender.prototype.batchAdd = function (args) {\n        var isAdd = args.name !== 'batchCancel'\n            && !(this.parent.frozenRows && this.parent.editSettings.newRowPosition === 'Top');\n        if (this.parent.height !== 'auto' && (isAdd || args.name === 'batchCancel' || args.name === 'batchDelete')) {\n            this.refreshScrollOffset();\n            var height = this.getTable().offsetHeight;\n            if (args.name === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n                this.parent.getContent().firstChild.scroll(0, height);\n            }\n        }\n    };\n    FreezeContentRender.prototype.setHeightToContent = function (height) {\n        this.getFrozenContent().style.height = height.toString() + 'px';\n        this.getMovableContent().style.height = height.toString() + 'px';\n    };\n    FreezeContentRender.prototype.actionComplete = function (args) {\n        if (this.parent.editSettings.mode !== 'Dialog' && (args.requestType === 'add' || (args.requestType === 'cancel'\n            && args.row.classList.contains(literals.addedRow)))\n            && (!this.parent.frozenRows || this.parent.editSettings.newRowPosition === 'Bottom') && this.parent.height !== 'auto') {\n            this.refreshScrollOffset();\n            var height = this.getTable().offsetHeight;\n            if (args.requestType === 'add' && this.parent.editSettings.newRowPosition === 'Bottom') {\n                this.parent.getContent().firstChild.scroll(0, height);\n            }\n        }\n    };\n    FreezeContentRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.removeEventListener(events.actionComplete, this.actionComplete);\n        this.parent.removeEventListener(events.batchAdd, this.batchAdd);\n        this.parent.off(events.columnVisibilityChanged, this.widthService.refreshFrozenScrollbar);\n    };\n    FreezeContentRender.prototype.renderPanel = function () {\n        _super.prototype.renderPanel.call(this);\n        var fDiv = this.parent.element.querySelector('.' + literals.frozenContent);\n        var mDiv = this.parent.element.querySelector('.' + literals.movableContent);\n        if (isNullOrUndefined(fDiv)) {\n            fDiv = this.parent.createElement('div', { className: 'e-frozencontent e-frozen-left-content' });\n            mDiv = this.parent.createElement('div', { className: literals.movableContent });\n            this.getPanel().querySelector('.' + literals.content).appendChild(fDiv);\n            this.getPanel().querySelector('.' + literals.content).appendChild(mDiv);\n            mDiv.style.scrollbarWidth = 'none';\n        }\n        this.setFrozenContent(fDiv);\n        this.setMovableContent(mDiv);\n        if (Browser.userAgent.indexOf('Mac OS') > -1 && Browser.info.name === 'safari' && !this.parent.enableVirtualization) {\n            this.getPanel().firstElementChild.classList.add('e-mac-safari');\n        }\n    };\n    FreezeContentRender.prototype.renderFrozenRigthPanel = function () {\n        _super.prototype.renderPanel.call(this);\n    };\n    FreezeContentRender.prototype.renderEmpty = function (tbody) {\n        _super.prototype.renderEmpty.call(this, tbody);\n        this.getMovableContent().querySelector(literals.tbody).innerHTML = '<tr><td></td></tr>';\n        addClass([this.getMovableContent().querySelector(literals.tbody).querySelector('tr')], ['e-emptyrow']);\n        this.getFrozenContent().querySelector('.e-emptyrow').querySelector('td').colSpan = this.parent.getVisibleFrozenColumns();\n        this.getFrozenContent().style.borderRightWidth = '0px';\n        if (this.parent.frozenRows) {\n            this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody).innerHTML = '';\n            this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody).innerHTML = '';\n        }\n    };\n    FreezeContentRender.prototype.renderFrozenRightEmpty = function (tbody) {\n        _super.prototype.renderEmpty.call(this, tbody);\n    };\n    FreezeContentRender.prototype.setFrozenContent = function (ele) {\n        this.frozenContent = ele;\n    };\n    /**\n     * @param {Element} ele - specifies the element\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.setMovableContent = function (ele) {\n        this.movableContent = ele;\n    };\n    FreezeContentRender.prototype.getFrozenContent = function () {\n        return this.frozenContent;\n    };\n    FreezeContentRender.prototype.getMovableContent = function () {\n        return this.movableContent;\n    };\n    FreezeContentRender.prototype.getModelGenerator = function () {\n        return new FreezeRowModelGenerator(this.parent);\n    };\n    FreezeContentRender.prototype.renderFrozenRightTable = function () {\n        _super.prototype.renderTable.call(this);\n    };\n    FreezeContentRender.prototype.renderTable = function () {\n        var mTbl;\n        if (this.getFrozenContent().querySelector('.' + literals.table) == null) {\n            _super.prototype.renderTable.call(this);\n            this.getFrozenContent().appendChild(this.getTable());\n            mTbl = this.getTable().cloneNode(true);\n            this.getMovableContent().appendChild(mTbl);\n        }\n        else {\n            this.setTable(this.getFrozenContent().querySelector('.' + literals.table));\n            this.setColGroup(this.parent.element.querySelector('.' + literals.gridHeader).querySelector(literals.colGroup).cloneNode(true));\n            this.getFrozenContent().querySelector('.' + literals.table).appendChild(this.getColGroup());\n            mTbl = this.getMovableContent().querySelector('.' + literals.table);\n            if (this.parent.frozenRows) {\n                this.parent.getHeaderContent().classList.add('e-frozenhdrcont');\n            }\n        }\n        if (this.getMovableContent().querySelector(literals.colGroup)) {\n            remove(this.getMovableContent().querySelector(literals.colGroup));\n        }\n        var colGroup = ((this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.colGroup)).cloneNode(true));\n        mTbl.insertBefore(colGroup, mTbl.querySelector(literals.tbody));\n        var style = this.parent.enableVirtualization ? '' : 'flex';\n        this.getPanel().firstChild.style.display = style;\n        this.renderHorizontalScrollbar('e-frozenscrollbar e-frozen-left-scrollbar', this.getScrollbarDisplay());\n    };\n    FreezeContentRender.prototype.getScrollbarDisplay = function () {\n        var frozenDisplay = '';\n        if ((this.parent.getFrozenColumns() && !this.parent.getVisibleFrozenColumns())\n            || (this.parent.getFrozenLeftColumnsCount() && !this.parent.getVisibleFrozenLeftCount())) {\n            frozenDisplay = 'none';\n        }\n        return frozenDisplay;\n    };\n    FreezeContentRender.prototype.renderHorizontalScrollbar = function (className, display, isRight) {\n        var left = this.parent.createElement('div', { className: className, styles: 'display:' + display });\n        var movable = this.parent.createElement('div', { className: 'e-movablescrollbar' });\n        var child = this.parent.createElement('div', { className: 'e-movablechild' });\n        var scrollbarHeight = getScrollBarWidth().toString();\n        this.setScrollbarHeight(movable, scrollbarHeight);\n        this.setScrollbarHeight(child, scrollbarHeight);\n        movable.appendChild(child);\n        this.appendScrollbar(left, movable, isRight);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FreezeContentRender.prototype.appendScrollbar = function (frozen, movable, isRight) {\n        var parent = this.parent.createElement('div', { className: 'e-scrollbar', styles: 'display: flex' });\n        parent.appendChild(frozen);\n        parent.appendChild(movable);\n        this.parent.getContent().appendChild(parent);\n    };\n    FreezeContentRender.prototype.setScrollbarHeight = function (ele, height) {\n        ele.style.minHeight = height + 'px';\n        ele.style.maxHeight = height + 'px';\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the NotifyArgs\n     * @param {freezeTable} tableName - specifies the Freeze Table\n     * @returns {void}\n     * @hidden\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    FreezeContentRender.prototype.setIsFrozen = function (args, tableName) {\n        args.isFrozen = !args.isFrozen;\n    };\n    /**\n     * @param {Row<Column>[]} modelData - specifies the modeldata\n     * @param {NotifyArgs} args - specifies the args\n     * @returns {freezeTable} returns the freeze table\n     * @hidden\n     */\n    FreezeContentRender.prototype.setTbody = function (modelData, args) {\n        var tableName;\n        if (isNullOrUndefined(modelData[0].cells[0])) {\n            this.getMovableContent().querySelector(literals.tbody).innerHTML = '';\n        }\n        var cell = modelData[0].cells[0];\n        var idx = cell.index;\n        if (isUndefined(idx) && this.parent.isRowDragable()) {\n            cell = modelData[0].cells[1];\n            idx = cell.index;\n        }\n        if (idx === 0) {\n            this.getPanel().firstChild.style.overflowX = 'hidden';\n            if (this.parent.enableColumnVirtualization) {\n                this.getMovableContent().style.overflowX = 'hidden';\n            }\n        }\n        if (this.parent.enableColumnVirtualization && args.renderMovableContent\n            && args.requestType === 'virtualscroll' && this.getMovableContent().scrollLeft > 0 && args.virtualInfo.columnIndexes[0] !== 0) {\n            idx = this.parent.getFrozenColumns();\n        }\n        if (cell && cell.column) {\n            tableName = cell.column.getFreezeTableName();\n        }\n        this.setIdx(idx);\n        args.tableName = tableName;\n        return tableName;\n    };\n    /**\n     * @param {string} tableName - specifies the table name\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.splitRows = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            this.freezeRows = this.rows;\n            this.freezeRowElements = this.rowElements;\n        }\n        else {\n            this.movableRows = this.rows;\n        }\n    };\n    /**\n     * @param {NotifyArgs} args - specifies the notifyargs\n     * @param {string} tableName - specifies the tableName\n     * @returns {void}\n     * @hidden\n     */\n    FreezeContentRender.prototype.renderNextFrozentPart = function (args, tableName) {\n        var isVFTable = this.parent.enableVirtualization;\n        if (tableName === literals.frozenLeft) {\n            if (isVFTable) {\n                args.renderMovableContent = true;\n            }\n            this.refreshContentRows(extend({}, args));\n        }\n    };\n    FreezeContentRender.prototype.appendContent = function (tbody, frag, args, tableName) {\n        if (this.parent.isReact && !isNullOrUndefined(this.parent.rowTemplate)) {\n            tbody = frag;\n        }\n        else {\n            tbody.appendChild(frag);\n        }\n        if (tableName === literals.frozenLeft) {\n            this.isLoaded = false;\n            this.getFrozenContent().querySelector('table').appendChild(tbody);\n        }\n        else {\n            this.refreshTbody(tbody);\n            this.isLoaded = true;\n            this.getMovableContent().querySelector('table').appendChild(tbody);\n            this.refreshHeight();\n            this.refreshScrollOffset();\n            this.widthService.refreshFrozenScrollbar();\n        }\n        if (this.isInitialRender) {\n            this.parent.scrollModule.setHeight();\n            this.isInitialRender = false;\n        }\n    };\n    FreezeContentRender.prototype.refreshScrollOffset = function () {\n        if (this.parent.height !== 'auto') {\n            var height = this.getTable().offsetHeight + 1;\n            this.setHeightToContent(height);\n        }\n        this.parent.notify(events.refreshFrozenHeight, {});\n    };\n    /**\n     * @param {string} tableName - specifies the table name\n     * @returns {HTMLElement} returns the Html element\n     * @hidden\n     */\n    FreezeContentRender.prototype.getFrozenHeader = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            return this.parent.getHeaderContent().querySelector('.' + literals.frozenHeader).querySelector(literals.tbody);\n        }\n        else {\n            return this.parent.getHeaderContent().querySelector('.' + literals.movableHeader).querySelector(literals.tbody);\n        }\n    };\n    FreezeContentRender.prototype.refreshTbody = function (tbody) {\n        if (tbody.childElementCount < 1) {\n            tbody.appendChild(this.parent.createElement('tr').appendChild(this.parent.createElement('td')));\n        }\n    };\n    FreezeContentRender.prototype.refreshHeight = function () {\n        if (!this.parent.allowTextWrap) {\n            this.parent.notify(events.freezeRender, { case: 'refreshHeight' });\n        }\n        this.getFrozenContent().style.borderRightWidth = '1px';\n    };\n    FreezeContentRender.prototype.setIdx = function (idx) {\n        this.idx = idx;\n    };\n    FreezeContentRender.prototype.getIdx = function () {\n        return this.idx;\n    };\n    /**\n     * @param {freezeTable} tableName - specifies the table name\n     * @returns {Element} returns the element\n     * @hidden\n     */\n    FreezeContentRender.prototype.getTbody = function (tableName) {\n        if (tableName === literals.frozenLeft) {\n            return this.getTable().querySelector(literals.tbody);\n        }\n        else {\n            return this.getMovableContent().querySelector(literals.tbody);\n        }\n    };\n    return FreezeContentRender;\n}(ContentRender));\nexport { FreezeContentRender };\nvar FreezeRender = /** @class */ (function (_super) {\n    __extends(FreezeRender, _super);\n    function FreezeRender(parent, locator) {\n        var _this = _super.call(this, parent, locator) || this;\n        _this.addEventListener();\n        return _this;\n    }\n    FreezeRender.prototype.addEventListener = function () {\n        this.eventHandler = [{ event: events.freezeRender, handler: this.refreshFreeze },\n            { event: events.frozenHeight, handler: this.setFrozenHeight },\n            { event: events.uiUpdate, handler: this.enableAfterRender }];\n        addRemoveEventListener(this.parent, this.eventHandler, true, this);\n    };\n    FreezeRender.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        addRemoveEventListener(this.parent, this.eventHandler, false);\n    };\n    FreezeRender.prototype.renderTable = function () {\n        _super.prototype.renderTable.call(this);\n        this.rfshMovable();\n        this.updateColgroup();\n        this.initializeHeaderDrag();\n        this.initializeHeaderDrop();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    FreezeRender.prototype.renderPanel = function () {\n        var fDiv = this.parent.element.querySelector('.' + literals.frozenHeader);\n        var mDiv = this.parent.element.querySelector('.' + literals.movableHeader);\n        _super.prototype.renderPanel.call(this);\n        if (isNullOrUndefined(fDiv)) {\n            fDiv = this.parent.createElement('div', { className: 'e-frozenheader e-frozen-left-header' });\n            mDiv = this.parent.createElement('div', { className: literals.movableHeader });\n            this.getPanel().querySelector('.' + literals.headerContent).appendChild(fDiv);\n            this.getPanel().querySelector('.' + literals.headerContent).appendChild(mDiv);\n        }\n        this.setFrozenHeader(fDiv);\n        this.setMovableHeader(mDiv);\n    };\n    FreezeRender.prototype.renderFrozenRightPanel = function () {\n        _super.prototype.renderPanel.call(this);\n    };\n    FreezeRender.prototype.renderFrozenRightTable = function () {\n        _super.prototype.renderTable.call(this);\n    };\n    FreezeRender.prototype.refreshUI = function () {\n        var tbody = this.getMovableHeader().querySelector(literals.tbody);\n        remove(this.getMovableHeader().querySelector('table'));\n        _super.prototype.refreshUI.call(this);\n        this.rfshMovable();\n        this.getMovableHeader().querySelector(literals.tbody).innerHTML = tbody.innerHTML;\n        this.updateColgroup();\n        this.widthService.setWidthToColumns();\n        if (!this.parent.enableVirtualization) {\n            this.widthService.setWidthToTable();\n        }\n        if (this.parent.allowTextWrap && this.parent.textWrapSettings.wrapMode === 'Header') {\n            wrap([].slice.call(this.movableHeader.querySelectorAll('tr.e-columnheader')), true);\n        }\n        this.parent.updateDefaultCursor();\n        renderMovable(this.parent.getContentTable().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent);\n        this.widthService.refreshFrozenScrollbar();\n        this.initializeHeaderDrag();\n        this.parent.notify(events.headerRefreshed, { rows: this.rows, args: { isFrozen: false } });\n    };\n    FreezeRender.prototype.refreshFrozenLeftUI = function () {\n        _super.prototype.refreshUI.call(this);\n    };\n    FreezeRender.prototype.rfshMovable = function () {\n        this.getFrozenHeader().appendChild(this.getTable());\n        this.getMovableHeader().appendChild(this.createHeader(undefined, 'movable'));\n        this.refreshStackedHdrHgt();\n        this.addMovableFirstCls();\n    };\n    FreezeRender.prototype.addMovableFirstCls = function () {\n        if (this.parent.getVisibleFrozenColumns()) {\n            var movablefirstcell = [].slice.call(this.parent.element.querySelector('.' + literals.movableHeader).querySelector('thead').getElementsByClassName('e-columnheader'));\n            var len = movablefirstcell.length;\n            for (var i = 0; i < len; i++) {\n                var cells = 'cells';\n                var element = movablefirstcell[i][cells][0];\n                if (element) {\n                    addClass([element], ['e-movablefirst']);\n                    if (movablefirstcell[i][cells][0].rowSpan > 1) {\n                        i = i + (movablefirstcell[i][cells][0].rowSpan - 1);\n                    }\n                }\n            }\n        }\n    };\n    FreezeRender.prototype.refreshFreeze = function (obj) {\n        if (obj.case === 'filter') {\n            var filterRow = this.getTable().querySelector('.e-filterbar');\n            if (this.parent.allowFiltering && filterRow && this.getMovableHeader().querySelector('thead')) {\n                this.getMovableHeader().querySelector('thead')\n                    .appendChild(this.filterRenderer(filterRow, this.parent.getFrozenColumns()));\n                var elements = [].slice.call(this.getMovableHeader().\n                    querySelectorAll('thead .e-filterbarcell .e-input'));\n                for (var _i = 0, elements_1 = elements; _i < elements_1.length; _i++) {\n                    var elem = elements_1[_i];\n                    var args = {\n                        element: elem, floatLabelType: 'Never',\n                        properties: {\n                            enableRtl: this.parent.enableRtl, showClearButton: true\n                        }\n                    };\n                    Input.bindInitialEvent(args);\n                }\n            }\n        }\n        else if (obj.case === 'textwrap' || obj.case === 'refreshHeight') {\n            this.refreshHeight(obj);\n            this.parent.contentModule.refreshScrollOffset();\n        }\n    };\n    FreezeRender.prototype.refreshHeight = function (obj) {\n        var fRows;\n        var mRows;\n        var fHdr = this.getFrozenHeader();\n        var mHdr = this.getMovableHeader();\n        var cont = this.parent.getContent();\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        var hdrClassList = this.parent.getHeaderContent().querySelector('.' + literals.headerContent).classList;\n        if (obj.case === 'textwrap') {\n            if (wrapMode !== 'Header' || obj.isModeChg) {\n                fRows = cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr');\n                mRows = cont.querySelector('.' + literals.movableContent).querySelectorAll('tr');\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, true);\n            }\n            if (wrapMode === 'Content' && this.parent.allowTextWrap) {\n                hdrClassList.add('e-wrap');\n            }\n            else {\n                hdrClassList.remove('e-wrap');\n            }\n            if (wrapMode === 'Both' || obj.isModeChg) {\n                fRows = fHdr.querySelectorAll('tr');\n                mRows = mHdr.querySelectorAll('tr');\n            }\n            else {\n                mRows = mHdr.querySelector(wrapMode === 'Content' ?\n                    literals.tbody : 'thead').querySelectorAll('tr');\n                fRows = fHdr.querySelector(wrapMode === 'Content' ?\n                    literals.tbody : 'thead').querySelectorAll('tr');\n            }\n            if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n                this.setWrapHeight(fRows, mRows, obj.isModeChg, false, this.colDepth > 1);\n            }\n            this.refreshStackedHdrHgt();\n        }\n        else if (obj.case === 'refreshHeight') {\n            this.setWrapHeight(cont.querySelector('.' + literals.frozenContent).querySelectorAll('tr'), cont.querySelector('.' + literals.movableContent).querySelectorAll('tr'), obj.isModeChg);\n            if (!this.parent.getHeaderContent().getElementsByClassName('e-stackedheadercell').length) {\n                this.setWrapHeight(fHdr.querySelectorAll('tr'), mHdr.querySelectorAll('tr'), obj.isModeChg);\n            }\n        }\n    };\n    FreezeRender.prototype.enableAfterRender = function (e) {\n        if (e.module === 'scroll') {\n            this.setFrozenHeight();\n        }\n    };\n    FreezeRender.prototype.updateResizeHandler = function () {\n        var elements = [].slice.call(this.parent.getHeaderContent().getElementsByClassName('e-rhandler'));\n        for (var i = 0; i < elements.length; i++) {\n            elements[i].style.height = elements[i].parentElement.offsetHeight + 'px';\n        }\n    };\n    FreezeRender.prototype.setWrapHeight = function (fRows, mRows, isModeChg, isContReset, isStackedHdr) {\n        var fRowHgt;\n        var mRowHgt;\n        var isWrap = this.parent.allowTextWrap;\n        var wrapMode = this.parent.textWrapSettings.wrapMode;\n        var tHead = this.parent.getHeaderContent().querySelector('thead');\n        var tBody = this.parent.getHeaderContent().querySelector(literals.tbody);\n        var height = [];\n        var width = [];\n        for (var i = 0, len = fRows.length; i < len; i++) { //separate loop for performance issue\n            if (!isNullOrUndefined(fRows[i]) && !isNullOrUndefined(mRows[i])) {\n                height[i] = fRows[i].getBoundingClientRect().height; //https://pagebuildersandwich.com/increased-plugins-performance-200/\n                width[i] = mRows[i].getBoundingClientRect().height;\n            }\n        }\n        for (var i = 0, len = fRows.length; i < len; i++) {\n            if (isModeChg && ((wrapMode === 'Header' && isContReset) || ((wrapMode === 'Content' && tHead.contains(fRows[i]))\n                || (wrapMode === 'Header' && tBody.contains(fRows[i])))) || isStackedHdr) {\n                fRows[i].style.height = null;\n                mRows[i].style.height = null;\n            }\n            fRowHgt = height[i];\n            mRowHgt = width[i];\n            if (!isNullOrUndefined(fRows[i]) && fRows[i].childElementCount && ((isWrap && fRowHgt < mRowHgt) ||\n                (!isWrap && fRowHgt < mRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === false))) {\n                fRows[i].style.height = mRowHgt + 'px';\n            }\n            if (mRows && !isNullOrUndefined(mRows[i]) && mRows[i].childElementCount && ((isWrap && fRowHgt > mRowHgt) ||\n                (!isWrap && fRowHgt > mRowHgt) || (this.parent.allowResizing && this.parent.resizeModule &&\n                this.parent.resizeModule.isFrozenColResized === true))) {\n                mRows[i].style.height = fRowHgt + 'px';\n            }\n        }\n        if (isWrap && this.parent.height !== 'auto') {\n            this.setFrozenHeight();\n        }\n    };\n    FreezeRender.prototype.setFrozenHeight = function (height) {\n        if (height === void 0) { height = getScrollBarWidth(); }\n        var movableContentHeight = this.parent.element.querySelector('.' + literals.movableContent).getBoundingClientRect().height;\n        var movableContent = this.parent.element.querySelector('.' + literals.movableContent);\n        var frozenContent = this.parent.element.querySelector('.' + literals.frozenContent);\n        var contentScrollWidth = this.parent.getContent().scrollWidth;\n        var contentTableScrollWidth = this.parent.element.querySelector('.e-movablecontent table').scrollWidth +\n            this.parent.getContentTable().scrollWidth;\n        if (movableContent.scrollWidth - movableContent.clientWidth) {\n            frozenContent.style.height = movableContentHeight -\n                height + 'px';\n            frozenContent.style.borderBottom = '';\n        }\n        else {\n            frozenContent.style.height = movableContentHeight + 'px';\n            if (((frozenContent.scrollHeight <= frozenContent.clientHeight) ||\n                (movableContent.scrollHeight <= movableContent.clientHeight))\n                && contentScrollWidth === contentTableScrollWidth) {\n                this.parent.scrollModule.removePadding();\n            }\n            frozenContent.style.borderBottom = '0px';\n        }\n    };\n    FreezeRender.prototype.refreshStackedHdrHgt = function () {\n        var fRowSpan;\n        var mRowSpan;\n        var fTr = [].slice.call(this.getFrozenHeader().getElementsByClassName('e-columnheader'));\n        var mTr = [].slice.call(this.getMovableHeader().getElementsByClassName('e-columnheader'));\n        for (var i = 0, len = fTr.length; i < len; i++) {\n            fRowSpan = this.getRowSpan(fTr[i]);\n            mRowSpan = this.getRowSpan(mTr[i]);\n            if (fRowSpan.min > 1) {\n                this.updateStackedHdrRowHgt(i, fRowSpan.max, fTr[i], mTr);\n            }\n            else if (mRowSpan.min > 1) {\n                this.updateStackedHdrRowHgt(i, mRowSpan.max, mTr[i], fTr);\n            }\n        }\n        if (this.parent.allowResizing) {\n            this.updateResizeHandler();\n        }\n    };\n    FreezeRender.prototype.getRowSpan = function (row) {\n        var rSpan;\n        var minRowSpan;\n        var maxRowSpan;\n        for (var i = 0, len = row.childElementCount; i < len; i++) {\n            if (i === 0) {\n                minRowSpan = row.children[0].rowSpan;\n            }\n            rSpan = row.children[i].rowSpan;\n            minRowSpan = Math.min(rSpan, minRowSpan);\n            maxRowSpan = Math.max(rSpan, minRowSpan);\n        }\n        return { min: minRowSpan, max: maxRowSpan };\n    };\n    FreezeRender.prototype.updateStackedHdrRowHgt = function (idx, maxRowSpan, row, rows) {\n        var height = 0;\n        for (var i = 0; i < maxRowSpan; i++) {\n            height += rows[idx + i].style.height ?\n                parseInt(rows[idx + i].style.height, 10) : rows[idx + i].offsetHeight;\n        }\n        row.style.height = height + 'px';\n    };\n    FreezeRender.prototype.setFrozenHeader = function (ele) {\n        this.frozenHeader = ele;\n    };\n    /**\n     * @param {Element} ele - specifies the element\n     * @returns {void}\n     * @hidden\n     */\n    FreezeRender.prototype.setMovableHeader = function (ele) {\n        this.movableHeader = ele;\n    };\n    FreezeRender.prototype.getFrozenHeader = function () {\n        return this.frozenHeader;\n    };\n    FreezeRender.prototype.getMovableHeader = function () {\n        return this.movableHeader;\n    };\n    /**\n     * @returns {void}\n     * @hidden\n     */\n    FreezeRender.prototype.updateColgroup = function () {\n        var mTable = this.getMovableHeader().querySelector('table');\n        remove(this.getMovableHeader().querySelector(literals.colGroup));\n        mTable.insertBefore(renderMovable(this.getFrozenHeader().querySelector(literals.colGroup), this.parent.getFrozenColumns(), this.parent), mTable.querySelector('thead'));\n    };\n    FreezeRender.prototype.filterRenderer = function (ele, frozenColumn, total) {\n        var clone = ele.cloneNode(true);\n        clone.innerHTML = '';\n        var end = total ? total : this.parent.getColumns().length;\n        for (var i = frozenColumn; i < end; i++) {\n            clone.appendChild(ele.removeChild(ele.children[frozenColumn]));\n        }\n        return clone;\n    };\n    return FreezeRender;\n}(HeaderRender));\nexport { FreezeRender };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}