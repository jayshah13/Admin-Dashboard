{"ast":null,"code":"import { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { CLS_COUNT, CLS_WARNING, CLS_ERROR } from '../base/classes';\n/**\n * `Count` module is used to handle Count actions.\n */\n\nvar Count =\n/** @class */\nfunction () {\n  function Count(parent, serviceLocator) {\n    this.parent = parent;\n    this.locator = serviceLocator;\n    this.renderFactory = this.locator.getService('rendererFactory');\n    this.addEventListener();\n  }\n\n  Count.prototype.initializeInstance = function () {\n    this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n    this.editPanel = this.contentRenderer.getEditPanel();\n    this.addEventListener();\n  };\n  /**\n   * renderCount method\n   *\n   * @returns {void}\n   * @hidden\n    */\n\n\n  Count.prototype.renderCount = function () {\n    this.initializeInstance();\n    this.element = this.parent.createElement('span', {\n      className: CLS_COUNT\n    });\n    this.contentRenderer.getPanel().parentElement.appendChild(this.element);\n    this.appendCount();\n\n    if (this.parent.maxLength !== -1) {\n      this.charCountBackground(this.htmlLength);\n    }\n  };\n\n  Count.prototype.appendCount = function () {\n    var htmlText = this.parent.editorMode === 'Markdown' ? this.editPanel.value.trim() : this.editPanel.textContent.trim();\n\n    if (this.parent.editorMode !== 'Markdown' && htmlText.indexOf('\\u200B') !== -1) {\n      this.htmlLength = htmlText.replace(/\\u200B/g, '').length;\n    } else {\n      this.htmlLength = htmlText.length;\n    }\n\n    var string = this.parent.maxLength === -1 ? this.htmlLength : this.htmlLength + ' / ' + this.parent.maxLength;\n    this.element.innerHTML = string;\n  };\n\n  Count.prototype.charCountBackground = function (htmlLength) {\n    var percentage = htmlLength / this.parent.maxLength * 100;\n\n    if (percentage < 85) {\n      this.element.classList.remove(CLS_WARNING);\n      this.element.classList.remove(CLS_ERROR);\n    } else if (percentage > 85 && percentage <= 90) {\n      this.element.classList.remove(CLS_ERROR);\n      this.element.classList.add(CLS_WARNING);\n    } else if (percentage > 90) {\n      this.element.classList.remove(CLS_WARNING);\n      this.element.classList.add(CLS_ERROR);\n    }\n  };\n  /**\n   * @returns {void}\n   * @hidden\n    */\n\n\n  Count.prototype.refresh = function () {\n    if (!isNullOrUndefined(this.editPanel)) {\n      this.appendCount();\n\n      if (this.parent.maxLength !== -1) {\n        this.charCountBackground(this.htmlLength);\n      }\n    }\n  };\n  /**\n   * Destroys the Count.\n   *\n   * @function destroy\n   * @returns {void}\n   * @hidden\n    */\n\n\n  Count.prototype.destroy = function () {\n    if (this.element && !isNullOrUndefined(this.parent.element.querySelector('.' + CLS_COUNT))) {\n      detach(this.element);\n    }\n\n    this.removeEventListener();\n  };\n\n  Count.prototype.toggle = function (e) {\n    this.element.style.display = e.member === 'viewSource' ? 'none' : 'block';\n  };\n\n  Count.prototype.addEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.on(events.initialEnd, this.renderCount, this);\n    this.parent.on(events.keyUp, this.refresh, this);\n    this.parent.on(events.count, this.refresh, this);\n    this.parent.on(events.refreshBegin, this.refresh, this);\n    this.parent.on(events.mouseDown, this.refresh, this);\n    this.parent.on(events.destroy, this.destroy, this);\n    this.parent.on(events.sourceCode, this.toggle, this);\n    this.parent.on(events.updateSource, this.toggle, this);\n  };\n\n  Count.prototype.removeEventListener = function () {\n    if (this.parent.isDestroyed) {\n      return;\n    }\n\n    this.parent.off(events.initialEnd, this.renderCount);\n    this.parent.off(events.keyUp, this.refresh);\n    this.parent.off(events.refreshBegin, this.refresh);\n    this.parent.off(events.count, this.refresh);\n    this.parent.off(events.mouseDown, this.refresh);\n    this.parent.off(events.destroy, this.destroy);\n    this.parent.off(events.sourceCode, this.toggle);\n    this.parent.off(events.updateSource, this.toggle);\n  };\n  /**\n   * For internal use only - Get the module name.\n   *\n   * @returns {string} - returns the string value\n   */\n\n\n  Count.prototype.getModuleName = function () {\n    return 'count';\n  };\n\n  return Count;\n}();\n\nexport { Count };","map":{"version":3,"names":["detach","isNullOrUndefined","events","RenderType","CLS_COUNT","CLS_WARNING","CLS_ERROR","Count","parent","serviceLocator","locator","renderFactory","getService","addEventListener","prototype","initializeInstance","contentRenderer","getRenderer","Content","editPanel","getEditPanel","renderCount","element","createElement","className","getPanel","parentElement","appendChild","appendCount","maxLength","charCountBackground","htmlLength","htmlText","editorMode","value","trim","textContent","indexOf","replace","length","string","innerHTML","percentage","classList","remove","add","refresh","destroy","querySelector","removeEventListener","toggle","e","style","display","member","isDestroyed","on","initialEnd","keyUp","count","refreshBegin","mouseDown","sourceCode","updateSource","off","getModuleName"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-richtexteditor/src/rich-text-editor/actions/count.js"],"sourcesContent":["import { detach, isNullOrUndefined } from '@syncfusion/ej2-base';\nimport * as events from '../base/constant';\nimport { RenderType } from '../base/enum';\nimport { CLS_COUNT, CLS_WARNING, CLS_ERROR } from '../base/classes';\n/**\n * `Count` module is used to handle Count actions.\n */\nvar Count = /** @class */ (function () {\n    function Count(parent, serviceLocator) {\n        this.parent = parent;\n        this.locator = serviceLocator;\n        this.renderFactory = this.locator.getService('rendererFactory');\n        this.addEventListener();\n    }\n    Count.prototype.initializeInstance = function () {\n        this.contentRenderer = this.renderFactory.getRenderer(RenderType.Content);\n        this.editPanel = this.contentRenderer.getEditPanel();\n        this.addEventListener();\n    };\n    /**\n     * renderCount method\n     *\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.renderCount = function () {\n        this.initializeInstance();\n        this.element = this.parent.createElement('span', { className: CLS_COUNT });\n        this.contentRenderer.getPanel().parentElement.appendChild(this.element);\n        this.appendCount();\n        if (this.parent.maxLength !== -1) {\n            this.charCountBackground(this.htmlLength);\n        }\n    };\n    Count.prototype.appendCount = function () {\n        var htmlText = this.parent.editorMode === 'Markdown' ? this.editPanel.value.trim() :\n            this.editPanel.textContent.trim();\n        if (this.parent.editorMode !== 'Markdown' && htmlText.indexOf('\\u200B') !== -1) {\n            this.htmlLength = htmlText.replace(/\\u200B/g, '').length;\n        }\n        else {\n            this.htmlLength = htmlText.length;\n        }\n        var string = this.parent.maxLength === -1 ? this.htmlLength : this.htmlLength + ' / ' + this.parent.maxLength;\n        this.element.innerHTML = string;\n    };\n    Count.prototype.charCountBackground = function (htmlLength) {\n        var percentage = (htmlLength / this.parent.maxLength) * 100;\n        if (percentage < 85) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.remove(CLS_ERROR);\n        }\n        else if (percentage > 85 && percentage <= 90) {\n            this.element.classList.remove(CLS_ERROR);\n            this.element.classList.add(CLS_WARNING);\n        }\n        else if (percentage > 90) {\n            this.element.classList.remove(CLS_WARNING);\n            this.element.classList.add(CLS_ERROR);\n        }\n    };\n    /**\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.refresh = function () {\n        if (!isNullOrUndefined(this.editPanel)) {\n            this.appendCount();\n            if (this.parent.maxLength !== -1) {\n                this.charCountBackground(this.htmlLength);\n            }\n        }\n    };\n    /**\n     * Destroys the Count.\n     *\n     * @function destroy\n     * @returns {void}\n     * @hidden\n\n     */\n    Count.prototype.destroy = function () {\n        if (this.element && !isNullOrUndefined(this.parent.element.querySelector('.' + CLS_COUNT))) {\n            detach(this.element);\n        }\n        this.removeEventListener();\n    };\n    Count.prototype.toggle = function (e) {\n        this.element.style.display = (e.member === 'viewSource') ? 'none' : 'block';\n    };\n    Count.prototype.addEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.on(events.initialEnd, this.renderCount, this);\n        this.parent.on(events.keyUp, this.refresh, this);\n        this.parent.on(events.count, this.refresh, this);\n        this.parent.on(events.refreshBegin, this.refresh, this);\n        this.parent.on(events.mouseDown, this.refresh, this);\n        this.parent.on(events.destroy, this.destroy, this);\n        this.parent.on(events.sourceCode, this.toggle, this);\n        this.parent.on(events.updateSource, this.toggle, this);\n    };\n    Count.prototype.removeEventListener = function () {\n        if (this.parent.isDestroyed) {\n            return;\n        }\n        this.parent.off(events.initialEnd, this.renderCount);\n        this.parent.off(events.keyUp, this.refresh);\n        this.parent.off(events.refreshBegin, this.refresh);\n        this.parent.off(events.count, this.refresh);\n        this.parent.off(events.mouseDown, this.refresh);\n        this.parent.off(events.destroy, this.destroy);\n        this.parent.off(events.sourceCode, this.toggle);\n        this.parent.off(events.updateSource, this.toggle);\n    };\n    /**\n     * For internal use only - Get the module name.\n     *\n     * @returns {string} - returns the string value\n     */\n    Count.prototype.getModuleName = function () {\n        return 'count';\n    };\n    return Count;\n}());\nexport { Count };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}