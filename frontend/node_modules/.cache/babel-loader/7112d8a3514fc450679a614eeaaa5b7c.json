{"ast":null,"code":"import { createElement, append, prepend, isNullOrUndefined, getValue, getDefaultDateObject, cldrData, addClass, setStyleAttribute, formatUnit, EventHandler, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nimport * as util from '../base/util';\n/**\n * view base\n */\n\nvar ViewBase =\n/** @class */\nfunction () {\n  /**\n   * Constructor\n   *\n   * @param {Schedule} parent Accepts the schedule instance\n   */\n  function ViewBase(parent) {\n    this.parent = parent;\n  }\n\n  ViewBase.prototype.isTimelineView = function () {\n    return this.parent.currentView.indexOf('Timeline') !== -1;\n  };\n\n  ViewBase.prototype.getContentRows = function () {\n    return [];\n  };\n\n  ViewBase.prototype.refreshHeader = function () {// Method to refresh the date header\n  };\n\n  ViewBase.prototype.refreshResourceHeader = function () {\n    remove(this.element.querySelector('tbody').lastElementChild.firstElementChild);\n    var resTd = createElement('td');\n    resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n    prepend([resTd], this.element.querySelector('tbody').lastElementChild);\n    this.parent.notify(event.contentReady, {});\n  };\n\n  ViewBase.prototype.getDayName = function (date) {\n    return this.parent.getDayNames('abbreviated')[date.getDay()];\n  };\n\n  ViewBase.prototype.getDate = function (date) {\n    return this.parent.globalize.formatDate(date, {\n      format: 'd',\n      calendar: this.parent.getCalendarMode()\n    });\n  };\n\n  ViewBase.prototype.getTime = function (date) {\n    if (this.parent.isAdaptive) {\n      if (this.parent.activeViewOptions.timeFormat === 'HH:mm' || this.parent.activeViewOptions.timeFormat === 'HH.mm') {\n        return this.parent.globalize.formatDate(date, {\n          format: 'H',\n          calendar: this.parent.getCalendarMode()\n        });\n      }\n\n      return this.parent.globalize.formatDate(date, {\n        skeleton: 'h',\n        calendar: this.parent.getCalendarMode()\n      });\n    }\n\n    return this.parent.getTimeString(date);\n  };\n\n  ViewBase.prototype.getTimelineDate = function (date) {\n    var text = this.parent.globalize.formatDate(date, {\n      skeleton: 'MMMd',\n      calendar: this.parent.getCalendarMode()\n    }) + ', ' + this.parent.getDayNames('wide')[date.getDay()];\n    return util.capitalizeFirstWord(text, 'multiple');\n  };\n\n  ViewBase.prototype.createEventTable = function (trCount) {\n    var eventTable = createElement('div', {\n      className: cls.EVENT_TABLE_CLASS\n    });\n    append(this.getEventRows(trCount), eventTable);\n    return eventTable;\n  };\n\n  ViewBase.prototype.getEventRows = function (trCount) {\n    var eventRows = [];\n    var eventContainer;\n\n    for (var row = 0; row < trCount; row++) {\n      eventContainer = createElement('div', {\n        className: cls.APPOINTMENT_CONTAINER_CLASS\n      });\n\n      if (this.parent.resourceBase && !this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.renderedResources) {\n        eventContainer.setAttribute('data-group-index', this.parent.resourceBase.renderedResources[row].groupIndex.toString());\n      }\n\n      eventRows.push(eventContainer);\n    }\n\n    return eventRows;\n  };\n\n  ViewBase.prototype.collapseRows = function (wrap) {\n    if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n      this.parent.resourceBase.hideResourceRows(wrap.querySelector('tbody'));\n      this.parent.resourceBase.hideResourceRows(wrap.querySelector('.' + cls.EVENT_TABLE_CLASS));\n    }\n  };\n\n  ViewBase.prototype.createTableLayout = function (className) {\n    var clsName = className || '';\n    var table = createElement('table', {\n      className: cls.SCHEDULE_TABLE_CLASS + ' ' + clsName,\n      attrs: {\n        role: 'table'\n      }\n    });\n    var tbody = createElement('tbody');\n    table.appendChild(tbody);\n    return table;\n  };\n\n  ViewBase.prototype.createColGroup = function (table, lastRow) {\n    var length = lastRow.length;\n\n    if (lastRow[0] && lastRow[0].colSpan) {\n      length = lastRow.map(function (value) {\n        return value.colSpan;\n      }).reduce(function (prev, next) {\n        return prev + next;\n      });\n    }\n\n    var colGroupEle = createElement('colgroup');\n\n    for (var i = 0; i < length; i++) {\n      colGroupEle.appendChild(createElement('col'));\n    }\n\n    prepend([colGroupEle], table);\n  };\n\n  ViewBase.prototype.getScrollXIndent = function (content) {\n    return content.offsetHeight - content.clientHeight > 0 ? util.getScrollBarWidth() : 0;\n  };\n\n  ViewBase.prototype.scrollTopPanel = function (target) {\n    this.getDatesHeaderElement().firstElementChild.scrollLeft = target.scrollLeft;\n  };\n\n  ViewBase.prototype.scrollHeaderLabels = function (target) {\n    var headerTable = this.element.querySelector('.e-date-header-wrap table');\n    var colWidth = headerTable.offsetWidth / headerTable.querySelectorAll('colgroup col').length;\n\n    var applyLeft = function (headerCells, isRtl) {\n      var currentCell;\n      var tdLeft = 0;\n      var colSpan = 0;\n      var hiddenLeft = isRtl ? -target.scrollLeft : target.scrollLeft;\n\n      for (var _i = 0, headerCells_2 = headerCells; _i < headerCells_2.length; _i++) {\n        var cell = headerCells_2[_i];\n        colSpan += parseInt(cell.getAttribute('colSpan'), 10);\n\n        if (colSpan > Math.floor(hiddenLeft / colWidth)) {\n          currentCell = cell;\n          break;\n        }\n\n        tdLeft += cell.offsetWidth;\n      }\n\n      if (!isNullOrUndefined(currentCell)) {\n        currentCell.children[0].style[isRtl ? 'right' : 'left'] = hiddenLeft - tdLeft + 'px';\n      }\n    };\n\n    var classNames = ['.e-header-year-cell', '.e-header-month-cell', '.e-header-week-cell', '.e-header-cells'];\n\n    for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n      var className = classNames_1[_i];\n      var headerCells = [].slice.call(this.element.querySelectorAll(className));\n\n      if (headerCells.length > 0) {\n        for (var _a = 0, headerCells_1 = headerCells; _a < headerCells_1.length; _a++) {\n          var element = headerCells_1[_a];\n          element.children[0].style[this.parent.enableRtl ? 'right' : 'left'] = '';\n        }\n\n        applyLeft(headerCells, this.parent.enableRtl);\n      }\n    }\n  };\n\n  ViewBase.prototype.addAttributes = function (td, element) {\n    if (td.template) {\n      append(td.template, element);\n    }\n\n    if (td.colSpan) {\n      element.setAttribute('colspan', td.colSpan.toString());\n    }\n\n    if (td.className) {\n      addClass([element], td.className);\n    }\n  };\n\n  ViewBase.prototype.getHeaderBarHeight = function () {\n    var headerBarHeight = 2;\n\n    if (this.parent.headerModule) {\n      headerBarHeight += util.getOuterHeight(this.parent.headerModule.getHeaderElement());\n    }\n\n    if (this.parent.uiStateValues.isGroupAdaptive) {\n      var resHeader = this.parent.element.querySelector('.' + cls.RESOURCE_HEADER_TOOLBAR);\n\n      if (resHeader) {\n        headerBarHeight += resHeader.offsetHeight;\n      }\n    }\n\n    return headerBarHeight;\n  };\n\n  ViewBase.prototype.renderPanel = function (type) {\n    if (type === cls.PREVIOUS_PANEL_CLASS) {\n      prepend([this.element], this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS));\n    } else {\n      this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(this.element);\n    }\n  };\n\n  ViewBase.prototype.setPanel = function (panel) {\n    this.element = panel;\n  };\n\n  ViewBase.prototype.getPanel = function () {\n    return this.element;\n  };\n\n  ViewBase.prototype.getDatesHeaderElement = function () {\n    return this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n  }; // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n\n  ViewBase.prototype.getDateSlots = function (renderDates, workDays) {\n    return []; // Here getDateSlots only need in vertical and month views\n  };\n\n  ViewBase.prototype.generateColumnLevels = function () {\n    return []; // Here generateColumnLevels only need in vertical and month views\n  };\n\n  ViewBase.prototype.getColumnLevels = function () {\n    return this.colLevels;\n  };\n\n  ViewBase.prototype.highlightCurrentTime = function () {// Here showTimeIndicator functionalities\n  };\n\n  ViewBase.prototype.startDate = function () {\n    return this.renderDates[0];\n  };\n\n  ViewBase.prototype.endDate = function () {\n    return util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n  };\n\n  ViewBase.prototype.getStartHour = function () {\n    var startHour = this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);\n\n    if (isNullOrUndefined(startHour)) {\n      startHour = new Date(2000, 0, 0, 0);\n    }\n\n    return startHour;\n  };\n\n  ViewBase.prototype.getEndHour = function () {\n    var endHour = this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);\n\n    if (isNullOrUndefined(endHour)) {\n      endHour = new Date(2000, 0, 0, 0);\n    }\n\n    return endHour;\n  };\n\n  ViewBase.prototype.isCurrentDate = function (date) {\n    return date.setHours(0, 0, 0, 0) === this.parent.getCurrentTime().setHours(0, 0, 0, 0);\n  };\n\n  ViewBase.prototype.isCurrentMonth = function (date) {\n    if (this.parent.activeViewOptions.displayDate || this.parent.activeViewOptions.numberOfWeeks > 0) {\n      return this.parent.activeView.getStartDate().getTime() <= this.parent.getCurrentTime().getTime() && this.parent.activeView.getEndDate().getTime() >= this.parent.getCurrentTime().getTime();\n    }\n\n    return date.getFullYear() === this.parent.getCurrentTime().getFullYear() && date.getMonth() === this.parent.getCurrentTime().getMonth();\n  };\n\n  ViewBase.prototype.isWorkDay = function (date, workDays) {\n    if (workDays === void 0) {\n      workDays = this.parent.activeViewOptions.workDays;\n    }\n\n    if (workDays.indexOf(date.getDay()) >= 0) {\n      return true;\n    }\n\n    return false;\n  };\n\n  ViewBase.prototype.isWorkHour = function (date, startHour, endHour, workDays) {\n    if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour)) {\n      return false;\n    }\n\n    startHour.setMilliseconds(0);\n    endHour.setMilliseconds(0);\n    return !(util.getDateInMs(date) < util.getDateInMs(startHour) || util.getDateInMs(date) >= util.getDateInMs(endHour) || !this.isWorkDay(date, workDays));\n  };\n\n  ViewBase.prototype.getRenderDates = function (workDays) {\n    var renderDates = []; // Due to same code for vertical and time line, week & work week views, if condition has used\n\n    if (this.parent.currentView === 'Week' || this.parent.currentView === 'TimelineWeek') {\n      var selectedDate = util.resetTime(this.parent.selectedDate);\n      var start = util.getWeekFirstDate(selectedDate, this.parent.activeViewOptions.firstDayOfWeek);\n\n      for (var i = 0, length_1 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_1; i++) {\n        if (this.parent.activeViewOptions.showWeekend) {\n          renderDates.push(start);\n        } else {\n          if (this.isWorkDay(start, workDays)) {\n            renderDates.push(start);\n          }\n        }\n\n        start = util.addDays(start, 1);\n      }\n    } else if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n      var start = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n\n      for (var i = 0, length_2 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_2; i++) {\n        if (this.isWorkDay(start, workDays)) {\n          renderDates.push(start);\n        }\n\n        start = util.addDays(start, 1);\n      }\n    } else {\n      var dayCount = this.parent.currentView === 'Agenda' ? this.parent.agendaDaysCount : this.parent.activeViewOptions.interval;\n      var start = util.resetTime(this.parent.selectedDate);\n\n      do {\n        if (this.parent.activeViewOptions.showWeekend) {\n          renderDates.push(start);\n        } else {\n          if (this.isWorkDay(start, workDays)) {\n            renderDates.push(start);\n          }\n        }\n\n        start = util.addDays(start, 1);\n      } while (dayCount !== renderDates.length);\n    }\n\n    if (!workDays) {\n      this.renderDates = renderDates;\n    }\n\n    if (this.parent.headerModule) {\n      this.parent.headerModule.previousNextIconHandler();\n    }\n\n    return renderDates;\n  };\n\n  ViewBase.prototype.getNextPreviousDate = function (type) {\n    if (this.parent.currentView === 'Day' || this.parent.currentView === 'TimelineDay') {\n      if (this.parent.activeViewOptions.showWeekend) {\n        var daysCount = this.parent.activeViewOptions.interval;\n        return util.addDays(this.parent.selectedDate, type === 'next' ? daysCount : -daysCount);\n      } else {\n        var date = void 0;\n\n        if (type === 'next') {\n          date = util.addDays(this.renderDates.slice(-1)[0], 1);\n\n          while (!this.isWorkDay(date)) {\n            date = util.addDays(date, 1);\n          }\n        } else {\n          date = util.addDays(this.renderDates[0], -1);\n          var count = 0;\n\n          do {\n            if (this.isWorkDay(date)) {\n              count += 1;\n            }\n\n            if (this.parent.activeViewOptions.interval !== count) {\n              date = util.addDays(date, -1);\n            }\n          } while (this.parent.activeViewOptions.interval !== count);\n        }\n\n        return date;\n      }\n    }\n\n    var weekLength = type === 'next' ? util.WEEK_LENGTH : -util.WEEK_LENGTH;\n    return util.addDays(this.parent.selectedDate, weekLength * this.parent.activeViewOptions.interval);\n  };\n\n  ViewBase.prototype.getLabelText = function (view) {\n    var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n    return this.parent.localeObj.getConstant(viewStr) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, {\n      skeleton: 'long',\n      calendar: this.parent.getCalendarMode()\n    }), 'single');\n  };\n\n  ViewBase.prototype.getDateRangeText = function () {\n    if (this.parent.isAdaptive) {\n      var formatDate = this.parent.activeViewOptions.dateFormat ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n      return util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, {\n        format: formatDate,\n        calendar: this.parent.getCalendarMode()\n      }), 'single');\n    }\n\n    return this.formatDateRange(this.renderDates[0], this.renderDates[this.renderDates.length - 1]);\n  };\n\n  ViewBase.prototype.formatDateRange = function (startDate, endDate) {\n    var globalize = this.parent.globalize;\n    var mode = this.parent.getCalendarMode();\n\n    if (startDate === endDate) {\n      endDate = null;\n    }\n\n    if (!isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n      var text = '';\n\n      if (!endDate) {\n        text = globalize.formatDate(startDate, {\n          format: this.parent.activeViewOptions.dateFormat,\n          calendar: mode\n        });\n        return util.capitalizeFirstWord(text, 'multiple');\n      }\n\n      text = globalize.formatDate(startDate, {\n        format: this.parent.activeViewOptions.dateFormat,\n        calendar: mode\n      }) + ' - ' + globalize.formatDate(endDate, {\n        format: this.parent.activeViewOptions.dateFormat,\n        calendar: mode\n      });\n      return util.capitalizeFirstWord(text, 'multiple');\n    }\n\n    var formattedStr;\n    var longDateFormat;\n\n    if (this.parent.locale === 'en' || this.parent.locale === 'en-US') {\n      longDateFormat = getValue('dateFormats.long', getDefaultDateObject(mode));\n    } else {\n      longDateFormat = getValue('main.' + '' + this.parent.locale + '.dates.calendars.' + mode + '.dateFormats.long', cldrData);\n    }\n\n    if (!endDate) {\n      return util.capitalizeFirstWord(globalize.formatDate(startDate, {\n        format: longDateFormat,\n        calendar: mode\n      }), 'single');\n    }\n\n    var dateFormat = longDateFormat.trim().toLocaleLowerCase();\n\n    if (dateFormat.substr(0, 1) === 'd') {\n      if (startDate.getFullYear() === endDate.getFullYear()) {\n        if (startDate.getMonth() === endDate.getMonth()) {\n          formattedStr = globalize.formatDate(startDate, {\n            format: 'dd',\n            calendar: mode\n          }) + ' - ' + globalize.formatDate(endDate, {\n            format: 'dd MMMM yyyy',\n            calendar: mode\n          });\n        } else {\n          formattedStr = globalize.formatDate(startDate, {\n            format: 'dd MMM',\n            calendar: mode\n          }) + ' - ' + globalize.formatDate(endDate, {\n            format: 'dd MMM yyyy',\n            calendar: mode\n          });\n        }\n      } else {\n        formattedStr = globalize.formatDate(startDate, {\n          format: 'dd MMM yyyy',\n          calendar: mode\n        }) + ' - ' + globalize.formatDate(endDate, {\n          format: 'dd MMM yyyy',\n          calendar: mode\n        });\n      }\n    } else if (dateFormat.substr(0, 1) === 'm') {\n      if (startDate.getFullYear() === endDate.getFullYear()) {\n        if (startDate.getMonth() === endDate.getMonth()) {\n          formattedStr = globalize.formatDate(startDate, {\n            format: 'MMMM dd',\n            calendar: mode\n          }) + ' - ' + globalize.formatDate(endDate, {\n            format: 'dd, yyyy',\n            calendar: mode\n          });\n        } else {\n          formattedStr = globalize.formatDate(startDate, {\n            format: 'MMM dd',\n            calendar: mode\n          }) + ' - ' + globalize.formatDate(endDate, {\n            format: 'MMM dd, yyyy',\n            calendar: mode\n          });\n        }\n      } else {\n        formattedStr = globalize.formatDate(startDate, {\n          format: 'MMM dd, yyyy',\n          calendar: mode\n        }) + ' - ' + globalize.formatDate(endDate, {\n          format: 'MMM dd, yyyy',\n          calendar: mode\n        });\n      }\n    } else {\n      formattedStr = globalize.formatDate(startDate, {\n        format: longDateFormat,\n        calendar: mode\n      }) + ' - ' + globalize.formatDate(endDate, {\n        format: longDateFormat,\n        calendar: mode\n      });\n    }\n\n    return util.capitalizeFirstWord(formattedStr, 'multiple');\n  };\n\n  ViewBase.prototype.getMobileDateElement = function (date, className) {\n    var wrap = createElement('div', {\n      className: className,\n      innerHTML: '<div class=\"e-m-date\">' + this.parent.globalize.formatDate(date, {\n        format: 'd',\n        calendar: this.parent.getCalendarMode()\n      }) + '</div>' + '<div class=\"e-m-day\">' + util.capitalizeFirstWord(this.parent.globalize.formatDate(date, {\n        format: 'E',\n        calendar: this.parent.getCalendarMode()\n      }), 'single') + '</div>'\n    });\n    return wrap;\n  };\n\n  ViewBase.prototype.setResourceHeaderContent = function (tdElement, tdData, className) {\n    if (className === void 0) {\n      className = cls.TEXT_ELLIPSIS;\n    }\n\n    if (this.parent.activeViewOptions.resourceHeaderTemplate) {\n      var data = {\n        resource: tdData.resource,\n        resourceData: tdData.resourceData\n      };\n      var scheduleId = this.parent.element.id + '_';\n      var viewName = this.parent.activeViewOptions.resourceHeaderTemplateName;\n      var templateId = scheduleId + viewName + 'resourceHeaderTemplate';\n      var quickTemplate = [].slice.call(this.parent.getResourceHeaderTemplate()(data, this.parent, 'resourceHeaderTemplate', templateId, false));\n      append(quickTemplate, tdElement);\n    } else {\n      tdElement.appendChild(createElement('div', {\n        className: className,\n        innerHTML: tdData.resourceData[tdData.resource.textField]\n      }));\n    }\n  };\n\n  ViewBase.prototype.renderResourceMobileLayout = function () {\n    if (this.parent.resourceBase.lastResourceLevel && this.parent.resourceBase.lastResourceLevel.length <= 0) {\n      return;\n    }\n\n    this.parent.resourceBase.renderResourceHeader();\n    this.parent.resourceBase.renderResourceTree();\n  };\n\n  ViewBase.prototype.addAutoHeightClass = function (element) {\n    if (!this.parent.uiStateValues.isGroupAdaptive && this.parent.rowAutoHeight && this.isTimelineView() && this.parent.activeViewOptions.group.resources.length > 0) {\n      addClass([element], cls.AUTO_HEIGHT);\n    }\n  };\n\n  ViewBase.prototype.getColElements = function () {\n    return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' col, .' + cls.DATE_HEADER_WRAP_CLASS + ' col'));\n  };\n\n  ViewBase.prototype.setColWidth = function (content) {\n    if (this.isTimelineView()) {\n      var colElements = this.getColElements();\n      var contentBody = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n      var colWidth_1 = contentBody.getBoundingClientRect().width / (colElements.length / 2);\n      colElements.forEach(function (col) {\n        return setStyleAttribute(col, {\n          'width': formatUnit(colWidth_1)\n        });\n      });\n\n      if (content.offsetHeight !== content.clientHeight) {\n        var resourceColumn = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n\n        if (!isNullOrUndefined(resourceColumn)) {\n          setStyleAttribute(resourceColumn, {\n            'height': formatUnit(content.clientHeight)\n          });\n        }\n      }\n\n      var cssClass = \".\" + cls.HEADER_CELLS_CLASS + \",.\" + cls.TIME_SLOT_CLASS + \",.\" + cls.HEADER_WEEK_CELLS_CLASS + \",.\" + cls.HEADER_MONTH_CELLS_CLASS + \",.\" + cls.HEADER_YEAR_CELLS_CLASS;\n      var headerCellElements = [].slice.call(this.element.querySelectorAll(cssClass));\n      headerCellElements.forEach(function (ele) {\n        var colSpan = isNullOrUndefined(ele.getAttribute('colspan')) ? '1' : ele.getAttribute('colspan');\n        var headerCellColSpan = parseInt(colSpan, 10);\n        setStyleAttribute(ele, {\n          'width': formatUnit(colWidth_1 * headerCellColSpan)\n        });\n      });\n    }\n  };\n\n  ViewBase.prototype.resetColWidth = function () {\n    var colElements = this.getColElements();\n\n    for (var _i = 0, colElements_1 = colElements; _i < colElements_1.length; _i++) {\n      var col = colElements_1[_i];\n      col.style.width = '';\n    }\n  };\n\n  ViewBase.prototype.getContentAreaElement = function () {\n    return this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n  };\n\n  ViewBase.prototype.wireExpandCollapseIconEvents = function () {\n    if (this.parent.resourceBase && this.parent.resourceBase.resourceCollection.length > 1) {\n      var treeIcons = [].slice.call(this.element.querySelectorAll('.' + cls.RESOURCE_TREE_ICON_CLASS));\n\n      for (var _i = 0, treeIcons_1 = treeIcons; _i < treeIcons_1.length; _i++) {\n        var icon = treeIcons_1[_i];\n        EventHandler.clearEvents(icon);\n        EventHandler.add(icon, 'click', this.parent.resourceBase.onTreeIconClick, this.parent.resourceBase);\n      }\n    }\n  };\n\n  ViewBase.prototype.scrollToDate = function (scrollDate) {\n    if (['Month', 'TimelineMonth'].indexOf(this.parent.currentView) === -1 || isNullOrUndefined(scrollDate)) {\n      return;\n    }\n\n    var scrollWrap = this.getContentAreaElement();\n    var tdDate = new Date(util.resetTime(new Date(+scrollDate)).getTime()).getTime();\n    var dateElement = scrollWrap.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + tdDate + \"\\\"]\");\n\n    if (this.parent.currentView === 'Month' && dateElement) {\n      scrollWrap.scrollTop = dateElement.offsetTop;\n    }\n\n    if (this.parent.currentView === 'TimelineMonth' && dateElement) {\n      if (!this.parent.enableRtl) {\n        scrollWrap.scrollLeft = dateElement.offsetLeft;\n      } else {\n        scrollWrap.scrollLeft = -(this.parent.getContentTable().offsetWidth - dateElement.offsetLeft - dateElement.offsetWidth);\n      }\n    }\n  };\n\n  ViewBase.prototype.setPersistence = function () {\n    if (this.parent.enablePersistence) {\n      var contentWrap = this.element.querySelector('.e-content-wrap');\n\n      if (!isNullOrUndefined(contentWrap)) {\n        this.parent.scrollLeft = contentWrap.scrollLeft;\n        this.parent.scrollTop = contentWrap.scrollTop;\n      }\n    }\n  };\n\n  ViewBase.prototype.retainScrollPosition = function () {\n    if (this.parent.enablePersistence) {\n      var conWrap = this.parent.element.querySelector('.e-content-wrap');\n\n      if (!isNullOrUndefined(conWrap) && !isNullOrUndefined(this.parent.scrollLeft) && !isNullOrUndefined(this.parent.scrollTop)) {\n        conWrap.scrollTop = this.parent.scrollTop;\n        conWrap.scrollLeft = this.parent.scrollLeft;\n      }\n    }\n  };\n\n  ViewBase.prototype.getViewStartDate = function () {\n    var startDate = this.renderDates[0];\n\n    if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n      startDate = this.parent.resourceBase.getResourceRenderDates()[0];\n    }\n\n    return startDate;\n  };\n\n  ViewBase.prototype.getViewEndDate = function () {\n    var endDate = util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n\n    if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n      endDate = util.addDays(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0], 1);\n    }\n\n    return endDate;\n  };\n\n  ViewBase.prototype.destroy = function () {\n    if (this.element && this.element.parentNode) {\n      remove(this.element);\n    }\n\n    this.element = null;\n    this.renderDates = null;\n    this.colLevels = null;\n  };\n\n  return ViewBase;\n}();\n\nexport { ViewBase };","map":{"version":3,"names":["createElement","append","prepend","isNullOrUndefined","getValue","getDefaultDateObject","cldrData","addClass","setStyleAttribute","formatUnit","EventHandler","remove","cls","event","util","ViewBase","parent","prototype","isTimelineView","currentView","indexOf","getContentRows","refreshHeader","refreshResourceHeader","element","querySelector","lastElementChild","firstElementChild","resTd","appendChild","resourceBase","createResourceColumn","notify","contentReady","getDayName","date","getDayNames","getDay","getDate","globalize","formatDate","format","calendar","getCalendarMode","getTime","isAdaptive","activeViewOptions","timeFormat","skeleton","getTimeString","getTimelineDate","text","capitalizeFirstWord","createEventTable","trCount","eventTable","className","EVENT_TABLE_CLASS","getEventRows","eventRows","eventContainer","row","APPOINTMENT_CONTAINER_CLASS","uiStateValues","isGroupAdaptive","renderedResources","setAttribute","groupIndex","toString","push","collapseRows","wrap","group","resources","length","hideResourceRows","createTableLayout","clsName","table","SCHEDULE_TABLE_CLASS","attrs","role","tbody","createColGroup","lastRow","colSpan","map","value","reduce","prev","next","colGroupEle","i","getScrollXIndent","content","offsetHeight","clientHeight","getScrollBarWidth","scrollTopPanel","target","getDatesHeaderElement","scrollLeft","scrollHeaderLabels","headerTable","colWidth","offsetWidth","querySelectorAll","applyLeft","headerCells","isRtl","currentCell","tdLeft","hiddenLeft","_i","headerCells_2","cell","parseInt","getAttribute","Math","floor","children","style","classNames","classNames_1","slice","call","_a","headerCells_1","enableRtl","addAttributes","td","template","getHeaderBarHeight","headerBarHeight","headerModule","getOuterHeight","getHeaderElement","resHeader","RESOURCE_HEADER_TOOLBAR","renderPanel","type","PREVIOUS_PANEL_CLASS","TABLE_CONTAINER_CLASS","setPanel","panel","getPanel","DATE_HEADER_CONTAINER_CLASS","getDateSlots","renderDates","workDays","generateColumnLevels","getColumnLevels","colLevels","highlightCurrentTime","startDate","endDate","addDays","getStartHour","startHour","getStartEndTime","Date","getEndHour","endHour","isCurrentDate","setHours","getCurrentTime","isCurrentMonth","displayDate","numberOfWeeks","activeView","getStartDate","getEndDate","getFullYear","getMonth","isWorkDay","isWorkHour","setMilliseconds","getDateInMs","getRenderDates","selectedDate","resetTime","start","getWeekFirstDate","firstDayOfWeek","length_1","WEEK_LENGTH","interval","showWeekend","length_2","dayCount","agendaDaysCount","previousNextIconHandler","getNextPreviousDate","daysCount","count","weekLength","getLabelText","view","viewStr","charAt","toLowerCase","substring","localeObj","getConstant","getDateRangeText","dateFormat","formatDateRange","mode","formattedStr","longDateFormat","locale","trim","toLocaleLowerCase","substr","getMobileDateElement","innerHTML","setResourceHeaderContent","tdElement","tdData","TEXT_ELLIPSIS","resourceHeaderTemplate","data","resource","resourceData","scheduleId","id","viewName","resourceHeaderTemplateName","templateId","quickTemplate","getResourceHeaderTemplate","textField","renderResourceMobileLayout","lastResourceLevel","renderResourceHeader","renderResourceTree","addAutoHeightClass","rowAutoHeight","AUTO_HEIGHT","getColElements","CONTENT_WRAP_CLASS","DATE_HEADER_WRAP_CLASS","setColWidth","colElements","contentBody","CONTENT_TABLE_CLASS","colWidth_1","getBoundingClientRect","width","forEach","col","resourceColumn","RESOURCE_COLUMN_WRAP_CLASS","cssClass","HEADER_CELLS_CLASS","TIME_SLOT_CLASS","HEADER_WEEK_CELLS_CLASS","HEADER_MONTH_CELLS_CLASS","HEADER_YEAR_CELLS_CLASS","headerCellElements","ele","headerCellColSpan","resetColWidth","colElements_1","getContentAreaElement","wireExpandCollapseIconEvents","resourceCollection","treeIcons","RESOURCE_TREE_ICON_CLASS","treeIcons_1","icon","clearEvents","add","onTreeIconClick","scrollToDate","scrollDate","scrollWrap","tdDate","dateElement","WORK_CELLS_CLASS","scrollTop","offsetTop","offsetLeft","getContentTable","setPersistence","enablePersistence","contentWrap","retainScrollPosition","conWrap","getViewStartDate","getResourceRenderDates","getViewEndDate","destroy","parentNode"],"sources":["C:/Users/shahj/OneDrive/Documents/GitHub/Multifunctional-React-Dashboard/node_modules/@syncfusion/ej2-schedule/src/schedule/renderer/view-base.js"],"sourcesContent":["import { createElement, append, prepend, isNullOrUndefined, getValue, getDefaultDateObject, cldrData, addClass, setStyleAttribute, formatUnit, EventHandler, remove } from '@syncfusion/ej2-base';\nimport * as cls from '../base/css-constant';\nimport * as event from '../base/constant';\nimport * as util from '../base/util';\n/**\n * view base\n */\nvar ViewBase = /** @class */ (function () {\n    /**\n     * Constructor\n     *\n     * @param {Schedule} parent Accepts the schedule instance\n     */\n    function ViewBase(parent) {\n        this.parent = parent;\n    }\n    ViewBase.prototype.isTimelineView = function () {\n        return this.parent.currentView.indexOf('Timeline') !== -1;\n    };\n    ViewBase.prototype.getContentRows = function () {\n        return [];\n    };\n    ViewBase.prototype.refreshHeader = function () {\n        // Method to refresh the date header\n    };\n    ViewBase.prototype.refreshResourceHeader = function () {\n        remove(this.element.querySelector('tbody').lastElementChild.firstElementChild);\n        var resTd = createElement('td');\n        resTd.appendChild(this.parent.resourceBase.createResourceColumn());\n        prepend([resTd], this.element.querySelector('tbody').lastElementChild);\n        this.parent.notify(event.contentReady, {});\n    };\n    ViewBase.prototype.getDayName = function (date) {\n        return this.parent.getDayNames('abbreviated')[date.getDay()];\n    };\n    ViewBase.prototype.getDate = function (date) {\n        return this.parent.globalize.formatDate(date, { format: 'd', calendar: this.parent.getCalendarMode() });\n    };\n    ViewBase.prototype.getTime = function (date) {\n        if (this.parent.isAdaptive) {\n            if (this.parent.activeViewOptions.timeFormat === 'HH:mm' || this.parent.activeViewOptions.timeFormat === 'HH.mm') {\n                return this.parent.globalize.formatDate(date, { format: 'H', calendar: this.parent.getCalendarMode() });\n            }\n            return this.parent.globalize.formatDate(date, { skeleton: 'h', calendar: this.parent.getCalendarMode() });\n        }\n        return this.parent.getTimeString(date);\n    };\n    ViewBase.prototype.getTimelineDate = function (date) {\n        var text = this.parent.globalize.formatDate(date, { skeleton: 'MMMd', calendar: this.parent.getCalendarMode() }) + ', ' +\n            this.parent.getDayNames('wide')[date.getDay()];\n        return util.capitalizeFirstWord(text, 'multiple');\n    };\n    ViewBase.prototype.createEventTable = function (trCount) {\n        var eventTable = createElement('div', { className: cls.EVENT_TABLE_CLASS });\n        append(this.getEventRows(trCount), eventTable);\n        return eventTable;\n    };\n    ViewBase.prototype.getEventRows = function (trCount) {\n        var eventRows = [];\n        var eventContainer;\n        for (var row = 0; row < trCount; row++) {\n            eventContainer = createElement('div', { className: cls.APPOINTMENT_CONTAINER_CLASS });\n            if (this.parent.resourceBase && !this.parent.uiStateValues.isGroupAdaptive && this.parent.resourceBase.renderedResources) {\n                eventContainer.setAttribute('data-group-index', this.parent.resourceBase.renderedResources[row].groupIndex.toString());\n            }\n            eventRows.push(eventContainer);\n        }\n        return eventRows;\n    };\n    ViewBase.prototype.collapseRows = function (wrap) {\n        if (this.parent.activeViewOptions.group.resources.length > 0 && !this.parent.uiStateValues.isGroupAdaptive) {\n            this.parent.resourceBase.hideResourceRows(wrap.querySelector('tbody'));\n            this.parent.resourceBase.hideResourceRows(wrap.querySelector('.' + cls.EVENT_TABLE_CLASS));\n        }\n    };\n    ViewBase.prototype.createTableLayout = function (className) {\n        var clsName = className || '';\n        var table = createElement('table', { className: cls.SCHEDULE_TABLE_CLASS + ' ' + clsName, attrs: { role: 'table' } });\n        var tbody = createElement('tbody');\n        table.appendChild(tbody);\n        return table;\n    };\n    ViewBase.prototype.createColGroup = function (table, lastRow) {\n        var length = lastRow.length;\n        if (lastRow[0] && lastRow[0].colSpan) {\n            length = lastRow.map(function (value) { return value.colSpan; }).reduce(function (prev, next) { return prev + next; });\n        }\n        var colGroupEle = createElement('colgroup');\n        for (var i = 0; i < length; i++) {\n            colGroupEle.appendChild(createElement('col'));\n        }\n        prepend([colGroupEle], table);\n    };\n    ViewBase.prototype.getScrollXIndent = function (content) {\n        return content.offsetHeight - content.clientHeight > 0 ? util.getScrollBarWidth() : 0;\n    };\n    ViewBase.prototype.scrollTopPanel = function (target) {\n        this.getDatesHeaderElement().firstElementChild.scrollLeft = target.scrollLeft;\n    };\n    ViewBase.prototype.scrollHeaderLabels = function (target) {\n        var headerTable = this.element.querySelector('.e-date-header-wrap table');\n        var colWidth = headerTable.offsetWidth / headerTable.querySelectorAll('colgroup col').length;\n        var applyLeft = function (headerCells, isRtl) {\n            var currentCell;\n            var tdLeft = 0;\n            var colSpan = 0;\n            var hiddenLeft = isRtl ? -(target.scrollLeft) : target.scrollLeft;\n            for (var _i = 0, headerCells_2 = headerCells; _i < headerCells_2.length; _i++) {\n                var cell = headerCells_2[_i];\n                colSpan += parseInt(cell.getAttribute('colSpan'), 10);\n                if (colSpan > Math.floor(hiddenLeft / colWidth)) {\n                    currentCell = cell;\n                    break;\n                }\n                tdLeft += cell.offsetWidth;\n            }\n            if (!isNullOrUndefined(currentCell)) {\n                currentCell.children[0].style[isRtl ? 'right' : 'left'] = (hiddenLeft - tdLeft) + 'px';\n            }\n        };\n        var classNames = ['.e-header-year-cell', '.e-header-month-cell', '.e-header-week-cell', '.e-header-cells'];\n        for (var _i = 0, classNames_1 = classNames; _i < classNames_1.length; _i++) {\n            var className = classNames_1[_i];\n            var headerCells = [].slice.call(this.element.querySelectorAll(className));\n            if (headerCells.length > 0) {\n                for (var _a = 0, headerCells_1 = headerCells; _a < headerCells_1.length; _a++) {\n                    var element = headerCells_1[_a];\n                    element.children[0].style[this.parent.enableRtl ? 'right' : 'left'] = '';\n                }\n                applyLeft(headerCells, this.parent.enableRtl);\n            }\n        }\n    };\n    ViewBase.prototype.addAttributes = function (td, element) {\n        if (td.template) {\n            append(td.template, element);\n        }\n        if (td.colSpan) {\n            element.setAttribute('colspan', td.colSpan.toString());\n        }\n        if (td.className) {\n            addClass([element], td.className);\n        }\n    };\n    ViewBase.prototype.getHeaderBarHeight = function () {\n        var headerBarHeight = 2;\n        if (this.parent.headerModule) {\n            headerBarHeight += util.getOuterHeight(this.parent.headerModule.getHeaderElement());\n        }\n        if (this.parent.uiStateValues.isGroupAdaptive) {\n            var resHeader = this.parent.element.querySelector('.' + cls.RESOURCE_HEADER_TOOLBAR);\n            if (resHeader) {\n                headerBarHeight += resHeader.offsetHeight;\n            }\n        }\n        return headerBarHeight;\n    };\n    ViewBase.prototype.renderPanel = function (type) {\n        if (type === cls.PREVIOUS_PANEL_CLASS) {\n            prepend([this.element], this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS));\n        }\n        else {\n            this.parent.element.querySelector('.' + cls.TABLE_CONTAINER_CLASS).appendChild(this.element);\n        }\n    };\n    ViewBase.prototype.setPanel = function (panel) {\n        this.element = panel;\n    };\n    ViewBase.prototype.getPanel = function () {\n        return this.element;\n    };\n    ViewBase.prototype.getDatesHeaderElement = function () {\n        return this.element.querySelector('.' + cls.DATE_HEADER_CONTAINER_CLASS);\n    };\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    ViewBase.prototype.getDateSlots = function (renderDates, workDays) {\n        return []; // Here getDateSlots only need in vertical and month views\n    };\n    ViewBase.prototype.generateColumnLevels = function () {\n        return []; // Here generateColumnLevels only need in vertical and month views\n    };\n    ViewBase.prototype.getColumnLevels = function () {\n        return this.colLevels;\n    };\n    ViewBase.prototype.highlightCurrentTime = function () {\n        // Here showTimeIndicator functionalities\n    };\n    ViewBase.prototype.startDate = function () {\n        return this.renderDates[0];\n    };\n    ViewBase.prototype.endDate = function () {\n        return util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n    };\n    ViewBase.prototype.getStartHour = function () {\n        var startHour = this.parent.getStartEndTime(this.parent.activeViewOptions.startHour);\n        if (isNullOrUndefined(startHour)) {\n            startHour = new Date(2000, 0, 0, 0);\n        }\n        return startHour;\n    };\n    ViewBase.prototype.getEndHour = function () {\n        var endHour = this.parent.getStartEndTime(this.parent.activeViewOptions.endHour);\n        if (isNullOrUndefined(endHour)) {\n            endHour = new Date(2000, 0, 0, 0);\n        }\n        return endHour;\n    };\n    ViewBase.prototype.isCurrentDate = function (date) {\n        return date.setHours(0, 0, 0, 0) === this.parent.getCurrentTime().setHours(0, 0, 0, 0);\n    };\n    ViewBase.prototype.isCurrentMonth = function (date) {\n        if (this.parent.activeViewOptions.displayDate || this.parent.activeViewOptions.numberOfWeeks > 0) {\n            return this.parent.activeView.getStartDate().getTime() <= this.parent.getCurrentTime().getTime() &&\n                this.parent.activeView.getEndDate().getTime() >= this.parent.getCurrentTime().getTime();\n        }\n        return date.getFullYear() ===\n            this.parent.getCurrentTime().getFullYear() && date.getMonth() === this.parent.getCurrentTime().getMonth();\n    };\n    ViewBase.prototype.isWorkDay = function (date, workDays) {\n        if (workDays === void 0) { workDays = this.parent.activeViewOptions.workDays; }\n        if (workDays.indexOf(date.getDay()) >= 0) {\n            return true;\n        }\n        return false;\n    };\n    ViewBase.prototype.isWorkHour = function (date, startHour, endHour, workDays) {\n        if (isNullOrUndefined(startHour) || isNullOrUndefined(endHour)) {\n            return false;\n        }\n        startHour.setMilliseconds(0);\n        endHour.setMilliseconds(0);\n        return !(util.getDateInMs(date) < util.getDateInMs(startHour) || util.getDateInMs(date) >= util.getDateInMs(endHour) ||\n            !this.isWorkDay(date, workDays));\n    };\n    ViewBase.prototype.getRenderDates = function (workDays) {\n        var renderDates = [];\n        // Due to same code for vertical and time line, week & work week views, if condition has used\n        if (this.parent.currentView === 'Week' || this.parent.currentView === 'TimelineWeek') {\n            var selectedDate = util.resetTime(this.parent.selectedDate);\n            var start = util.getWeekFirstDate(selectedDate, this.parent.activeViewOptions.firstDayOfWeek);\n            for (var i = 0, length_1 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_1; i++) {\n                if (this.parent.activeViewOptions.showWeekend) {\n                    renderDates.push(start);\n                }\n                else {\n                    if (this.isWorkDay(start, workDays)) {\n                        renderDates.push(start);\n                    }\n                }\n                start = util.addDays(start, 1);\n            }\n        }\n        else if (this.parent.currentView === 'WorkWeek' || this.parent.currentView === 'TimelineWorkWeek') {\n            var start = util.getWeekFirstDate(util.resetTime(this.parent.selectedDate), this.parent.activeViewOptions.firstDayOfWeek);\n            for (var i = 0, length_2 = util.WEEK_LENGTH * this.parent.activeViewOptions.interval; i < length_2; i++) {\n                if (this.isWorkDay(start, workDays)) {\n                    renderDates.push(start);\n                }\n                start = util.addDays(start, 1);\n            }\n        }\n        else {\n            var dayCount = this.parent.currentView === 'Agenda' ? this.parent.agendaDaysCount :\n                this.parent.activeViewOptions.interval;\n            var start = util.resetTime(this.parent.selectedDate);\n            do {\n                if (this.parent.activeViewOptions.showWeekend) {\n                    renderDates.push(start);\n                }\n                else {\n                    if (this.isWorkDay(start, workDays)) {\n                        renderDates.push(start);\n                    }\n                }\n                start = util.addDays(start, 1);\n            } while (dayCount !== renderDates.length);\n        }\n        if (!workDays) {\n            this.renderDates = renderDates;\n        }\n        if (this.parent.headerModule) {\n            this.parent.headerModule.previousNextIconHandler();\n        }\n        return renderDates;\n    };\n    ViewBase.prototype.getNextPreviousDate = function (type) {\n        if (this.parent.currentView === 'Day' || this.parent.currentView === 'TimelineDay') {\n            if (this.parent.activeViewOptions.showWeekend) {\n                var daysCount = this.parent.activeViewOptions.interval;\n                return util.addDays(this.parent.selectedDate, type === 'next' ? daysCount : -daysCount);\n            }\n            else {\n                var date = void 0;\n                if (type === 'next') {\n                    date = util.addDays(this.renderDates.slice(-1)[0], 1);\n                    while (!this.isWorkDay(date)) {\n                        date = util.addDays(date, 1);\n                    }\n                }\n                else {\n                    date = util.addDays(this.renderDates[0], -1);\n                    var count = 0;\n                    do {\n                        if (this.isWorkDay(date)) {\n                            count += 1;\n                        }\n                        if (this.parent.activeViewOptions.interval !== count) {\n                            date = util.addDays(date, -1);\n                        }\n                    } while (this.parent.activeViewOptions.interval !== count);\n                }\n                return date;\n            }\n        }\n        var weekLength = type === 'next' ? util.WEEK_LENGTH : -util.WEEK_LENGTH;\n        return util.addDays(this.parent.selectedDate, weekLength * this.parent.activeViewOptions.interval);\n    };\n    ViewBase.prototype.getLabelText = function (view) {\n        var viewStr = view.charAt(0).toLowerCase() + view.substring(1);\n        return this.parent.localeObj.getConstant(viewStr) + ' of ' + util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { skeleton: 'long', calendar: this.parent.getCalendarMode() }), 'single');\n    };\n    ViewBase.prototype.getDateRangeText = function () {\n        if (this.parent.isAdaptive) {\n            var formatDate = (this.parent.activeViewOptions.dateFormat) ? this.parent.activeViewOptions.dateFormat : 'MMMM y';\n            return util.capitalizeFirstWord(this.parent.globalize.formatDate(this.parent.selectedDate, { format: formatDate, calendar: this.parent.getCalendarMode() }), 'single');\n        }\n        return this.formatDateRange(this.renderDates[0], this.renderDates[this.renderDates.length - 1]);\n    };\n    ViewBase.prototype.formatDateRange = function (startDate, endDate) {\n        var globalize = this.parent.globalize;\n        var mode = this.parent.getCalendarMode();\n        if (startDate === endDate) {\n            endDate = null;\n        }\n        if (!isNullOrUndefined(this.parent.activeViewOptions.dateFormat)) {\n            var text = '';\n            if (!endDate) {\n                text = globalize.formatDate(startDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode });\n                return util.capitalizeFirstWord(text, 'multiple');\n            }\n            text = (globalize.formatDate(startDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode }) +\n                ' - ' + globalize.formatDate(endDate, { format: this.parent.activeViewOptions.dateFormat, calendar: mode }));\n            return util.capitalizeFirstWord(text, 'multiple');\n        }\n        var formattedStr;\n        var longDateFormat;\n        if (this.parent.locale === 'en' || this.parent.locale === 'en-US') {\n            longDateFormat = getValue('dateFormats.long', getDefaultDateObject(mode));\n        }\n        else {\n            longDateFormat = getValue('main.' + '' + this.parent.locale + '.dates.calendars.' + mode + '.dateFormats.long', cldrData);\n        }\n        if (!endDate) {\n            return util.capitalizeFirstWord(globalize.formatDate(startDate, { format: longDateFormat, calendar: mode }), 'single');\n        }\n        var dateFormat = longDateFormat.trim().toLocaleLowerCase();\n        if (dateFormat.substr(0, 1) === 'd') {\n            if (startDate.getFullYear() === endDate.getFullYear()) {\n                if (startDate.getMonth() === endDate.getMonth()) {\n                    formattedStr = globalize.formatDate(startDate, { format: 'dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd MMMM yyyy', calendar: mode });\n                }\n                else {\n                    formattedStr = globalize.formatDate(startDate, { format: 'dd MMM', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd MMM yyyy', calendar: mode });\n                }\n            }\n            else {\n                formattedStr = globalize.formatDate(startDate, { format: 'dd MMM yyyy', calendar: mode }) + ' - ' +\n                    globalize.formatDate(endDate, { format: 'dd MMM yyyy', calendar: mode });\n            }\n        }\n        else if (dateFormat.substr(0, 1) === 'm') {\n            if (startDate.getFullYear() === endDate.getFullYear()) {\n                if (startDate.getMonth() === endDate.getMonth()) {\n                    formattedStr = globalize.formatDate(startDate, { format: 'MMMM dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'dd, yyyy', calendar: mode });\n                }\n                else {\n                    formattedStr = globalize.formatDate(startDate, { format: 'MMM dd', calendar: mode }) + ' - ' +\n                        globalize.formatDate(endDate, { format: 'MMM dd, yyyy', calendar: mode });\n                }\n            }\n            else {\n                formattedStr = globalize.\n                    formatDate(startDate, { format: 'MMM dd, yyyy', calendar: mode }) + ' - ' +\n                    globalize.formatDate(endDate, { format: 'MMM dd, yyyy', calendar: mode });\n            }\n        }\n        else {\n            formattedStr = globalize.formatDate(startDate, { format: longDateFormat, calendar: mode }) + ' - ' +\n                globalize.formatDate(endDate, { format: longDateFormat, calendar: mode });\n        }\n        return util.capitalizeFirstWord(formattedStr, 'multiple');\n    };\n    ViewBase.prototype.getMobileDateElement = function (date, className) {\n        var wrap = createElement('div', {\n            className: className,\n            innerHTML: '<div class=\"e-m-date\">' + this.parent.globalize.formatDate(date, { format: 'd', calendar: this.parent.getCalendarMode() }) + '</div>' + '<div class=\"e-m-day\">' +\n                util.capitalizeFirstWord(this.parent.globalize.formatDate(date, { format: 'E', calendar: this.parent.getCalendarMode() }), 'single') + '</div>'\n        });\n        return wrap;\n    };\n    ViewBase.prototype.setResourceHeaderContent = function (tdElement, tdData, className) {\n        if (className === void 0) { className = cls.TEXT_ELLIPSIS; }\n        if (this.parent.activeViewOptions.resourceHeaderTemplate) {\n            var data = { resource: tdData.resource, resourceData: tdData.resourceData };\n            var scheduleId = this.parent.element.id + '_';\n            var viewName = this.parent.activeViewOptions.resourceHeaderTemplateName;\n            var templateId = scheduleId + viewName + 'resourceHeaderTemplate';\n            var quickTemplate = [].slice.call(this.parent.getResourceHeaderTemplate()(data, this.parent, 'resourceHeaderTemplate', templateId, false));\n            append(quickTemplate, tdElement);\n        }\n        else {\n            tdElement.appendChild(createElement('div', {\n                className: className, innerHTML: tdData.resourceData[tdData.resource.textField]\n            }));\n        }\n    };\n    ViewBase.prototype.renderResourceMobileLayout = function () {\n        if (this.parent.resourceBase.lastResourceLevel && this.parent.resourceBase.lastResourceLevel.length <= 0) {\n            return;\n        }\n        this.parent.resourceBase.renderResourceHeader();\n        this.parent.resourceBase.renderResourceTree();\n    };\n    ViewBase.prototype.addAutoHeightClass = function (element) {\n        if (!this.parent.uiStateValues.isGroupAdaptive && this.parent.rowAutoHeight && this.isTimelineView()\n            && this.parent.activeViewOptions.group.resources.length > 0) {\n            addClass([element], cls.AUTO_HEIGHT);\n        }\n    };\n    ViewBase.prototype.getColElements = function () {\n        return [].slice.call(this.element.querySelectorAll('.' + cls.CONTENT_WRAP_CLASS + ' col, .' + cls.DATE_HEADER_WRAP_CLASS + ' col'));\n    };\n    ViewBase.prototype.setColWidth = function (content) {\n        if (this.isTimelineView()) {\n            var colElements = this.getColElements();\n            var contentBody = this.element.querySelector('.' + cls.CONTENT_TABLE_CLASS + ' tbody');\n            var colWidth_1 = (contentBody.getBoundingClientRect().width / (colElements.length / 2));\n            colElements.forEach(function (col) { return setStyleAttribute(col, { 'width': formatUnit(colWidth_1) }); });\n            if (content.offsetHeight !== content.clientHeight) {\n                var resourceColumn = this.parent.element.querySelector('.' + cls.RESOURCE_COLUMN_WRAP_CLASS);\n                if (!isNullOrUndefined(resourceColumn)) {\n                    setStyleAttribute(resourceColumn, { 'height': formatUnit(content.clientHeight) });\n                }\n            }\n            var cssClass = \".\" + cls.HEADER_CELLS_CLASS + \",.\" + cls.TIME_SLOT_CLASS + \",.\" + cls.HEADER_WEEK_CELLS_CLASS + \",.\" + cls.HEADER_MONTH_CELLS_CLASS + \",.\" + cls.HEADER_YEAR_CELLS_CLASS;\n            var headerCellElements = [].slice.call(this.element.querySelectorAll(cssClass));\n            headerCellElements.forEach(function (ele) {\n                var colSpan = isNullOrUndefined(ele.getAttribute('colspan')) ? '1' : ele.getAttribute('colspan');\n                var headerCellColSpan = parseInt(colSpan, 10);\n                setStyleAttribute(ele, { 'width': formatUnit(colWidth_1 * headerCellColSpan) });\n            });\n        }\n    };\n    ViewBase.prototype.resetColWidth = function () {\n        var colElements = this.getColElements();\n        for (var _i = 0, colElements_1 = colElements; _i < colElements_1.length; _i++) {\n            var col = colElements_1[_i];\n            col.style.width = '';\n        }\n    };\n    ViewBase.prototype.getContentAreaElement = function () {\n        return this.element.querySelector('.' + cls.CONTENT_WRAP_CLASS);\n    };\n    ViewBase.prototype.wireExpandCollapseIconEvents = function () {\n        if (this.parent.resourceBase && this.parent.resourceBase.resourceCollection.length > 1) {\n            var treeIcons = [].slice.call(this.element.querySelectorAll('.' + cls.RESOURCE_TREE_ICON_CLASS));\n            for (var _i = 0, treeIcons_1 = treeIcons; _i < treeIcons_1.length; _i++) {\n                var icon = treeIcons_1[_i];\n                EventHandler.clearEvents(icon);\n                EventHandler.add(icon, 'click', this.parent.resourceBase.onTreeIconClick, this.parent.resourceBase);\n            }\n        }\n    };\n    ViewBase.prototype.scrollToDate = function (scrollDate) {\n        if (['Month', 'TimelineMonth'].indexOf(this.parent.currentView) === -1 || isNullOrUndefined(scrollDate)) {\n            return;\n        }\n        var scrollWrap = this.getContentAreaElement();\n        var tdDate = new Date(util.resetTime(new Date(+scrollDate)).getTime()).getTime();\n        var dateElement = scrollWrap.querySelector(\".\" + cls.WORK_CELLS_CLASS + \"[data-date=\\\"\" + tdDate + \"\\\"]\");\n        if (this.parent.currentView === 'Month' && dateElement) {\n            scrollWrap.scrollTop = dateElement.offsetTop;\n        }\n        if (this.parent.currentView === 'TimelineMonth' && dateElement) {\n            if (!this.parent.enableRtl) {\n                scrollWrap.scrollLeft = dateElement.offsetLeft;\n            }\n            else {\n                scrollWrap.scrollLeft = -(this.parent.getContentTable().offsetWidth - dateElement.offsetLeft - dateElement.offsetWidth);\n            }\n        }\n    };\n    ViewBase.prototype.setPersistence = function () {\n        if (this.parent.enablePersistence) {\n            var contentWrap = this.element.querySelector('.e-content-wrap');\n            if (!isNullOrUndefined(contentWrap)) {\n                this.parent.scrollLeft = contentWrap.scrollLeft;\n                this.parent.scrollTop = contentWrap.scrollTop;\n            }\n        }\n    };\n    ViewBase.prototype.retainScrollPosition = function () {\n        if (this.parent.enablePersistence) {\n            var conWrap = this.parent.element.querySelector('.e-content-wrap');\n            if (!isNullOrUndefined(conWrap) && !isNullOrUndefined(this.parent.scrollLeft) && !isNullOrUndefined(this.parent.scrollTop)) {\n                conWrap.scrollTop = this.parent.scrollTop;\n                conWrap.scrollLeft = this.parent.scrollLeft;\n            }\n        }\n    };\n    ViewBase.prototype.getViewStartDate = function () {\n        var startDate = this.renderDates[0];\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n            startDate = this.parent.resourceBase.getResourceRenderDates()[0];\n        }\n        return startDate;\n    };\n    ViewBase.prototype.getViewEndDate = function () {\n        var endDate = util.addDays(this.renderDates[this.renderDates.length - 1], 1);\n        if (this.parent.activeViewOptions.group.resources.length > 0 && this.parent.resourceBase.lastResourceLevel.length > 0) {\n            endDate = util.addDays(this.parent.resourceBase.getResourceRenderDates().slice(-1)[0], 1);\n        }\n        return endDate;\n    };\n    ViewBase.prototype.destroy = function () {\n        if (this.element && this.element.parentNode) {\n            remove(this.element);\n        }\n        this.element = null;\n        this.renderDates = null;\n        this.colLevels = null;\n    };\n    return ViewBase;\n}());\nexport { ViewBase };\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,MAAxB,EAAgCC,OAAhC,EAAyCC,iBAAzC,EAA4DC,QAA5D,EAAsEC,oBAAtE,EAA4FC,QAA5F,EAAsGC,QAAtG,EAAgHC,iBAAhH,EAAmIC,UAAnI,EAA+IC,YAA/I,EAA6JC,MAA7J,QAA2K,sBAA3K;AACA,OAAO,KAAKC,GAAZ,MAAqB,sBAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,kBAAvB;AACA,OAAO,KAAKC,IAAZ,MAAsB,cAAtB;AACA;AACA;AACA;;AACA,IAAIC,QAAQ;AAAG;AAAe,YAAY;EACtC;AACJ;AACA;AACA;AACA;EACI,SAASA,QAAT,CAAkBC,MAAlB,EAA0B;IACtB,KAAKA,MAAL,GAAcA,MAAd;EACH;;EACDD,QAAQ,CAACE,SAAT,CAAmBC,cAAnB,GAAoC,YAAY;IAC5C,OAAO,KAAKF,MAAL,CAAYG,WAAZ,CAAwBC,OAAxB,CAAgC,UAAhC,MAAgD,CAAC,CAAxD;EACH,CAFD;;EAGAL,QAAQ,CAACE,SAAT,CAAmBI,cAAnB,GAAoC,YAAY;IAC5C,OAAO,EAAP;EACH,CAFD;;EAGAN,QAAQ,CAACE,SAAT,CAAmBK,aAAnB,GAAmC,YAAY,CAC3C;EACH,CAFD;;EAGAP,QAAQ,CAACE,SAAT,CAAmBM,qBAAnB,GAA2C,YAAY;IACnDZ,MAAM,CAAC,KAAKa,OAAL,CAAaC,aAAb,CAA2B,OAA3B,EAAoCC,gBAApC,CAAqDC,iBAAtD,CAAN;IACA,IAAIC,KAAK,GAAG5B,aAAa,CAAC,IAAD,CAAzB;IACA4B,KAAK,CAACC,WAAN,CAAkB,KAAKb,MAAL,CAAYc,YAAZ,CAAyBC,oBAAzB,EAAlB;IACA7B,OAAO,CAAC,CAAC0B,KAAD,CAAD,EAAU,KAAKJ,OAAL,CAAaC,aAAb,CAA2B,OAA3B,EAAoCC,gBAA9C,CAAP;IACA,KAAKV,MAAL,CAAYgB,MAAZ,CAAmBnB,KAAK,CAACoB,YAAzB,EAAuC,EAAvC;EACH,CAND;;EAOAlB,QAAQ,CAACE,SAAT,CAAmBiB,UAAnB,GAAgC,UAAUC,IAAV,EAAgB;IAC5C,OAAO,KAAKnB,MAAL,CAAYoB,WAAZ,CAAwB,aAAxB,EAAuCD,IAAI,CAACE,MAAL,EAAvC,CAAP;EACH,CAFD;;EAGAtB,QAAQ,CAACE,SAAT,CAAmBqB,OAAnB,GAA6B,UAAUH,IAAV,EAAgB;IACzC,OAAO,KAAKnB,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;MAAEM,MAAM,EAAE,GAAV;MAAeC,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;IAAzB,CAAvC,CAAP;EACH,CAFD;;EAGA5B,QAAQ,CAACE,SAAT,CAAmB2B,OAAnB,GAA6B,UAAUT,IAAV,EAAgB;IACzC,IAAI,KAAKnB,MAAL,CAAY6B,UAAhB,EAA4B;MACxB,IAAI,KAAK7B,MAAL,CAAY8B,iBAAZ,CAA8BC,UAA9B,KAA6C,OAA7C,IAAwD,KAAK/B,MAAL,CAAY8B,iBAAZ,CAA8BC,UAA9B,KAA6C,OAAzG,EAAkH;QAC9G,OAAO,KAAK/B,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;UAAEM,MAAM,EAAE,GAAV;UAAeC,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;QAAzB,CAAvC,CAAP;MACH;;MACD,OAAO,KAAK3B,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;QAAEa,QAAQ,EAAE,GAAZ;QAAiBN,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;MAA3B,CAAvC,CAAP;IACH;;IACD,OAAO,KAAK3B,MAAL,CAAYiC,aAAZ,CAA0Bd,IAA1B,CAAP;EACH,CARD;;EASApB,QAAQ,CAACE,SAAT,CAAmBiC,eAAnB,GAAqC,UAAUf,IAAV,EAAgB;IACjD,IAAIgB,IAAI,GAAG,KAAKnC,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;MAAEa,QAAQ,EAAE,MAAZ;MAAoBN,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;IAA9B,CAAvC,IAAwG,IAAxG,GACP,KAAK3B,MAAL,CAAYoB,WAAZ,CAAwB,MAAxB,EAAgCD,IAAI,CAACE,MAAL,EAAhC,CADJ;IAEA,OAAOvB,IAAI,CAACsC,mBAAL,CAAyBD,IAAzB,EAA+B,UAA/B,CAAP;EACH,CAJD;;EAKApC,QAAQ,CAACE,SAAT,CAAmBoC,gBAAnB,GAAsC,UAAUC,OAAV,EAAmB;IACrD,IAAIC,UAAU,GAAGvD,aAAa,CAAC,KAAD,EAAQ;MAAEwD,SAAS,EAAE5C,GAAG,CAAC6C;IAAjB,CAAR,CAA9B;IACAxD,MAAM,CAAC,KAAKyD,YAAL,CAAkBJ,OAAlB,CAAD,EAA6BC,UAA7B,CAAN;IACA,OAAOA,UAAP;EACH,CAJD;;EAKAxC,QAAQ,CAACE,SAAT,CAAmByC,YAAnB,GAAkC,UAAUJ,OAAV,EAAmB;IACjD,IAAIK,SAAS,GAAG,EAAhB;IACA,IAAIC,cAAJ;;IACA,KAAK,IAAIC,GAAG,GAAG,CAAf,EAAkBA,GAAG,GAAGP,OAAxB,EAAiCO,GAAG,EAApC,EAAwC;MACpCD,cAAc,GAAG5D,aAAa,CAAC,KAAD,EAAQ;QAAEwD,SAAS,EAAE5C,GAAG,CAACkD;MAAjB,CAAR,CAA9B;;MACA,IAAI,KAAK9C,MAAL,CAAYc,YAAZ,IAA4B,CAAC,KAAKd,MAAL,CAAY+C,aAAZ,CAA0BC,eAAvD,IAA0E,KAAKhD,MAAL,CAAYc,YAAZ,CAAyBmC,iBAAvG,EAA0H;QACtHL,cAAc,CAACM,YAAf,CAA4B,kBAA5B,EAAgD,KAAKlD,MAAL,CAAYc,YAAZ,CAAyBmC,iBAAzB,CAA2CJ,GAA3C,EAAgDM,UAAhD,CAA2DC,QAA3D,EAAhD;MACH;;MACDT,SAAS,CAACU,IAAV,CAAeT,cAAf;IACH;;IACD,OAAOD,SAAP;EACH,CAXD;;EAYA5C,QAAQ,CAACE,SAAT,CAAmBqD,YAAnB,GAAkC,UAAUC,IAAV,EAAgB;IAC9C,IAAI,KAAKvD,MAAL,CAAY8B,iBAAZ,CAA8B0B,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAvD,IAA4D,CAAC,KAAK1D,MAAL,CAAY+C,aAAZ,CAA0BC,eAA3F,EAA4G;MACxG,KAAKhD,MAAL,CAAYc,YAAZ,CAAyB6C,gBAAzB,CAA0CJ,IAAI,CAAC9C,aAAL,CAAmB,OAAnB,CAA1C;MACA,KAAKT,MAAL,CAAYc,YAAZ,CAAyB6C,gBAAzB,CAA0CJ,IAAI,CAAC9C,aAAL,CAAmB,MAAMb,GAAG,CAAC6C,iBAA7B,CAA1C;IACH;EACJ,CALD;;EAMA1C,QAAQ,CAACE,SAAT,CAAmB2D,iBAAnB,GAAuC,UAAUpB,SAAV,EAAqB;IACxD,IAAIqB,OAAO,GAAGrB,SAAS,IAAI,EAA3B;IACA,IAAIsB,KAAK,GAAG9E,aAAa,CAAC,OAAD,EAAU;MAAEwD,SAAS,EAAE5C,GAAG,CAACmE,oBAAJ,GAA2B,GAA3B,GAAiCF,OAA9C;MAAuDG,KAAK,EAAE;QAAEC,IAAI,EAAE;MAAR;IAA9D,CAAV,CAAzB;IACA,IAAIC,KAAK,GAAGlF,aAAa,CAAC,OAAD,CAAzB;IACA8E,KAAK,CAACjD,WAAN,CAAkBqD,KAAlB;IACA,OAAOJ,KAAP;EACH,CAND;;EAOA/D,QAAQ,CAACE,SAAT,CAAmBkE,cAAnB,GAAoC,UAAUL,KAAV,EAAiBM,OAAjB,EAA0B;IAC1D,IAAIV,MAAM,GAAGU,OAAO,CAACV,MAArB;;IACA,IAAIU,OAAO,CAAC,CAAD,CAAP,IAAcA,OAAO,CAAC,CAAD,CAAP,CAAWC,OAA7B,EAAsC;MAClCX,MAAM,GAAGU,OAAO,CAACE,GAAR,CAAY,UAAUC,KAAV,EAAiB;QAAE,OAAOA,KAAK,CAACF,OAAb;MAAuB,CAAtD,EAAwDG,MAAxD,CAA+D,UAAUC,IAAV,EAAgBC,IAAhB,EAAsB;QAAE,OAAOD,IAAI,GAAGC,IAAd;MAAqB,CAA5G,CAAT;IACH;;IACD,IAAIC,WAAW,GAAG3F,aAAa,CAAC,UAAD,CAA/B;;IACA,KAAK,IAAI4F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGlB,MAApB,EAA4BkB,CAAC,EAA7B,EAAiC;MAC7BD,WAAW,CAAC9D,WAAZ,CAAwB7B,aAAa,CAAC,KAAD,CAArC;IACH;;IACDE,OAAO,CAAC,CAACyF,WAAD,CAAD,EAAgBb,KAAhB,CAAP;EACH,CAVD;;EAWA/D,QAAQ,CAACE,SAAT,CAAmB4E,gBAAnB,GAAsC,UAAUC,OAAV,EAAmB;IACrD,OAAOA,OAAO,CAACC,YAAR,GAAuBD,OAAO,CAACE,YAA/B,GAA8C,CAA9C,GAAkDlF,IAAI,CAACmF,iBAAL,EAAlD,GAA6E,CAApF;EACH,CAFD;;EAGAlF,QAAQ,CAACE,SAAT,CAAmBiF,cAAnB,GAAoC,UAAUC,MAAV,EAAkB;IAClD,KAAKC,qBAAL,GAA6BzE,iBAA7B,CAA+C0E,UAA/C,GAA4DF,MAAM,CAACE,UAAnE;EACH,CAFD;;EAGAtF,QAAQ,CAACE,SAAT,CAAmBqF,kBAAnB,GAAwC,UAAUH,MAAV,EAAkB;IACtD,IAAII,WAAW,GAAG,KAAK/E,OAAL,CAAaC,aAAb,CAA2B,2BAA3B,CAAlB;IACA,IAAI+E,QAAQ,GAAGD,WAAW,CAACE,WAAZ,GAA0BF,WAAW,CAACG,gBAAZ,CAA6B,cAA7B,EAA6ChC,MAAtF;;IACA,IAAIiC,SAAS,GAAG,UAAUC,WAAV,EAAuBC,KAAvB,EAA8B;MAC1C,IAAIC,WAAJ;MACA,IAAIC,MAAM,GAAG,CAAb;MACA,IAAI1B,OAAO,GAAG,CAAd;MACA,IAAI2B,UAAU,GAAGH,KAAK,GAAG,CAAEV,MAAM,CAACE,UAAZ,GAA0BF,MAAM,CAACE,UAAvD;;MACA,KAAK,IAAIY,EAAE,GAAG,CAAT,EAAYC,aAAa,GAAGN,WAAjC,EAA8CK,EAAE,GAAGC,aAAa,CAACxC,MAAjE,EAAyEuC,EAAE,EAA3E,EAA+E;QAC3E,IAAIE,IAAI,GAAGD,aAAa,CAACD,EAAD,CAAxB;QACA5B,OAAO,IAAI+B,QAAQ,CAACD,IAAI,CAACE,YAAL,CAAkB,SAAlB,CAAD,EAA+B,EAA/B,CAAnB;;QACA,IAAIhC,OAAO,GAAGiC,IAAI,CAACC,KAAL,CAAWP,UAAU,GAAGR,QAAxB,CAAd,EAAiD;UAC7CM,WAAW,GAAGK,IAAd;UACA;QACH;;QACDJ,MAAM,IAAII,IAAI,CAACV,WAAf;MACH;;MACD,IAAI,CAACtG,iBAAiB,CAAC2G,WAAD,CAAtB,EAAqC;QACjCA,WAAW,CAACU,QAAZ,CAAqB,CAArB,EAAwBC,KAAxB,CAA8BZ,KAAK,GAAG,OAAH,GAAa,MAAhD,IAA2DG,UAAU,GAAGD,MAAd,GAAwB,IAAlF;MACH;IACJ,CAjBD;;IAkBA,IAAIW,UAAU,GAAG,CAAC,qBAAD,EAAwB,sBAAxB,EAAgD,qBAAhD,EAAuE,iBAAvE,CAAjB;;IACA,KAAK,IAAIT,EAAE,GAAG,CAAT,EAAYU,YAAY,GAAGD,UAAhC,EAA4CT,EAAE,GAAGU,YAAY,CAACjD,MAA9D,EAAsEuC,EAAE,EAAxE,EAA4E;MACxE,IAAIzD,SAAS,GAAGmE,YAAY,CAACV,EAAD,CAA5B;MACA,IAAIL,WAAW,GAAG,GAAGgB,KAAH,CAASC,IAAT,CAAc,KAAKrG,OAAL,CAAakF,gBAAb,CAA8BlD,SAA9B,CAAd,CAAlB;;MACA,IAAIoD,WAAW,CAAClC,MAAZ,GAAqB,CAAzB,EAA4B;QACxB,KAAK,IAAIoD,EAAE,GAAG,CAAT,EAAYC,aAAa,GAAGnB,WAAjC,EAA8CkB,EAAE,GAAGC,aAAa,CAACrD,MAAjE,EAAyEoD,EAAE,EAA3E,EAA+E;UAC3E,IAAItG,OAAO,GAAGuG,aAAa,CAACD,EAAD,CAA3B;UACAtG,OAAO,CAACgG,QAAR,CAAiB,CAAjB,EAAoBC,KAApB,CAA0B,KAAKzG,MAAL,CAAYgH,SAAZ,GAAwB,OAAxB,GAAkC,MAA5D,IAAsE,EAAtE;QACH;;QACDrB,SAAS,CAACC,WAAD,EAAc,KAAK5F,MAAL,CAAYgH,SAA1B,CAAT;MACH;IACJ;EACJ,CAjCD;;EAkCAjH,QAAQ,CAACE,SAAT,CAAmBgH,aAAnB,GAAmC,UAAUC,EAAV,EAAc1G,OAAd,EAAuB;IACtD,IAAI0G,EAAE,CAACC,QAAP,EAAiB;MACblI,MAAM,CAACiI,EAAE,CAACC,QAAJ,EAAc3G,OAAd,CAAN;IACH;;IACD,IAAI0G,EAAE,CAAC7C,OAAP,EAAgB;MACZ7D,OAAO,CAAC0C,YAAR,CAAqB,SAArB,EAAgCgE,EAAE,CAAC7C,OAAH,CAAWjB,QAAX,EAAhC;IACH;;IACD,IAAI8D,EAAE,CAAC1E,SAAP,EAAkB;MACdjD,QAAQ,CAAC,CAACiB,OAAD,CAAD,EAAY0G,EAAE,CAAC1E,SAAf,CAAR;IACH;EACJ,CAVD;;EAWAzC,QAAQ,CAACE,SAAT,CAAmBmH,kBAAnB,GAAwC,YAAY;IAChD,IAAIC,eAAe,GAAG,CAAtB;;IACA,IAAI,KAAKrH,MAAL,CAAYsH,YAAhB,EAA8B;MAC1BD,eAAe,IAAIvH,IAAI,CAACyH,cAAL,CAAoB,KAAKvH,MAAL,CAAYsH,YAAZ,CAAyBE,gBAAzB,EAApB,CAAnB;IACH;;IACD,IAAI,KAAKxH,MAAL,CAAY+C,aAAZ,CAA0BC,eAA9B,EAA+C;MAC3C,IAAIyE,SAAS,GAAG,KAAKzH,MAAL,CAAYQ,OAAZ,CAAoBC,aAApB,CAAkC,MAAMb,GAAG,CAAC8H,uBAA5C,CAAhB;;MACA,IAAID,SAAJ,EAAe;QACXJ,eAAe,IAAII,SAAS,CAAC1C,YAA7B;MACH;IACJ;;IACD,OAAOsC,eAAP;EACH,CAZD;;EAaAtH,QAAQ,CAACE,SAAT,CAAmB0H,WAAnB,GAAiC,UAAUC,IAAV,EAAgB;IAC7C,IAAIA,IAAI,KAAKhI,GAAG,CAACiI,oBAAjB,EAAuC;MACnC3I,OAAO,CAAC,CAAC,KAAKsB,OAAN,CAAD,EAAiB,KAAKR,MAAL,CAAYQ,OAAZ,CAAoBC,aAApB,CAAkC,MAAMb,GAAG,CAACkI,qBAA5C,CAAjB,CAAP;IACH,CAFD,MAGK;MACD,KAAK9H,MAAL,CAAYQ,OAAZ,CAAoBC,aAApB,CAAkC,MAAMb,GAAG,CAACkI,qBAA5C,EAAmEjH,WAAnE,CAA+E,KAAKL,OAApF;IACH;EACJ,CAPD;;EAQAT,QAAQ,CAACE,SAAT,CAAmB8H,QAAnB,GAA8B,UAAUC,KAAV,EAAiB;IAC3C,KAAKxH,OAAL,GAAewH,KAAf;EACH,CAFD;;EAGAjI,QAAQ,CAACE,SAAT,CAAmBgI,QAAnB,GAA8B,YAAY;IACtC,OAAO,KAAKzH,OAAZ;EACH,CAFD;;EAGAT,QAAQ,CAACE,SAAT,CAAmBmF,qBAAnB,GAA2C,YAAY;IACnD,OAAO,KAAK5E,OAAL,CAAaC,aAAb,CAA2B,MAAMb,GAAG,CAACsI,2BAArC,CAAP;EACH,CAFD,CApKsC,CAuKtC;;;EACAnI,QAAQ,CAACE,SAAT,CAAmBkI,YAAnB,GAAkC,UAAUC,WAAV,EAAuBC,QAAvB,EAAiC;IAC/D,OAAO,EAAP,CAD+D,CACpD;EACd,CAFD;;EAGAtI,QAAQ,CAACE,SAAT,CAAmBqI,oBAAnB,GAA0C,YAAY;IAClD,OAAO,EAAP,CADkD,CACvC;EACd,CAFD;;EAGAvI,QAAQ,CAACE,SAAT,CAAmBsI,eAAnB,GAAqC,YAAY;IAC7C,OAAO,KAAKC,SAAZ;EACH,CAFD;;EAGAzI,QAAQ,CAACE,SAAT,CAAmBwI,oBAAnB,GAA0C,YAAY,CAClD;EACH,CAFD;;EAGA1I,QAAQ,CAACE,SAAT,CAAmByI,SAAnB,GAA+B,YAAY;IACvC,OAAO,KAAKN,WAAL,CAAiB,CAAjB,CAAP;EACH,CAFD;;EAGArI,QAAQ,CAACE,SAAT,CAAmB0I,OAAnB,GAA6B,YAAY;IACrC,OAAO7I,IAAI,CAAC8I,OAAL,CAAa,KAAKR,WAAL,CAAiB,KAAKA,WAAL,CAAiB1E,MAAjB,GAA0B,CAA3C,CAAb,EAA4D,CAA5D,CAAP;EACH,CAFD;;EAGA3D,QAAQ,CAACE,SAAT,CAAmB4I,YAAnB,GAAkC,YAAY;IAC1C,IAAIC,SAAS,GAAG,KAAK9I,MAAL,CAAY+I,eAAZ,CAA4B,KAAK/I,MAAL,CAAY8B,iBAAZ,CAA8BgH,SAA1D,CAAhB;;IACA,IAAI3J,iBAAiB,CAAC2J,SAAD,CAArB,EAAkC;MAC9BA,SAAS,GAAG,IAAIE,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAZ;IACH;;IACD,OAAOF,SAAP;EACH,CAND;;EAOA/I,QAAQ,CAACE,SAAT,CAAmBgJ,UAAnB,GAAgC,YAAY;IACxC,IAAIC,OAAO,GAAG,KAAKlJ,MAAL,CAAY+I,eAAZ,CAA4B,KAAK/I,MAAL,CAAY8B,iBAAZ,CAA8BoH,OAA1D,CAAd;;IACA,IAAI/J,iBAAiB,CAAC+J,OAAD,CAArB,EAAgC;MAC5BA,OAAO,GAAG,IAAIF,IAAJ,CAAS,IAAT,EAAe,CAAf,EAAkB,CAAlB,EAAqB,CAArB,CAAV;IACH;;IACD,OAAOE,OAAP;EACH,CAND;;EAOAnJ,QAAQ,CAACE,SAAT,CAAmBkJ,aAAnB,GAAmC,UAAUhI,IAAV,EAAgB;IAC/C,OAAOA,IAAI,CAACiI,QAAL,CAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,MAA8B,KAAKpJ,MAAL,CAAYqJ,cAAZ,GAA6BD,QAA7B,CAAsC,CAAtC,EAAyC,CAAzC,EAA4C,CAA5C,EAA+C,CAA/C,CAArC;EACH,CAFD;;EAGArJ,QAAQ,CAACE,SAAT,CAAmBqJ,cAAnB,GAAoC,UAAUnI,IAAV,EAAgB;IAChD,IAAI,KAAKnB,MAAL,CAAY8B,iBAAZ,CAA8ByH,WAA9B,IAA6C,KAAKvJ,MAAL,CAAY8B,iBAAZ,CAA8B0H,aAA9B,GAA8C,CAA/F,EAAkG;MAC9F,OAAO,KAAKxJ,MAAL,CAAYyJ,UAAZ,CAAuBC,YAAvB,GAAsC9H,OAAtC,MAAmD,KAAK5B,MAAL,CAAYqJ,cAAZ,GAA6BzH,OAA7B,EAAnD,IACH,KAAK5B,MAAL,CAAYyJ,UAAZ,CAAuBE,UAAvB,GAAoC/H,OAApC,MAAiD,KAAK5B,MAAL,CAAYqJ,cAAZ,GAA6BzH,OAA7B,EADrD;IAEH;;IACD,OAAOT,IAAI,CAACyI,WAAL,OACH,KAAK5J,MAAL,CAAYqJ,cAAZ,GAA6BO,WAA7B,EADG,IAC2CzI,IAAI,CAAC0I,QAAL,OAAoB,KAAK7J,MAAL,CAAYqJ,cAAZ,GAA6BQ,QAA7B,EADtE;EAEH,CAPD;;EAQA9J,QAAQ,CAACE,SAAT,CAAmB6J,SAAnB,GAA+B,UAAU3I,IAAV,EAAgBkH,QAAhB,EAA0B;IACrD,IAAIA,QAAQ,KAAK,KAAK,CAAtB,EAAyB;MAAEA,QAAQ,GAAG,KAAKrI,MAAL,CAAY8B,iBAAZ,CAA8BuG,QAAzC;IAAoD;;IAC/E,IAAIA,QAAQ,CAACjI,OAAT,CAAiBe,IAAI,CAACE,MAAL,EAAjB,KAAmC,CAAvC,EAA0C;MACtC,OAAO,IAAP;IACH;;IACD,OAAO,KAAP;EACH,CAND;;EAOAtB,QAAQ,CAACE,SAAT,CAAmB8J,UAAnB,GAAgC,UAAU5I,IAAV,EAAgB2H,SAAhB,EAA2BI,OAA3B,EAAoCb,QAApC,EAA8C;IAC1E,IAAIlJ,iBAAiB,CAAC2J,SAAD,CAAjB,IAAgC3J,iBAAiB,CAAC+J,OAAD,CAArD,EAAgE;MAC5D,OAAO,KAAP;IACH;;IACDJ,SAAS,CAACkB,eAAV,CAA0B,CAA1B;IACAd,OAAO,CAACc,eAAR,CAAwB,CAAxB;IACA,OAAO,EAAElK,IAAI,CAACmK,WAAL,CAAiB9I,IAAjB,IAAyBrB,IAAI,CAACmK,WAAL,CAAiBnB,SAAjB,CAAzB,IAAwDhJ,IAAI,CAACmK,WAAL,CAAiB9I,IAAjB,KAA0BrB,IAAI,CAACmK,WAAL,CAAiBf,OAAjB,CAAlF,IACL,CAAC,KAAKY,SAAL,CAAe3I,IAAf,EAAqBkH,QAArB,CADE,CAAP;EAEH,CARD;;EASAtI,QAAQ,CAACE,SAAT,CAAmBiK,cAAnB,GAAoC,UAAU7B,QAAV,EAAoB;IACpD,IAAID,WAAW,GAAG,EAAlB,CADoD,CAEpD;;IACA,IAAI,KAAKpI,MAAL,CAAYG,WAAZ,KAA4B,MAA5B,IAAsC,KAAKH,MAAL,CAAYG,WAAZ,KAA4B,cAAtE,EAAsF;MAClF,IAAIgK,YAAY,GAAGrK,IAAI,CAACsK,SAAL,CAAe,KAAKpK,MAAL,CAAYmK,YAA3B,CAAnB;MACA,IAAIE,KAAK,GAAGvK,IAAI,CAACwK,gBAAL,CAAsBH,YAAtB,EAAoC,KAAKnK,MAAL,CAAY8B,iBAAZ,CAA8ByI,cAAlE,CAAZ;;MACA,KAAK,IAAI3F,CAAC,GAAG,CAAR,EAAW4F,QAAQ,GAAG1K,IAAI,CAAC2K,WAAL,GAAmB,KAAKzK,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAA5E,EAAsF9F,CAAC,GAAG4F,QAA1F,EAAoG5F,CAAC,EAArG,EAAyG;QACrG,IAAI,KAAK5E,MAAL,CAAY8B,iBAAZ,CAA8B6I,WAAlC,EAA+C;UAC3CvC,WAAW,CAAC/E,IAAZ,CAAiBgH,KAAjB;QACH,CAFD,MAGK;UACD,IAAI,KAAKP,SAAL,CAAeO,KAAf,EAAsBhC,QAAtB,CAAJ,EAAqC;YACjCD,WAAW,CAAC/E,IAAZ,CAAiBgH,KAAjB;UACH;QACJ;;QACDA,KAAK,GAAGvK,IAAI,CAAC8I,OAAL,CAAayB,KAAb,EAAoB,CAApB,CAAR;MACH;IACJ,CAdD,MAeK,IAAI,KAAKrK,MAAL,CAAYG,WAAZ,KAA4B,UAA5B,IAA0C,KAAKH,MAAL,CAAYG,WAAZ,KAA4B,kBAA1E,EAA8F;MAC/F,IAAIkK,KAAK,GAAGvK,IAAI,CAACwK,gBAAL,CAAsBxK,IAAI,CAACsK,SAAL,CAAe,KAAKpK,MAAL,CAAYmK,YAA3B,CAAtB,EAAgE,KAAKnK,MAAL,CAAY8B,iBAAZ,CAA8ByI,cAA9F,CAAZ;;MACA,KAAK,IAAI3F,CAAC,GAAG,CAAR,EAAWgG,QAAQ,GAAG9K,IAAI,CAAC2K,WAAL,GAAmB,KAAKzK,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAA5E,EAAsF9F,CAAC,GAAGgG,QAA1F,EAAoGhG,CAAC,EAArG,EAAyG;QACrG,IAAI,KAAKkF,SAAL,CAAeO,KAAf,EAAsBhC,QAAtB,CAAJ,EAAqC;UACjCD,WAAW,CAAC/E,IAAZ,CAAiBgH,KAAjB;QACH;;QACDA,KAAK,GAAGvK,IAAI,CAAC8I,OAAL,CAAayB,KAAb,EAAoB,CAApB,CAAR;MACH;IACJ,CARI,MASA;MACD,IAAIQ,QAAQ,GAAG,KAAK7K,MAAL,CAAYG,WAAZ,KAA4B,QAA5B,GAAuC,KAAKH,MAAL,CAAY8K,eAAnD,GACX,KAAK9K,MAAL,CAAY8B,iBAAZ,CAA8B4I,QADlC;MAEA,IAAIL,KAAK,GAAGvK,IAAI,CAACsK,SAAL,CAAe,KAAKpK,MAAL,CAAYmK,YAA3B,CAAZ;;MACA,GAAG;QACC,IAAI,KAAKnK,MAAL,CAAY8B,iBAAZ,CAA8B6I,WAAlC,EAA+C;UAC3CvC,WAAW,CAAC/E,IAAZ,CAAiBgH,KAAjB;QACH,CAFD,MAGK;UACD,IAAI,KAAKP,SAAL,CAAeO,KAAf,EAAsBhC,QAAtB,CAAJ,EAAqC;YACjCD,WAAW,CAAC/E,IAAZ,CAAiBgH,KAAjB;UACH;QACJ;;QACDA,KAAK,GAAGvK,IAAI,CAAC8I,OAAL,CAAayB,KAAb,EAAoB,CAApB,CAAR;MACH,CAVD,QAUSQ,QAAQ,KAAKzC,WAAW,CAAC1E,MAVlC;IAWH;;IACD,IAAI,CAAC2E,QAAL,EAAe;MACX,KAAKD,WAAL,GAAmBA,WAAnB;IACH;;IACD,IAAI,KAAKpI,MAAL,CAAYsH,YAAhB,EAA8B;MAC1B,KAAKtH,MAAL,CAAYsH,YAAZ,CAAyByD,uBAAzB;IACH;;IACD,OAAO3C,WAAP;EACH,CAlDD;;EAmDArI,QAAQ,CAACE,SAAT,CAAmB+K,mBAAnB,GAAyC,UAAUpD,IAAV,EAAgB;IACrD,IAAI,KAAK5H,MAAL,CAAYG,WAAZ,KAA4B,KAA5B,IAAqC,KAAKH,MAAL,CAAYG,WAAZ,KAA4B,aAArE,EAAoF;MAChF,IAAI,KAAKH,MAAL,CAAY8B,iBAAZ,CAA8B6I,WAAlC,EAA+C;QAC3C,IAAIM,SAAS,GAAG,KAAKjL,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAA9C;QACA,OAAO5K,IAAI,CAAC8I,OAAL,CAAa,KAAK5I,MAAL,CAAYmK,YAAzB,EAAuCvC,IAAI,KAAK,MAAT,GAAkBqD,SAAlB,GAA8B,CAACA,SAAtE,CAAP;MACH,CAHD,MAIK;QACD,IAAI9J,IAAI,GAAG,KAAK,CAAhB;;QACA,IAAIyG,IAAI,KAAK,MAAb,EAAqB;UACjBzG,IAAI,GAAGrB,IAAI,CAAC8I,OAAL,CAAa,KAAKR,WAAL,CAAiBxB,KAAjB,CAAuB,CAAC,CAAxB,EAA2B,CAA3B,CAAb,EAA4C,CAA5C,CAAP;;UACA,OAAO,CAAC,KAAKkD,SAAL,CAAe3I,IAAf,CAAR,EAA8B;YAC1BA,IAAI,GAAGrB,IAAI,CAAC8I,OAAL,CAAazH,IAAb,EAAmB,CAAnB,CAAP;UACH;QACJ,CALD,MAMK;UACDA,IAAI,GAAGrB,IAAI,CAAC8I,OAAL,CAAa,KAAKR,WAAL,CAAiB,CAAjB,CAAb,EAAkC,CAAC,CAAnC,CAAP;UACA,IAAI8C,KAAK,GAAG,CAAZ;;UACA,GAAG;YACC,IAAI,KAAKpB,SAAL,CAAe3I,IAAf,CAAJ,EAA0B;cACtB+J,KAAK,IAAI,CAAT;YACH;;YACD,IAAI,KAAKlL,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAA9B,KAA2CQ,KAA/C,EAAsD;cAClD/J,IAAI,GAAGrB,IAAI,CAAC8I,OAAL,CAAazH,IAAb,EAAmB,CAAC,CAApB,CAAP;YACH;UACJ,CAPD,QAOS,KAAKnB,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAA9B,KAA2CQ,KAPpD;QAQH;;QACD,OAAO/J,IAAP;MACH;IACJ;;IACD,IAAIgK,UAAU,GAAGvD,IAAI,KAAK,MAAT,GAAkB9H,IAAI,CAAC2K,WAAvB,GAAqC,CAAC3K,IAAI,CAAC2K,WAA5D;IACA,OAAO3K,IAAI,CAAC8I,OAAL,CAAa,KAAK5I,MAAL,CAAYmK,YAAzB,EAAuCgB,UAAU,GAAG,KAAKnL,MAAL,CAAY8B,iBAAZ,CAA8B4I,QAAlF,CAAP;EACH,CA/BD;;EAgCA3K,QAAQ,CAACE,SAAT,CAAmBmL,YAAnB,GAAkC,UAAUC,IAAV,EAAgB;IAC9C,IAAIC,OAAO,GAAGD,IAAI,CAACE,MAAL,CAAY,CAAZ,EAAeC,WAAf,KAA+BH,IAAI,CAACI,SAAL,CAAe,CAAf,CAA7C;IACA,OAAO,KAAKzL,MAAL,CAAY0L,SAAZ,CAAsBC,WAAtB,CAAkCL,OAAlC,IAA6C,MAA7C,GAAsDxL,IAAI,CAACsC,mBAAL,CAAyB,KAAKpC,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiC,KAAKxB,MAAL,CAAYmK,YAA7C,EAA2D;MAAEnI,QAAQ,EAAE,MAAZ;MAAoBN,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;IAA9B,CAA3D,CAAzB,EAAoJ,QAApJ,CAA7D;EACH,CAHD;;EAIA5B,QAAQ,CAACE,SAAT,CAAmB2L,gBAAnB,GAAsC,YAAY;IAC9C,IAAI,KAAK5L,MAAL,CAAY6B,UAAhB,EAA4B;MACxB,IAAIL,UAAU,GAAI,KAAKxB,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAA/B,GAA6C,KAAK7L,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAA3E,GAAwF,QAAzG;MACA,OAAO/L,IAAI,CAACsC,mBAAL,CAAyB,KAAKpC,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiC,KAAKxB,MAAL,CAAYmK,YAA7C,EAA2D;QAAE1I,MAAM,EAAED,UAAV;QAAsBE,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;MAAhC,CAA3D,CAAzB,EAAsJ,QAAtJ,CAAP;IACH;;IACD,OAAO,KAAKmK,eAAL,CAAqB,KAAK1D,WAAL,CAAiB,CAAjB,CAArB,EAA0C,KAAKA,WAAL,CAAiB,KAAKA,WAAL,CAAiB1E,MAAjB,GAA0B,CAA3C,CAA1C,CAAP;EACH,CAND;;EAOA3D,QAAQ,CAACE,SAAT,CAAmB6L,eAAnB,GAAqC,UAAUpD,SAAV,EAAqBC,OAArB,EAA8B;IAC/D,IAAIpH,SAAS,GAAG,KAAKvB,MAAL,CAAYuB,SAA5B;IACA,IAAIwK,IAAI,GAAG,KAAK/L,MAAL,CAAY2B,eAAZ,EAAX;;IACA,IAAI+G,SAAS,KAAKC,OAAlB,EAA2B;MACvBA,OAAO,GAAG,IAAV;IACH;;IACD,IAAI,CAACxJ,iBAAiB,CAAC,KAAKa,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAA/B,CAAtB,EAAkE;MAC9D,IAAI1J,IAAI,GAAG,EAAX;;MACA,IAAI,CAACwG,OAAL,EAAc;QACVxG,IAAI,GAAGZ,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;UAAEjH,MAAM,EAAE,KAAKzB,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAAxC;UAAoDnK,QAAQ,EAAEqK;QAA9D,CAAhC,CAAP;QACA,OAAOjM,IAAI,CAACsC,mBAAL,CAAyBD,IAAzB,EAA+B,UAA/B,CAAP;MACH;;MACDA,IAAI,GAAIZ,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;QAAEjH,MAAM,EAAE,KAAKzB,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAAxC;QAAoDnK,QAAQ,EAAEqK;MAA9D,CAAhC,IACJ,KADI,GACIxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;QAAElH,MAAM,EAAE,KAAKzB,MAAL,CAAY8B,iBAAZ,CAA8B+J,UAAxC;QAAoDnK,QAAQ,EAAEqK;MAA9D,CAA9B,CADZ;MAEA,OAAOjM,IAAI,CAACsC,mBAAL,CAAyBD,IAAzB,EAA+B,UAA/B,CAAP;IACH;;IACD,IAAI6J,YAAJ;IACA,IAAIC,cAAJ;;IACA,IAAI,KAAKjM,MAAL,CAAYkM,MAAZ,KAAuB,IAAvB,IAA+B,KAAKlM,MAAL,CAAYkM,MAAZ,KAAuB,OAA1D,EAAmE;MAC/DD,cAAc,GAAG7M,QAAQ,CAAC,kBAAD,EAAqBC,oBAAoB,CAAC0M,IAAD,CAAzC,CAAzB;IACH,CAFD,MAGK;MACDE,cAAc,GAAG7M,QAAQ,CAAC,UAAU,EAAV,GAAe,KAAKY,MAAL,CAAYkM,MAA3B,GAAoC,mBAApC,GAA0DH,IAA1D,GAAiE,mBAAlE,EAAuFzM,QAAvF,CAAzB;IACH;;IACD,IAAI,CAACqJ,OAAL,EAAc;MACV,OAAO7I,IAAI,CAACsC,mBAAL,CAAyBb,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;QAAEjH,MAAM,EAAEwK,cAAV;QAA0BvK,QAAQ,EAAEqK;MAApC,CAAhC,CAAzB,EAAsG,QAAtG,CAAP;IACH;;IACD,IAAIF,UAAU,GAAGI,cAAc,CAACE,IAAf,GAAsBC,iBAAtB,EAAjB;;IACA,IAAIP,UAAU,CAACQ,MAAX,CAAkB,CAAlB,EAAqB,CAArB,MAA4B,GAAhC,EAAqC;MACjC,IAAI3D,SAAS,CAACkB,WAAV,OAA4BjB,OAAO,CAACiB,WAAR,EAAhC,EAAuD;QACnD,IAAIlB,SAAS,CAACmB,QAAV,OAAyBlB,OAAO,CAACkB,QAAR,EAA7B,EAAiD;UAC7CmC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;YAAEjH,MAAM,EAAE,IAAV;YAAgBC,QAAQ,EAAEqK;UAA1B,CAAhC,IAAoE,KAApE,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;YAAElH,MAAM,EAAE,cAAV;YAA0BC,QAAQ,EAAEqK;UAApC,CAA9B,CADJ;QAEH,CAHD,MAIK;UACDC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;YAAEjH,MAAM,EAAE,QAAV;YAAoBC,QAAQ,EAAEqK;UAA9B,CAAhC,IAAwE,KAAxE,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;YAAElH,MAAM,EAAE,aAAV;YAAyBC,QAAQ,EAAEqK;UAAnC,CAA9B,CADJ;QAEH;MACJ,CATD,MAUK;QACDC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;UAAEjH,MAAM,EAAE,aAAV;UAAyBC,QAAQ,EAAEqK;QAAnC,CAAhC,IAA6E,KAA7E,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;UAAElH,MAAM,EAAE,aAAV;UAAyBC,QAAQ,EAAEqK;QAAnC,CAA9B,CADJ;MAEH;IACJ,CAfD,MAgBK,IAAIF,UAAU,CAACQ,MAAX,CAAkB,CAAlB,EAAqB,CAArB,MAA4B,GAAhC,EAAqC;MACtC,IAAI3D,SAAS,CAACkB,WAAV,OAA4BjB,OAAO,CAACiB,WAAR,EAAhC,EAAuD;QACnD,IAAIlB,SAAS,CAACmB,QAAV,OAAyBlB,OAAO,CAACkB,QAAR,EAA7B,EAAiD;UAC7CmC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;YAAEjH,MAAM,EAAE,SAAV;YAAqBC,QAAQ,EAAEqK;UAA/B,CAAhC,IAAyE,KAAzE,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;YAAElH,MAAM,EAAE,UAAV;YAAsBC,QAAQ,EAAEqK;UAAhC,CAA9B,CADJ;QAEH,CAHD,MAIK;UACDC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;YAAEjH,MAAM,EAAE,QAAV;YAAoBC,QAAQ,EAAEqK;UAA9B,CAAhC,IAAwE,KAAxE,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;YAAElH,MAAM,EAAE,cAAV;YAA0BC,QAAQ,EAAEqK;UAApC,CAA9B,CADJ;QAEH;MACJ,CATD,MAUK;QACDC,YAAY,GAAGzK,SAAS,CACpBC,UADW,CACAkH,SADA,EACW;UAAEjH,MAAM,EAAE,cAAV;UAA0BC,QAAQ,EAAEqK;QAApC,CADX,IACyD,KADzD,GAEXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;UAAElH,MAAM,EAAE,cAAV;UAA0BC,QAAQ,EAAEqK;QAApC,CAA9B,CAFJ;MAGH;IACJ,CAhBI,MAiBA;MACDC,YAAY,GAAGzK,SAAS,CAACC,UAAV,CAAqBkH,SAArB,EAAgC;QAAEjH,MAAM,EAAEwK,cAAV;QAA0BvK,QAAQ,EAAEqK;MAApC,CAAhC,IAA8E,KAA9E,GACXxK,SAAS,CAACC,UAAV,CAAqBmH,OAArB,EAA8B;QAAElH,MAAM,EAAEwK,cAAV;QAA0BvK,QAAQ,EAAEqK;MAApC,CAA9B,CADJ;IAEH;;IACD,OAAOjM,IAAI,CAACsC,mBAAL,CAAyB4J,YAAzB,EAAuC,UAAvC,CAAP;EACH,CAlED;;EAmEAjM,QAAQ,CAACE,SAAT,CAAmBqM,oBAAnB,GAA0C,UAAUnL,IAAV,EAAgBqB,SAAhB,EAA2B;IACjE,IAAIe,IAAI,GAAGvE,aAAa,CAAC,KAAD,EAAQ;MAC5BwD,SAAS,EAAEA,SADiB;MAE5B+J,SAAS,EAAE,2BAA2B,KAAKvM,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;QAAEM,MAAM,EAAE,GAAV;QAAeC,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;MAAzB,CAAvC,CAA3B,GAA8H,QAA9H,GAAyI,uBAAzI,GACP7B,IAAI,CAACsC,mBAAL,CAAyB,KAAKpC,MAAL,CAAYuB,SAAZ,CAAsBC,UAAtB,CAAiCL,IAAjC,EAAuC;QAAEM,MAAM,EAAE,GAAV;QAAeC,QAAQ,EAAE,KAAK1B,MAAL,CAAY2B,eAAZ;MAAzB,CAAvC,CAAzB,EAA2H,QAA3H,CADO,GACgI;IAH/G,CAAR,CAAxB;IAKA,OAAO4B,IAAP;EACH,CAPD;;EAQAxD,QAAQ,CAACE,SAAT,CAAmBuM,wBAAnB,GAA8C,UAAUC,SAAV,EAAqBC,MAArB,EAA6BlK,SAA7B,EAAwC;IAClF,IAAIA,SAAS,KAAK,KAAK,CAAvB,EAA0B;MAAEA,SAAS,GAAG5C,GAAG,CAAC+M,aAAhB;IAAgC;;IAC5D,IAAI,KAAK3M,MAAL,CAAY8B,iBAAZ,CAA8B8K,sBAAlC,EAA0D;MACtD,IAAIC,IAAI,GAAG;QAAEC,QAAQ,EAAEJ,MAAM,CAACI,QAAnB;QAA6BC,YAAY,EAAEL,MAAM,CAACK;MAAlD,CAAX;MACA,IAAIC,UAAU,GAAG,KAAKhN,MAAL,CAAYQ,OAAZ,CAAoByM,EAApB,GAAyB,GAA1C;MACA,IAAIC,QAAQ,GAAG,KAAKlN,MAAL,CAAY8B,iBAAZ,CAA8BqL,0BAA7C;MACA,IAAIC,UAAU,GAAGJ,UAAU,GAAGE,QAAb,GAAwB,wBAAzC;MACA,IAAIG,aAAa,GAAG,GAAGzG,KAAH,CAASC,IAAT,CAAc,KAAK7G,MAAL,CAAYsN,yBAAZ,GAAwCT,IAAxC,EAA8C,KAAK7M,MAAnD,EAA2D,wBAA3D,EAAqFoN,UAArF,EAAiG,KAAjG,CAAd,CAApB;MACAnO,MAAM,CAACoO,aAAD,EAAgBZ,SAAhB,CAAN;IACH,CAPD,MAQK;MACDA,SAAS,CAAC5L,WAAV,CAAsB7B,aAAa,CAAC,KAAD,EAAQ;QACvCwD,SAAS,EAAEA,SAD4B;QACjB+J,SAAS,EAAEG,MAAM,CAACK,YAAP,CAAoBL,MAAM,CAACI,QAAP,CAAgBS,SAApC;MADM,CAAR,CAAnC;IAGH;EACJ,CAfD;;EAgBAxN,QAAQ,CAACE,SAAT,CAAmBuN,0BAAnB,GAAgD,YAAY;IACxD,IAAI,KAAKxN,MAAL,CAAYc,YAAZ,CAAyB2M,iBAAzB,IAA8C,KAAKzN,MAAL,CAAYc,YAAZ,CAAyB2M,iBAAzB,CAA2C/J,MAA3C,IAAqD,CAAvG,EAA0G;MACtG;IACH;;IACD,KAAK1D,MAAL,CAAYc,YAAZ,CAAyB4M,oBAAzB;IACA,KAAK1N,MAAL,CAAYc,YAAZ,CAAyB6M,kBAAzB;EACH,CAND;;EAOA5N,QAAQ,CAACE,SAAT,CAAmB2N,kBAAnB,GAAwC,UAAUpN,OAAV,EAAmB;IACvD,IAAI,CAAC,KAAKR,MAAL,CAAY+C,aAAZ,CAA0BC,eAA3B,IAA8C,KAAKhD,MAAL,CAAY6N,aAA1D,IAA2E,KAAK3N,cAAL,EAA3E,IACG,KAAKF,MAAL,CAAY8B,iBAAZ,CAA8B0B,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAD9D,EACiE;MAC7DnE,QAAQ,CAAC,CAACiB,OAAD,CAAD,EAAYZ,GAAG,CAACkO,WAAhB,CAAR;IACH;EACJ,CALD;;EAMA/N,QAAQ,CAACE,SAAT,CAAmB8N,cAAnB,GAAoC,YAAY;IAC5C,OAAO,GAAGnH,KAAH,CAASC,IAAT,CAAc,KAAKrG,OAAL,CAAakF,gBAAb,CAA8B,MAAM9F,GAAG,CAACoO,kBAAV,GAA+B,SAA/B,GAA2CpO,GAAG,CAACqO,sBAA/C,GAAwE,MAAtG,CAAd,CAAP;EACH,CAFD;;EAGAlO,QAAQ,CAACE,SAAT,CAAmBiO,WAAnB,GAAiC,UAAUpJ,OAAV,EAAmB;IAChD,IAAI,KAAK5E,cAAL,EAAJ,EAA2B;MACvB,IAAIiO,WAAW,GAAG,KAAKJ,cAAL,EAAlB;MACA,IAAIK,WAAW,GAAG,KAAK5N,OAAL,CAAaC,aAAb,CAA2B,MAAMb,GAAG,CAACyO,mBAAV,GAAgC,QAA3D,CAAlB;MACA,IAAIC,UAAU,GAAIF,WAAW,CAACG,qBAAZ,GAAoCC,KAApC,IAA6CL,WAAW,CAACzK,MAAZ,GAAqB,CAAlE,CAAlB;MACAyK,WAAW,CAACM,OAAZ,CAAoB,UAAUC,GAAV,EAAe;QAAE,OAAOlP,iBAAiB,CAACkP,GAAD,EAAM;UAAE,SAASjP,UAAU,CAAC6O,UAAD;QAArB,CAAN,CAAxB;MAAqE,CAA1G;;MACA,IAAIxJ,OAAO,CAACC,YAAR,KAAyBD,OAAO,CAACE,YAArC,EAAmD;QAC/C,IAAI2J,cAAc,GAAG,KAAK3O,MAAL,CAAYQ,OAAZ,CAAoBC,aAApB,CAAkC,MAAMb,GAAG,CAACgP,0BAA5C,CAArB;;QACA,IAAI,CAACzP,iBAAiB,CAACwP,cAAD,CAAtB,EAAwC;UACpCnP,iBAAiB,CAACmP,cAAD,EAAiB;YAAE,UAAUlP,UAAU,CAACqF,OAAO,CAACE,YAAT;UAAtB,CAAjB,CAAjB;QACH;MACJ;;MACD,IAAI6J,QAAQ,GAAG,MAAMjP,GAAG,CAACkP,kBAAV,GAA+B,IAA/B,GAAsClP,GAAG,CAACmP,eAA1C,GAA4D,IAA5D,GAAmEnP,GAAG,CAACoP,uBAAvE,GAAiG,IAAjG,GAAwGpP,GAAG,CAACqP,wBAA5G,GAAuI,IAAvI,GAA8IrP,GAAG,CAACsP,uBAAjK;MACA,IAAIC,kBAAkB,GAAG,GAAGvI,KAAH,CAASC,IAAT,CAAc,KAAKrG,OAAL,CAAakF,gBAAb,CAA8BmJ,QAA9B,CAAd,CAAzB;MACAM,kBAAkB,CAACV,OAAnB,CAA2B,UAAUW,GAAV,EAAe;QACtC,IAAI/K,OAAO,GAAGlF,iBAAiB,CAACiQ,GAAG,CAAC/I,YAAJ,CAAiB,SAAjB,CAAD,CAAjB,GAAiD,GAAjD,GAAuD+I,GAAG,CAAC/I,YAAJ,CAAiB,SAAjB,CAArE;QACA,IAAIgJ,iBAAiB,GAAGjJ,QAAQ,CAAC/B,OAAD,EAAU,EAAV,CAAhC;QACA7E,iBAAiB,CAAC4P,GAAD,EAAM;UAAE,SAAS3P,UAAU,CAAC6O,UAAU,GAAGe,iBAAd;QAArB,CAAN,CAAjB;MACH,CAJD;IAKH;EACJ,CApBD;;EAqBAtP,QAAQ,CAACE,SAAT,CAAmBqP,aAAnB,GAAmC,YAAY;IAC3C,IAAInB,WAAW,GAAG,KAAKJ,cAAL,EAAlB;;IACA,KAAK,IAAI9H,EAAE,GAAG,CAAT,EAAYsJ,aAAa,GAAGpB,WAAjC,EAA8ClI,EAAE,GAAGsJ,aAAa,CAAC7L,MAAjE,EAAyEuC,EAAE,EAA3E,EAA+E;MAC3E,IAAIyI,GAAG,GAAGa,aAAa,CAACtJ,EAAD,CAAvB;MACAyI,GAAG,CAACjI,KAAJ,CAAU+H,KAAV,GAAkB,EAAlB;IACH;EACJ,CAND;;EAOAzO,QAAQ,CAACE,SAAT,CAAmBuP,qBAAnB,GAA2C,YAAY;IACnD,OAAO,KAAKhP,OAAL,CAAaC,aAAb,CAA2B,MAAMb,GAAG,CAACoO,kBAArC,CAAP;EACH,CAFD;;EAGAjO,QAAQ,CAACE,SAAT,CAAmBwP,4BAAnB,GAAkD,YAAY;IAC1D,IAAI,KAAKzP,MAAL,CAAYc,YAAZ,IAA4B,KAAKd,MAAL,CAAYc,YAAZ,CAAyB4O,kBAAzB,CAA4ChM,MAA5C,GAAqD,CAArF,EAAwF;MACpF,IAAIiM,SAAS,GAAG,GAAG/I,KAAH,CAASC,IAAT,CAAc,KAAKrG,OAAL,CAAakF,gBAAb,CAA8B,MAAM9F,GAAG,CAACgQ,wBAAxC,CAAd,CAAhB;;MACA,KAAK,IAAI3J,EAAE,GAAG,CAAT,EAAY4J,WAAW,GAAGF,SAA/B,EAA0C1J,EAAE,GAAG4J,WAAW,CAACnM,MAA3D,EAAmEuC,EAAE,EAArE,EAAyE;QACrE,IAAI6J,IAAI,GAAGD,WAAW,CAAC5J,EAAD,CAAtB;QACAvG,YAAY,CAACqQ,WAAb,CAAyBD,IAAzB;QACApQ,YAAY,CAACsQ,GAAb,CAAiBF,IAAjB,EAAuB,OAAvB,EAAgC,KAAK9P,MAAL,CAAYc,YAAZ,CAAyBmP,eAAzD,EAA0E,KAAKjQ,MAAL,CAAYc,YAAtF;MACH;IACJ;EACJ,CATD;;EAUAf,QAAQ,CAACE,SAAT,CAAmBiQ,YAAnB,GAAkC,UAAUC,UAAV,EAAsB;IACpD,IAAI,CAAC,OAAD,EAAU,eAAV,EAA2B/P,OAA3B,CAAmC,KAAKJ,MAAL,CAAYG,WAA/C,MAAgE,CAAC,CAAjE,IAAsEhB,iBAAiB,CAACgR,UAAD,CAA3F,EAAyG;MACrG;IACH;;IACD,IAAIC,UAAU,GAAG,KAAKZ,qBAAL,EAAjB;IACA,IAAIa,MAAM,GAAG,IAAIrH,IAAJ,CAASlJ,IAAI,CAACsK,SAAL,CAAe,IAAIpB,IAAJ,CAAS,CAACmH,UAAV,CAAf,EAAsCvO,OAAtC,EAAT,EAA0DA,OAA1D,EAAb;IACA,IAAI0O,WAAW,GAAGF,UAAU,CAAC3P,aAAX,CAAyB,MAAMb,GAAG,CAAC2Q,gBAAV,GAA6B,eAA7B,GAA+CF,MAA/C,GAAwD,KAAjF,CAAlB;;IACA,IAAI,KAAKrQ,MAAL,CAAYG,WAAZ,KAA4B,OAA5B,IAAuCmQ,WAA3C,EAAwD;MACpDF,UAAU,CAACI,SAAX,GAAuBF,WAAW,CAACG,SAAnC;IACH;;IACD,IAAI,KAAKzQ,MAAL,CAAYG,WAAZ,KAA4B,eAA5B,IAA+CmQ,WAAnD,EAAgE;MAC5D,IAAI,CAAC,KAAKtQ,MAAL,CAAYgH,SAAjB,EAA4B;QACxBoJ,UAAU,CAAC/K,UAAX,GAAwBiL,WAAW,CAACI,UAApC;MACH,CAFD,MAGK;QACDN,UAAU,CAAC/K,UAAX,GAAwB,EAAE,KAAKrF,MAAL,CAAY2Q,eAAZ,GAA8BlL,WAA9B,GAA4C6K,WAAW,CAACI,UAAxD,GAAqEJ,WAAW,CAAC7K,WAAnF,CAAxB;MACH;IACJ;EACJ,CAlBD;;EAmBA1F,QAAQ,CAACE,SAAT,CAAmB2Q,cAAnB,GAAoC,YAAY;IAC5C,IAAI,KAAK5Q,MAAL,CAAY6Q,iBAAhB,EAAmC;MAC/B,IAAIC,WAAW,GAAG,KAAKtQ,OAAL,CAAaC,aAAb,CAA2B,iBAA3B,CAAlB;;MACA,IAAI,CAACtB,iBAAiB,CAAC2R,WAAD,CAAtB,EAAqC;QACjC,KAAK9Q,MAAL,CAAYqF,UAAZ,GAAyByL,WAAW,CAACzL,UAArC;QACA,KAAKrF,MAAL,CAAYwQ,SAAZ,GAAwBM,WAAW,CAACN,SAApC;MACH;IACJ;EACJ,CARD;;EASAzQ,QAAQ,CAACE,SAAT,CAAmB8Q,oBAAnB,GAA0C,YAAY;IAClD,IAAI,KAAK/Q,MAAL,CAAY6Q,iBAAhB,EAAmC;MAC/B,IAAIG,OAAO,GAAG,KAAKhR,MAAL,CAAYQ,OAAZ,CAAoBC,aAApB,CAAkC,iBAAlC,CAAd;;MACA,IAAI,CAACtB,iBAAiB,CAAC6R,OAAD,CAAlB,IAA+B,CAAC7R,iBAAiB,CAAC,KAAKa,MAAL,CAAYqF,UAAb,CAAjD,IAA6E,CAAClG,iBAAiB,CAAC,KAAKa,MAAL,CAAYwQ,SAAb,CAAnG,EAA4H;QACxHQ,OAAO,CAACR,SAAR,GAAoB,KAAKxQ,MAAL,CAAYwQ,SAAhC;QACAQ,OAAO,CAAC3L,UAAR,GAAqB,KAAKrF,MAAL,CAAYqF,UAAjC;MACH;IACJ;EACJ,CARD;;EASAtF,QAAQ,CAACE,SAAT,CAAmBgR,gBAAnB,GAAsC,YAAY;IAC9C,IAAIvI,SAAS,GAAG,KAAKN,WAAL,CAAiB,CAAjB,CAAhB;;IACA,IAAI,KAAKpI,MAAL,CAAY8B,iBAAZ,CAA8B0B,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAvD,IAA4D,KAAK1D,MAAL,CAAYc,YAAZ,CAAyB2M,iBAAzB,CAA2C/J,MAA3C,GAAoD,CAApH,EAAuH;MACnHgF,SAAS,GAAG,KAAK1I,MAAL,CAAYc,YAAZ,CAAyBoQ,sBAAzB,GAAkD,CAAlD,CAAZ;IACH;;IACD,OAAOxI,SAAP;EACH,CAND;;EAOA3I,QAAQ,CAACE,SAAT,CAAmBkR,cAAnB,GAAoC,YAAY;IAC5C,IAAIxI,OAAO,GAAG7I,IAAI,CAAC8I,OAAL,CAAa,KAAKR,WAAL,CAAiB,KAAKA,WAAL,CAAiB1E,MAAjB,GAA0B,CAA3C,CAAb,EAA4D,CAA5D,CAAd;;IACA,IAAI,KAAK1D,MAAL,CAAY8B,iBAAZ,CAA8B0B,KAA9B,CAAoCC,SAApC,CAA8CC,MAA9C,GAAuD,CAAvD,IAA4D,KAAK1D,MAAL,CAAYc,YAAZ,CAAyB2M,iBAAzB,CAA2C/J,MAA3C,GAAoD,CAApH,EAAuH;MACnHiF,OAAO,GAAG7I,IAAI,CAAC8I,OAAL,CAAa,KAAK5I,MAAL,CAAYc,YAAZ,CAAyBoQ,sBAAzB,GAAkDtK,KAAlD,CAAwD,CAAC,CAAzD,EAA4D,CAA5D,CAAb,EAA6E,CAA7E,CAAV;IACH;;IACD,OAAO+B,OAAP;EACH,CAND;;EAOA5I,QAAQ,CAACE,SAAT,CAAmBmR,OAAnB,GAA6B,YAAY;IACrC,IAAI,KAAK5Q,OAAL,IAAgB,KAAKA,OAAL,CAAa6Q,UAAjC,EAA6C;MACzC1R,MAAM,CAAC,KAAKa,OAAN,CAAN;IACH;;IACD,KAAKA,OAAL,GAAe,IAAf;IACA,KAAK4H,WAAL,GAAmB,IAAnB;IACA,KAAKI,SAAL,GAAiB,IAAjB;EACH,CAPD;;EAQA,OAAOzI,QAAP;AACH,CAjhB6B,EAA9B;;AAkhBA,SAASA,QAAT"},"metadata":{},"sourceType":"module"}